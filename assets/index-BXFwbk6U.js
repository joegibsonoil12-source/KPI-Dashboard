(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var TI={exports:{}},gm={},CI={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),v6=Symbol.for("react.portal"),x6=Symbol.for("react.fragment"),y6=Symbol.for("react.strict_mode"),b6=Symbol.for("react.profiler"),w6=Symbol.for("react.provider"),S6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),k6=Symbol.for("react.suspense"),A6=Symbol.for("react.memo"),E6=Symbol.for("react.lazy"),t2=Symbol.iterator;function T6(t){return t===null||typeof t!="object"?null:(t=t2&&t[t2]||t["@@iterator"],typeof t=="function"?t:null)}var OI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PI=Object.assign,II={};function mu(t,e,r){this.props=t,this.context=e,this.refs=II,this.updater=r||OI}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NI(){}NI.prototype=mu.prototype;function Lw(t,e,r){this.props=t,this.context=e,this.refs=II,this.updater=r||OI}var Bw=Lw.prototype=new NI;Bw.constructor=Lw;PI(Bw,mu.prototype);Bw.isPureReactComponent=!0;var r2=Array.isArray,FI=Object.prototype.hasOwnProperty,$w={current:null},jI={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)FI.call(e,n)&&!jI.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ad,type:t,key:i,ref:s,props:a,_owner:$w.current}}function C6(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function O6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var n2=/\/+/g;function Rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O6(""+t.key):e.toString(36)}function ap(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ad:case v6:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+Rv(s,0):n,r2(a)?(r="",t!=null&&(r=t.replace(n2,"$&/")+"/"),ap(a,e,r,"",function(c){return c})):a!=null&&(zw(a)&&(a=C6(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(n2,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",r2(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Rv(i,o);s+=ap(i,e,r,l,a)}else if(l=T6(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Rv(i,o++),s+=ap(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function s0(t,e,r){if(t==null)return t;var n=[],a=0;return ap(t,n,"","",function(i){return e.call(r,i,a++)}),n}function P6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},ip={transition:null},I6={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:ip,ReactCurrentOwner:$w};function DI(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:s0,forEach:function(t,e,r){s0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return s0(t,function(){e++}),e},toArray:function(t){return s0(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=mu;dt.Fragment=x6;dt.Profiler=b6;dt.PureComponent=Lw;dt.StrictMode=y6;dt.Suspense=k6;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;dt.act=DI;dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=PI({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=$w.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)FI.call(e,l)&&!jI.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ad,type:t.type,key:a,ref:i,props:n,_owner:s}};dt.createContext=function(t){return t={$$typeof:S6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w6,_context:t},t.Consumer=t};dt.createElement=MI;dt.createFactory=function(t){var e=MI.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:_6,render:t}};dt.isValidElement=zw;dt.lazy=function(t){return{$$typeof:E6,_payload:{_status:-1,_result:t},_init:P6}};dt.memo=function(t,e){return{$$typeof:A6,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=ip.transition;ip.transition={};try{t()}finally{ip.transition=e}};dt.unstable_act=DI;dt.useCallback=function(t,e){return In.current.useCallback(t,e)};dt.useContext=function(t){return In.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return In.current.useDeferredValue(t)};dt.useEffect=function(t,e){return In.current.useEffect(t,e)};dt.useId=function(){return In.current.useId()};dt.useImperativeHandle=function(t,e,r){return In.current.useImperativeHandle(t,e,r)};dt.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return In.current.useMemo(t,e)};dt.useReducer=function(t,e,r){return In.current.useReducer(t,e,r)};dt.useRef=function(t){return In.current.useRef(t)};dt.useState=function(t){return In.current.useState(t)};dt.useSyncExternalStore=function(t,e,r){return In.current.useSyncExternalStore(t,e,r)};dt.useTransition=function(){return In.current.useTransition()};dt.version="18.3.1";CI.exports=dt;var U=CI.exports;const ae=Lt(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6=U,F6=Symbol.for("react.element"),j6=Symbol.for("react.fragment"),M6=Object.prototype.hasOwnProperty,D6=N6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R6={key:!0,ref:!0,__self:!0,__source:!0};function RI(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)M6.call(e,n)&&!R6.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:F6,type:t,key:i,ref:s,props:a,_owner:D6.current}}gm.Fragment=j6;gm.jsx=RI;gm.jsxs=RI;TI.exports=gm;var x=TI.exports,Oy={},LI={exports:{}},la={},BI={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,I){var X=H.length;H.push(I);e:for(;0<X;){var K=X-1>>>1,P=H[K];if(0<a(P,I))H[K]=I,H[X]=P,X=K;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var I=H[0],X=H.pop();if(X!==I){H[0]=X;e:for(var K=0,P=H.length,Y=P>>>1;K<Y;){var B=2*(K+1)-1,G=H[B],te=B+1,oe=H[te];if(0>a(G,X))te<P&&0>a(oe,G)?(H[K]=oe,H[te]=X,K=te):(H[K]=G,H[B]=X,K=B);else if(te<P&&0>a(oe,X))H[K]=oe,H[te]=X,K=te;else break e}}return I}function a(H,I){var X=H.sortIndex-I.sortIndex;return X!==0?X:H.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,g=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=H)n(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(c)}}function S(H){if(p=!1,b(H),!g)if(r(l)!==null)g=!0,F(w);else{var I=r(c);I!==null&&L(S,I.startTime-H)}}function w(H,I){g=!1,p&&(p=!1,v(A),A=-1),d=!0;var X=h;try{for(b(I),f=r(l);f!==null&&(!(f.expirationTime>I)||H&&!T());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var P=K(f.expirationTime<=I);I=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),b(I)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var B=r(c);B!==null&&L(S,B.startTime-I),Y=!1}return Y}finally{f=null,h=X,d=!1}}var _=!1,k=null,A=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function O(){if(k!==null){var H=t.unstable_now();C=H;var I=!0;try{I=k(!0,H)}finally{I?N():(_=!1,k=null)}}else _=!1}var N;if(typeof y=="function")N=function(){y(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=O,N=function(){W.postMessage(null)}}else N=function(){m(O,0)};function F(H){k=H,_||(_=!0,N())}function L(H,I){A=m(function(){H(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,F(w))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var X=h;h=I;try{return H()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=h;h=H;try{return I()}finally{h=X}},t.unstable_scheduleCallback=function(H,I,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=X+P,H={id:u++,callback:I,priorityLevel:H,startTime:X,expirationTime:P,sortIndex:-1},X>K?(H.sortIndex=X,e(c,H),r(l)===null&&H===r(c)&&(p?(v(A),A=-1):p=!0,L(S,X-K))):(H.sortIndex=P,e(l,H),g||d||(g=!0,F(w))),H},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(H){var I=h;return function(){var X=h;h=I;try{return H.apply(this,arguments)}finally{h=X}}}})($I);BI.exports=$I;var L6=BI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B6=U,ia=L6;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zI=new Set,ih={};function bl(t,e){Ic(t,e),Ic(t+"Capture",e)}function Ic(t,e){for(ih[t]=e,t=0;t<e.length;t++)zI.add(e[t])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=Object.prototype.hasOwnProperty,$6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a2={},i2={};function z6(t){return Py.call(i2,t)?!0:Py.call(a2,t)?!1:$6.test(t)?i2[t]=!0:(a2[t]=!0,!1)}function W6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U6(t,e,r,n){if(e===null||typeof e>"u"||W6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Uw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Uw);en[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Uw);en[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Uw);en[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hw(t,e,r,n){var a=en.hasOwnProperty(e)?en[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U6(e,r,a,n)&&(r=null),n||a===null?z6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ls=B6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o0=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Ny=Symbol.for("react.suspense"),Fy=Symbol.for("react.suspense_list"),Vw=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),HI=Symbol.for("react.offscreen"),s2=Symbol.iterator;function Gu(t){return t===null||typeof t!="object"?null:(t=s2&&t[s2]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,Lv;function Sf(t){if(Lv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Lv=e&&e[1]||""}return`
`+Lv+t}var Bv=!1;function $v(t,e){if(!t||Bv)return"";Bv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Bv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sf(t):""}function H6(t){switch(t.tag){case 5:return Sf(t.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return t=$v(t.type,!1),t;case 11:return t=$v(t.type.render,!1),t;case 1:return t=$v(t.type,!0),t;default:return""}}function jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tc:return"Fragment";case ec:return"Portal";case Iy:return"Profiler";case Xw:return"StrictMode";case Ny:return"Suspense";case Fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UI:return(t.displayName||"Context")+".Consumer";case WI:return(t._context.displayName||"Context")+".Provider";case Yw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vw:return e=t.displayName||null,e!==null?e:jy(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return jy(t(e))}catch{}}return null}function X6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jy(e);case 8:return e===Xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y6(t){var e=XI(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l0(t){t._valueTracker||(t._valueTracker=Y6(t))}function YI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=XI(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function My(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function o2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ks(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VI(t,e){e=e.checked,e!=null&&Hw(t,"checked",e,!1)}function Dy(t,e){VI(t,e);var r=Ks(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ry(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ry(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ry(t,e,r){(e!=="number"||Sp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _f=Array.isArray;function vc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ks(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Ly(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(_f(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ks(r)}}function GI(t,e){var r=Ks(e.value),n=Ks(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function u2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function By(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c0,KI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c0=c0||document.createElement("div"),c0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V6=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(t){V6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nf[e]=Nf[t]})});function JI(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nf.hasOwnProperty(t)&&Nf[t]?(""+e).trim():e+"px"}function ZI(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=JI(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var G6=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $y(t,e){if(e){if(G6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function zy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=null;function Gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uy=null,xc=null,yc=null;function f2(t){if(t=Cd(t)){if(typeof Uy!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=bm(e),Uy(t.stateNode,t.type,e))}}function QI(t){xc?yc?yc.push(t):yc=[t]:xc=t}function eN(){if(xc){var t=xc,e=yc;if(yc=xc=null,f2(t),e)for(t=0;t<e.length;t++)f2(e[t])}}function tN(t,e){return t(e)}function rN(){}var zv=!1;function nN(t,e,r){if(zv)return t(e,r);zv=!0;try{return tN(t,e,r)}finally{zv=!1,(xc!==null||yc!==null)&&(rN(),eN())}}function oh(t,e){var r=t.stateNode;if(r===null)return null;var n=bm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var Hy=!1;if(Zi)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){Hy=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Hy=!1}function q6(t,e,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Ff=!1,_p=null,kp=!1,Xy=null,K6={onError:function(t){Ff=!0,_p=t}};function J6(t,e,r,n,a,i,s,o,l){Ff=!1,_p=null,q6.apply(K6,arguments)}function Z6(t,e,r,n,a,i,s,o,l){if(J6.apply(this,arguments),Ff){if(Ff){var c=_p;Ff=!1,_p=null}else throw Error(ke(198));kp||(kp=!0,Xy=c)}}function wl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function aN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h2(t){if(wl(t)!==t)throw Error(ke(188))}function Q6(t){var e=t.alternate;if(!e){if(e=wl(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h2(a),t;if(i===n)return h2(a),e;i=i.sibling}throw Error(ke(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function iN(t){return t=Q6(t),t!==null?sN(t):null}function sN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sN(t);if(e!==null)return e;t=t.sibling}return null}var oN=ia.unstable_scheduleCallback,d2=ia.unstable_cancelCallback,eB=ia.unstable_shouldYield,tB=ia.unstable_requestPaint,mr=ia.unstable_now,rB=ia.unstable_getCurrentPriorityLevel,qw=ia.unstable_ImmediatePriority,lN=ia.unstable_UserBlockingPriority,Ap=ia.unstable_NormalPriority,nB=ia.unstable_LowPriority,cN=ia.unstable_IdlePriority,mm=null,wi=null;function aB(t){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:oB,iB=Math.log,sB=Math.LN2;function oB(t){return t>>>=0,t===0?32:31-(iB(t)/sB|0)|0}var u0=64,f0=4194304;function kf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ep(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=kf(o):(i&=s,i!==0&&(n=kf(i)))}else s=r&~a,s!==0?n=kf(s):i!==0&&(n=kf(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ni(e),a=1<<r,n|=t[r],e&=~a;return n}function lB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cB(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-ni(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=lB(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Yy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uN(){var t=u0;return u0<<=1,!(u0&4194240)&&(u0=64),t}function Wv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ed(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ni(e),t[e]=r}function uB(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ni(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Kw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ni(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Nt=0;function fN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hN,Jw,dN,pN,gN,Vy=!1,h0=[],Bs=null,$s=null,zs=null,lh=new Map,ch=new Map,Cs=[],fB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p2(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(e.pointerId)}}function Ku(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Cd(e),e!==null&&Jw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function hB(t,e,r,n,a){switch(e){case"focusin":return Bs=Ku(Bs,t,e,r,n,a),!0;case"dragenter":return $s=Ku($s,t,e,r,n,a),!0;case"mouseover":return zs=Ku(zs,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return lh.set(i,Ku(lh.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ch.set(i,Ku(ch.get(i)||null,t,e,r,n,a)),!0}return!1}function mN(t){var e=Mo(t.target);if(e!==null){var r=wl(e);if(r!==null){if(e=r.tag,e===13){if(e=aN(r),e!==null){t.blockedOn=e,gN(t.priority,function(){dN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Wy=n,r.target.dispatchEvent(n),Wy=null}else return e=Cd(r),e!==null&&Jw(e),t.blockedOn=r,!1;e.shift()}return!0}function g2(t,e,r){sp(t)&&r.delete(e)}function dB(){Vy=!1,Bs!==null&&sp(Bs)&&(Bs=null),$s!==null&&sp($s)&&($s=null),zs!==null&&sp(zs)&&(zs=null),lh.forEach(g2),ch.forEach(g2)}function Ju(t,e){t.blockedOn===e&&(t.blockedOn=null,Vy||(Vy=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,dB)))}function uh(t){function e(a){return Ju(a,t)}if(0<h0.length){Ju(h0[0],t);for(var r=1;r<h0.length;r++){var n=h0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bs!==null&&Ju(Bs,t),$s!==null&&Ju($s,t),zs!==null&&Ju(zs,t),lh.forEach(e),ch.forEach(e),r=0;r<Cs.length;r++)n=Cs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cs.length&&(r=Cs[0],r.blockedOn===null);)mN(r),r.blockedOn===null&&Cs.shift()}var bc=ls.ReactCurrentBatchConfig,Tp=!0;function pB(t,e,r,n){var a=Nt,i=bc.transition;bc.transition=null;try{Nt=1,Zw(t,e,r,n)}finally{Nt=a,bc.transition=i}}function gB(t,e,r,n){var a=Nt,i=bc.transition;bc.transition=null;try{Nt=4,Zw(t,e,r,n)}finally{Nt=a,bc.transition=i}}function Zw(t,e,r,n){if(Tp){var a=Gy(t,e,r,n);if(a===null)Zv(t,e,n,Cp,r),p2(t,n);else if(hB(a,t,e,r,n))n.stopPropagation();else if(p2(t,n),e&4&&-1<fB.indexOf(t)){for(;a!==null;){var i=Cd(a);if(i!==null&&hN(i),i=Gy(t,e,r,n),i===null&&Zv(t,e,n,Cp,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Zv(t,e,n,null,r)}}var Cp=null;function Gy(t,e,r,n){if(Cp=null,t=Gw(n),t=Mo(t),t!==null)if(e=wl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=aN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cp=t,null}function vN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rB()){case qw:return 1;case lN:return 4;case Ap:case nB:return 16;case cN:return 536870912;default:return 16}default:return 16}}var Fs=null,Qw=null,op=null;function xN(){if(op)return op;var t,e=Qw,r=e.length,n,a="value"in Fs?Fs.value:Fs.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return op=a.slice(t,1<n?1-n:void 0)}function lp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function d0(){return!0}function m2(){return!1}function ca(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?d0:m2,this.isPropagationStopped=m2,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=d0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=d0)},persist:function(){},isPersistent:d0}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eS=ca(vu),Td=sr({},vu,{view:0,detail:0}),mB=ca(Td),Uv,Hv,Zu,vm=sr({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zu&&(Zu&&t.type==="mousemove"?(Uv=t.screenX-Zu.screenX,Hv=t.screenY-Zu.screenY):Hv=Uv=0,Zu=t),Uv)},movementY:function(t){return"movementY"in t?t.movementY:Hv}}),v2=ca(vm),vB=sr({},vm,{dataTransfer:0}),xB=ca(vB),yB=sr({},Td,{relatedTarget:0}),Xv=ca(yB),bB=sr({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),wB=ca(bB),SB=sr({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_B=ca(SB),kB=sr({},vu,{data:0}),x2=ca(kB),AB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TB[t])?!!e[t]:!1}function tS(){return CB}var OB=sr({},Td,{key:function(t){if(t.key){var e=AB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tS,charCode:function(t){return t.type==="keypress"?lp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PB=ca(OB),IB=sr({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y2=ca(IB),NB=sr({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tS}),FB=ca(NB),jB=sr({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),MB=ca(jB),DB=sr({},vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RB=ca(DB),LB=[9,13,27,32],rS=Zi&&"CompositionEvent"in window,jf=null;Zi&&"documentMode"in document&&(jf=document.documentMode);var BB=Zi&&"TextEvent"in window&&!jf,yN=Zi&&(!rS||jf&&8<jf&&11>=jf),b2=" ",w2=!1;function bN(t,e){switch(t){case"keyup":return LB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function $B(t,e){switch(t){case"compositionend":return wN(e);case"keypress":return e.which!==32?null:(w2=!0,b2);case"textInput":return t=e.data,t===b2&&w2?null:t;default:return null}}function zB(t,e){if(rc)return t==="compositionend"||!rS&&bN(t,e)?(t=xN(),op=Qw=Fs=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yN&&e.locale!=="ko"?null:e.data;default:return null}}var WB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WB[t.type]:e==="textarea"}function SN(t,e,r,n){QI(n),e=Op(e,"onChange"),0<e.length&&(r=new eS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mf=null,fh=null;function UB(t){FN(t,0)}function xm(t){var e=ic(t);if(YI(e))return t}function HB(t,e){if(t==="change")return e}var _N=!1;if(Zi){var Yv;if(Zi){var Vv="oninput"in document;if(!Vv){var _2=document.createElement("div");_2.setAttribute("oninput","return;"),Vv=typeof _2.oninput=="function"}Yv=Vv}else Yv=!1;_N=Yv&&(!document.documentMode||9<document.documentMode)}function k2(){Mf&&(Mf.detachEvent("onpropertychange",kN),fh=Mf=null)}function kN(t){if(t.propertyName==="value"&&xm(fh)){var e=[];SN(e,fh,t,Gw(t)),nN(UB,e)}}function XB(t,e,r){t==="focusin"?(k2(),Mf=e,fh=r,Mf.attachEvent("onpropertychange",kN)):t==="focusout"&&k2()}function YB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(fh)}function VB(t,e){if(t==="click")return xm(e)}function GB(t,e){if(t==="input"||t==="change")return xm(e)}function qB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var li=typeof Object.is=="function"?Object.is:qB;function hh(t,e){if(li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Py.call(e,a)||!li(t[a],e[a]))return!1}return!0}function A2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E2(t,e){var r=A2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=A2(r)}}function AN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EN(){for(var t=window,e=Sp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sp(t.document)}return e}function nS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KB(t){var e=EN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&AN(r.ownerDocument.documentElement,r)){if(n!==null&&nS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=E2(r,i);var s=E2(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JB=Zi&&"documentMode"in document&&11>=document.documentMode,nc=null,qy=null,Df=null,Ky=!1;function T2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ky||nc==null||nc!==Sp(n)||(n=nc,"selectionStart"in n&&nS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Df&&hh(Df,n)||(Df=n,n=Op(qy,"onSelect"),0<n.length&&(e=new eS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nc)))}function p0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ac={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},Gv={},TN={};Zi&&(TN=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function ym(t){if(Gv[t])return Gv[t];if(!ac[t])return t;var e=ac[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in TN)return Gv[t]=e[r];return t}var CN=ym("animationend"),ON=ym("animationiteration"),PN=ym("animationstart"),IN=ym("transitionend"),NN=new Map,C2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){NN.set(t,e),bl(e,[t])}for(var qv=0;qv<C2.length;qv++){var Kv=C2[qv],ZB=Kv.toLowerCase(),QB=Kv[0].toUpperCase()+Kv.slice(1);io(ZB,"on"+QB)}io(CN,"onAnimationEnd");io(ON,"onAnimationIteration");io(PN,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(IN,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Af));function O2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Z6(n,e,void 0,t),t.currentTarget=null}function FN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;O2(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;O2(a,o,c),i=l}}}if(kp)throw t=Xy,kp=!1,Xy=null,t}function Xt(t,e){var r=e[tb];r===void 0&&(r=e[tb]=new Set);var n=t+"__bubble";r.has(n)||(jN(e,t,2,!1),r.add(n))}function Jv(t,e,r){var n=0;e&&(n|=4),jN(r,t,n,e)}var g0="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[g0]){t[g0]=!0,zI.forEach(function(r){r!=="selectionchange"&&(e8.has(r)||Jv(r,!1,t),Jv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[g0]||(e[g0]=!0,Jv("selectionchange",!1,e))}}function jN(t,e,r,n){switch(vN(e)){case 1:var a=pB;break;case 4:a=gB;break;default:a=Zw}r=a.bind(null,e,r,t),a=void 0,!Hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Zv(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Mo(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}nN(function(){var c=i,u=Gw(r),f=[];e:{var h=NN.get(t);if(h!==void 0){var d=eS,g=t;switch(t){case"keypress":if(lp(r)===0)break e;case"keydown":case"keyup":d=PB;break;case"focusin":g="focus",d=Xv;break;case"focusout":g="blur",d=Xv;break;case"beforeblur":case"afterblur":d=Xv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=v2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=FB;break;case CN:case ON:case PN:d=wB;break;case IN:d=MB;break;case"scroll":d=mB;break;case"wheel":d=RB;break;case"copy":case"cut":case"paste":d=_B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=y2}var p=(e&4)!==0,m=!p&&t==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=oh(y,v),S!=null&&p.push(ph(y,S,b)))),m)break;y=y.return}0<p.length&&(h=new d(h,g,null,r,u),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==Wy&&(g=r.relatedTarget||r.fromElement)&&(Mo(g)||g[Qi]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=c,g=g?Mo(g):null,g!==null&&(m=wl(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(p=v2,S="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=y2,S="onPointerLeave",v="onPointerEnter",y="pointer"),m=d==null?h:ic(d),b=g==null?h:ic(g),h=new p(S,y+"leave",d,r,u),h.target=m,h.relatedTarget=b,S=null,Mo(u)===c&&(p=new p(v,y+"enter",g,r,u),p.target=b,p.relatedTarget=m,S=p),m=S,d&&g)t:{for(p=d,v=g,y=0,b=p;b;b=jl(b))y++;for(b=0,S=v;S;S=jl(S))b++;for(;0<y-b;)p=jl(p),y--;for(;0<b-y;)v=jl(v),b--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=jl(p),v=jl(v)}p=null}else p=null;d!==null&&P2(f,h,d,p,!1),g!==null&&m!==null&&P2(f,m,g,p,!0)}}e:{if(h=c?ic(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=HB;else if(S2(h))if(_N)w=GB;else{w=YB;var _=XB}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=VB);if(w&&(w=w(t,c))){SN(f,w,r,u);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Ry(h,"number",h.value)}switch(_=c?ic(c):window,t){case"focusin":(S2(_)||_.contentEditable==="true")&&(nc=_,qy=c,Df=null);break;case"focusout":Df=qy=nc=null;break;case"mousedown":Ky=!0;break;case"contextmenu":case"mouseup":case"dragend":Ky=!1,T2(f,r,u);break;case"selectionchange":if(JB)break;case"keydown":case"keyup":T2(f,r,u)}var k;if(rS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else rc?bN(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(yN&&r.locale!=="ko"&&(rc||A!=="onCompositionStart"?A==="onCompositionEnd"&&rc&&(k=xN()):(Fs=u,Qw="value"in Fs?Fs.value:Fs.textContent,rc=!0)),_=Op(c,A),0<_.length&&(A=new x2(A,t,null,r,u),f.push({event:A,listeners:_}),k?A.data=k:(k=wN(r),k!==null&&(A.data=k)))),(k=BB?$B(t,r):zB(t,r))&&(c=Op(c,"onBeforeInput"),0<c.length&&(u=new x2("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=k))}FN(f,e)})}function ph(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Op(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=oh(t,r),i!=null&&n.unshift(ph(t,i,a)),i=oh(t,e),i!=null&&n.push(ph(t,i,a))),t=t.return}return n}function jl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P2(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=oh(r,i),l!=null&&s.unshift(ph(r,l,o))):a||(l=oh(r,i),l!=null&&s.push(ph(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var t8=/\r\n?/g,r8=/\u0000|\uFFFD/g;function I2(t){return(typeof t=="string"?t:""+t).replace(t8,`
`).replace(r8,"")}function m0(t,e,r){if(e=I2(e),I2(t)!==e&&r)throw Error(ke(425))}function Pp(){}var Jy=null,Zy=null;function Qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eb=typeof setTimeout=="function"?setTimeout:void 0,n8=typeof clearTimeout=="function"?clearTimeout:void 0,N2=typeof Promise=="function"?Promise:void 0,a8=typeof queueMicrotask=="function"?queueMicrotask:typeof N2<"u"?function(t){return N2.resolve(null).then(t).catch(i8)}:eb;function i8(t){setTimeout(function(){throw t})}function Qv(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),uh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);uh(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),xi="__reactFiber$"+xu,gh="__reactProps$"+xu,Qi="__reactContainer$"+xu,tb="__reactEvents$"+xu,s8="__reactListeners$"+xu,o8="__reactHandles$"+xu;function Mo(t){var e=t[xi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qi]||r[xi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=F2(t);t!==null;){if(r=t[xi])return r;t=F2(t)}return e}t=r,r=t.parentNode}return null}function Cd(t){return t=t[xi]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function bm(t){return t[gh]||null}var rb=[],sc=-1;function so(t){return{current:t}}function qt(t){0>sc||(t.current=rb[sc],rb[sc]=null,sc--)}function Ht(t,e){sc++,rb[sc]=t.current,t.current=e}var Js={},vn=so(Js),$n=so(!1),tl=Js;function Nc(t,e){var r=t.type.contextTypes;if(!r)return Js;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function zn(t){return t=t.childContextTypes,t!=null}function Ip(){qt($n),qt(vn)}function j2(t,e,r){if(vn.current!==Js)throw Error(ke(168));Ht(vn,e),Ht($n,r)}function MN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ke(108,X6(t)||"Unknown",a));return sr({},r,n)}function Np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,tl=vn.current,Ht(vn,t),Ht($n,$n.current),!0}function M2(t,e,r){var n=t.stateNode;if(!n)throw Error(ke(169));r?(t=MN(t,e,tl),n.__reactInternalMemoizedMergedChildContext=t,qt($n),qt(vn),Ht(vn,t)):qt($n),Ht($n,r)}var Mi=null,wm=!1,ex=!1;function DN(t){Mi===null?Mi=[t]:Mi.push(t)}function l8(t){wm=!0,DN(t)}function oo(){if(!ex&&Mi!==null){ex=!0;var t=0,e=Nt;try{var r=Mi;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Mi=null,wm=!1}catch(a){throw Mi!==null&&(Mi=Mi.slice(t+1)),oN(qw,oo),a}finally{Nt=e,ex=!1}}return null}var oc=[],lc=0,Fp=null,jp=0,Sa=[],_a=0,rl=null,Di=1,Ri="";function So(t,e){oc[lc++]=jp,oc[lc++]=Fp,Fp=t,jp=e}function RN(t,e,r){Sa[_a++]=Di,Sa[_a++]=Ri,Sa[_a++]=rl,rl=t;var n=Di;t=Ri;var a=32-ni(n)-1;n&=~(1<<a),r+=1;var i=32-ni(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Di=1<<32-ni(e)+a|r<<a|n,Ri=i+t}else Di=1<<i|r<<a|n,Ri=t}function aS(t){t.return!==null&&(So(t,1),RN(t,1,0))}function iS(t){for(;t===Fp;)Fp=oc[--lc],oc[lc]=null,jp=oc[--lc],oc[lc]=null;for(;t===rl;)rl=Sa[--_a],Sa[_a]=null,Ri=Sa[--_a],Sa[_a]=null,Di=Sa[--_a],Sa[_a]=null}var na=null,ra=null,Zt=!1,Ga=null;function LN(t,e){var r=ka(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function D2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,ra=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,ra=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=rl!==null?{id:Di,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ka(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,na=t,ra=null,!0):!1;default:return!1}}function nb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ab(t){if(Zt){var e=ra;if(e){var r=e;if(!D2(t,e)){if(nb(t))throw Error(ke(418));e=Ws(r.nextSibling);var n=na;e&&D2(t,e)?LN(n,r):(t.flags=t.flags&-4097|2,Zt=!1,na=t)}}else{if(nb(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Zt=!1,na=t}}}function R2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function v0(t){if(t!==na)return!1;if(!Zt)return R2(t),Zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qy(t.type,t.memoizedProps)),e&&(e=ra)){if(nb(t))throw BN(),Error(ke(418));for(;e;)LN(t,e),e=Ws(e.nextSibling)}if(R2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ra=Ws(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ra=null}}else ra=na?Ws(t.stateNode.nextSibling):null;return!0}function BN(){for(var t=ra;t;)t=Ws(t.nextSibling)}function Fc(){ra=na=null,Zt=!1}function sS(t){Ga===null?Ga=[t]:Ga.push(t)}var c8=ls.ReactCurrentBatchConfig;function Qu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function x0(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L2(t){var e=t._init;return e(t._payload)}function $N(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Ys(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,S){return y===null||y.tag!==6?(y=ox(b,v.mode,S),y.return=v,y):(y=a(y,b),y.return=v,y)}function l(v,y,b,S){var w=b.type;return w===tc?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ks&&L2(w)===y.type)?(S=a(y,b.props),S.ref=Qu(v,y,b),S.return=v,S):(S=gp(b.type,b.key,b.props,null,v.mode,S),S.ref=Qu(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=lx(b,v.mode,S),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,w){return y===null||y.tag!==7?(y=Vo(b,v.mode,S,w),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ox(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case o0:return b=gp(y.type,y.key,y.props,null,v.mode,b),b.ref=Qu(v,null,y),b.return=v,b;case ec:return y=lx(y,v.mode,b),y.return=v,y;case ks:var S=y._init;return f(v,S(y._payload),b)}if(_f(y)||Gu(y))return y=Vo(y,v.mode,b,null),y.return=v,y;x0(v,y)}return null}function h(v,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case o0:return b.key===w?l(v,y,b,S):null;case ec:return b.key===w?c(v,y,b,S):null;case ks:return w=b._init,h(v,y,w(b._payload),S)}if(_f(b)||Gu(b))return w!==null?null:u(v,y,b,S,null);x0(v,b)}return null}function d(v,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,o(y,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case o0:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,w);case ec:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,w);case ks:var _=S._init;return d(v,y,b,_(S._payload),w)}if(_f(S)||Gu(S))return v=v.get(b)||null,u(y,v,S,w,null);x0(y,S)}return null}function g(v,y,b,S){for(var w=null,_=null,k=y,A=y=0,E=null;k!==null&&A<b.length;A++){k.index>A?(E=k,k=null):E=k.sibling;var C=h(v,k,b[A],S);if(C===null){k===null&&(k=E);break}t&&k&&C.alternate===null&&e(v,k),y=i(C,y,A),_===null?w=C:_.sibling=C,_=C,k=E}if(A===b.length)return r(v,k),Zt&&So(v,A),w;if(k===null){for(;A<b.length;A++)k=f(v,b[A],S),k!==null&&(y=i(k,y,A),_===null?w=k:_.sibling=k,_=k);return Zt&&So(v,A),w}for(k=n(v,k);A<b.length;A++)E=d(k,v,A,b[A],S),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?A:E.key),y=i(E,y,A),_===null?w=E:_.sibling=E,_=E);return t&&k.forEach(function(T){return e(v,T)}),Zt&&So(v,A),w}function p(v,y,b,S){var w=Gu(b);if(typeof w!="function")throw Error(ke(150));if(b=w.call(b),b==null)throw Error(ke(151));for(var _=w=null,k=y,A=y=0,E=null,C=b.next();k!==null&&!C.done;A++,C=b.next()){k.index>A?(E=k,k=null):E=k.sibling;var T=h(v,k,C.value,S);if(T===null){k===null&&(k=E);break}t&&k&&T.alternate===null&&e(v,k),y=i(T,y,A),_===null?w=T:_.sibling=T,_=T,k=E}if(C.done)return r(v,k),Zt&&So(v,A),w;if(k===null){for(;!C.done;A++,C=b.next())C=f(v,C.value,S),C!==null&&(y=i(C,y,A),_===null?w=C:_.sibling=C,_=C);return Zt&&So(v,A),w}for(k=n(v,k);!C.done;A++,C=b.next())C=d(k,v,A,C.value,S),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?A:C.key),y=i(C,y,A),_===null?w=C:_.sibling=C,_=C);return t&&k.forEach(function(O){return e(v,O)}),Zt&&So(v,A),w}function m(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===tc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case o0:e:{for(var w=b.key,_=y;_!==null;){if(_.key===w){if(w=b.type,w===tc){if(_.tag===7){r(v,_.sibling),y=a(_,b.props.children),y.return=v,v=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ks&&L2(w)===_.type){r(v,_.sibling),y=a(_,b.props),y.ref=Qu(v,_,b),y.return=v,v=y;break e}r(v,_);break}else e(v,_);_=_.sibling}b.type===tc?(y=Vo(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=gp(b.type,b.key,b.props,null,v.mode,S),S.ref=Qu(v,y,b),S.return=v,v=S)}return s(v);case ec:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=lx(b,v.mode,S),y.return=v,v=y}return s(v);case ks:return _=b._init,m(v,y,_(b._payload),S)}if(_f(b))return g(v,y,b,S);if(Gu(b))return p(v,y,b,S);x0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=ox(b,v.mode,S),y.return=v,v=y),s(v)):r(v,y)}return m}var jc=$N(!0),zN=$N(!1),Mp=so(null),Dp=null,cc=null,oS=null;function lS(){oS=cc=Dp=null}function cS(t){var e=Mp.current;qt(Mp),t._currentValue=e}function ib(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function wc(t,e){Dp=t,oS=cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function Na(t){var e=t._currentValue;if(oS!==t)if(t={context:t,memoizedValue:e,next:null},cc===null){if(Dp===null)throw Error(ke(308));cc=t,Dp.dependencies={lanes:0,firstContext:t}}else cc=cc.next=t;return e}var Do=null;function uS(t){Do===null?Do=[t]:Do.push(t)}function WN(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,uS(e)):(r.next=a.next,a.next=r),e.interleaved=r,es(t,n)}function es(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var As=!1;function fS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,es(t,r)}return a=n.interleaved,a===null?(e.next=e,uS(n)):(e.next=a.next,a.next=e),n.interleaved=e,es(t,r)}function cp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Kw(t,r)}}function B2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rp(t,e,r,n){var a=t.updateQueue;As=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(h=e,d=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=sr({},f,h);break e;case 2:As=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);al|=s,t.lanes=s,t.memoizedState=f}}function $2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ke(191,a));a.call(n)}}}var Od={},Si=so(Od),mh=so(Od),vh=so(Od);function Ro(t){if(t===Od)throw Error(ke(174));return t}function hS(t,e){switch(Ht(vh,e),Ht(mh,t),Ht(Si,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:By(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=By(e,t)}qt(Si),Ht(Si,e)}function Mc(){qt(Si),qt(mh),qt(vh)}function HN(t){Ro(vh.current);var e=Ro(Si.current),r=By(e,t.type);e!==r&&(Ht(mh,t),Ht(Si,r))}function dS(t){mh.current===t&&(qt(Si),qt(mh))}var rr=so(0);function Lp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tx=[];function pS(){for(var t=0;t<tx.length;t++)tx[t]._workInProgressVersionPrimary=null;tx.length=0}var up=ls.ReactCurrentDispatcher,rx=ls.ReactCurrentBatchConfig,nl=0,ir=null,Ir=null,$r=null,Bp=!1,Rf=!1,xh=0,u8=0;function nn(){throw Error(ke(321))}function gS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!li(t[r],e[r]))return!1;return!0}function mS(t,e,r,n,a,i){if(nl=i,ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,up.current=t===null||t.memoizedState===null?p8:g8,t=r(n,a),Rf){i=0;do{if(Rf=!1,xh=0,25<=i)throw Error(ke(301));i+=1,$r=Ir=null,e.updateQueue=null,up.current=m8,t=r(n,a)}while(Rf)}if(up.current=$p,e=Ir!==null&&Ir.next!==null,nl=0,$r=Ir=ir=null,Bp=!1,e)throw Error(ke(300));return t}function vS(){var t=xh!==0;return xh=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?ir.memoizedState=$r=t:$r=$r.next=t,$r}function Fa(){if(Ir===null){var t=ir.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=$r===null?ir.memoizedState:$r.next;if(e!==null)$r=e,Ir=t;else{if(t===null)throw Error(ke(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},$r===null?ir.memoizedState=$r=t:$r=$r.next=t}return $r}function yh(t,e){return typeof e=="function"?e(t):e}function nx(t){var e=Fa(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=Ir,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((nl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,ir.lanes|=u,al|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,li(n,e.memoizedState)||(Ln=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,ir.lanes|=i,al|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ax(t){var e=Fa(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);li(i,e.memoizedState)||(Ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function XN(){}function YN(t,e){var r=ir,n=Fa(),a=e(),i=!li(n.memoizedState,a);if(i&&(n.memoizedState=a,Ln=!0),n=n.queue,xS(qN.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||$r!==null&&$r.memoizedState.tag&1){if(r.flags|=2048,bh(9,GN.bind(null,r,n,a,e),void 0,null),Ur===null)throw Error(ke(349));nl&30||VN(r,e,a)}return a}function VN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function GN(t,e,r,n){e.value=r,e.getSnapshot=n,KN(e)&&JN(t)}function qN(t,e,r){return r(function(){KN(e)&&JN(t)})}function KN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!li(t,r)}catch{return!0}}function JN(t){var e=es(t,1);e!==null&&ai(e,t,1,-1)}function z2(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},e.queue=t,t=t.dispatch=d8.bind(null,ir,t),[e.memoizedState,t]}function bh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ZN(){return Fa().memoizedState}function fp(t,e,r,n){var a=mi();ir.flags|=t,a.memoizedState=bh(1|e,r,void 0,n===void 0?null:n)}function Sm(t,e,r,n){var a=Fa();n=n===void 0?null:n;var i=void 0;if(Ir!==null){var s=Ir.memoizedState;if(i=s.destroy,n!==null&&gS(n,s.deps)){a.memoizedState=bh(e,r,i,n);return}}ir.flags|=t,a.memoizedState=bh(1|e,r,i,n)}function W2(t,e){return fp(8390656,8,t,e)}function xS(t,e){return Sm(2048,8,t,e)}function QN(t,e){return Sm(4,2,t,e)}function eF(t,e){return Sm(4,4,t,e)}function tF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rF(t,e,r){return r=r!=null?r.concat([t]):null,Sm(4,4,tF.bind(null,e,t),r)}function yS(){}function nF(t,e){var r=Fa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gS(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function aF(t,e){var r=Fa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gS(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function iF(t,e,r){return nl&21?(li(r,e)||(r=uN(),ir.lanes|=r,al|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=r)}function f8(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=rx.transition;rx.transition={};try{t(!1),e()}finally{Nt=r,rx.transition=n}}function sF(){return Fa().memoizedState}function h8(t,e,r){var n=Xs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oF(t))lF(e,r);else if(r=WN(t,e,r,n),r!==null){var a=Cn();ai(r,t,n,a),cF(r,e,n)}}function d8(t,e,r){var n=Xs(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oF(t))lF(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,li(o,s)){var l=e.interleaved;l===null?(a.next=a,uS(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=WN(t,e,a,n),r!==null&&(a=Cn(),ai(r,t,n,a),cF(r,e,n))}}function oF(t){var e=t.alternate;return t===ir||e!==null&&e===ir}function lF(t,e){Rf=Bp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Kw(t,r)}}var $p={readContext:Na,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},p8={readContext:Na,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:Na,useEffect:W2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fp(4194308,4,tF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return fp(4,2,t,e)},useMemo:function(t,e){var r=mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=h8.bind(null,ir,t),[n.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:z2,useDebugValue:yS,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=z2(!1),e=t[0];return t=f8.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ir,a=mi();if(Zt){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),Ur===null)throw Error(ke(349));nl&30||VN(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,W2(qN.bind(null,n,i,t),[t]),n.flags|=2048,bh(9,GN.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=mi(),e=Ur.identifierPrefix;if(Zt){var r=Ri,n=Di;r=(n&~(1<<32-ni(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=xh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=u8++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g8={readContext:Na,useCallback:nF,useContext:Na,useEffect:xS,useImperativeHandle:rF,useInsertionEffect:QN,useLayoutEffect:eF,useMemo:aF,useReducer:nx,useRef:ZN,useState:function(){return nx(yh)},useDebugValue:yS,useDeferredValue:function(t){var e=Fa();return iF(e,Ir.memoizedState,t)},useTransition:function(){var t=nx(yh)[0],e=Fa().memoizedState;return[t,e]},useMutableSource:XN,useSyncExternalStore:YN,useId:sF,unstable_isNewReconciler:!1},m8={readContext:Na,useCallback:nF,useContext:Na,useEffect:xS,useImperativeHandle:rF,useInsertionEffect:QN,useLayoutEffect:eF,useMemo:aF,useReducer:ax,useRef:ZN,useState:function(){return ax(yh)},useDebugValue:yS,useDeferredValue:function(t){var e=Fa();return Ir===null?e.memoizedState=t:iF(e,Ir.memoizedState,t)},useTransition:function(){var t=ax(yh)[0],e=Fa().memoizedState;return[t,e]},useMutableSource:XN,useSyncExternalStore:YN,useId:sF,unstable_isNewReconciler:!1};function Ua(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _m={isMounted:function(t){return(t=t._reactInternals)?wl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cn(),a=Xs(t),i=Hi(n,a);i.payload=e,r!=null&&(i.callback=r),e=Us(t,i,a),e!==null&&(ai(e,t,a,n),cp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cn(),a=Xs(t),i=Hi(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Us(t,i,a),e!==null&&(ai(e,t,a,n),cp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cn(),n=Xs(t),a=Hi(r,n);a.tag=2,e!=null&&(a.callback=e),e=Us(t,a,n),e!==null&&(ai(e,t,n,r),cp(e,t,n))}};function U2(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!hh(r,n)||!hh(a,i):!0}function uF(t,e,r){var n=!1,a=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=Na(i):(a=zn(e)?tl:vn.current,n=e.contextTypes,i=(n=n!=null)?Nc(t,a):Js),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_m,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function H2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_m.enqueueReplaceState(e,e.state,null)}function ob(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},fS(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Na(i):(i=zn(e)?tl:vn.current,a.context=Nc(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sb(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&_m.enqueueReplaceState(a,a.state,null),Rp(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Dc(t,e){try{var r="",n=e;do r+=H6(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function ix(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function lb(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var v8=typeof WeakMap=="function"?WeakMap:Map;function fF(t,e,r){r=Hi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wp||(Wp=!0,xb=n),lb(t,e)},r}function hF(t,e,r){r=Hi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){lb(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lb(t,e),typeof n!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function X2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new v8;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=I8.bind(null,t,e,r),e.then(t,t))}function Y2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V2(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hi(-1,1),e.tag=2,Us(r,e,1))),r.lanes|=1),t)}var x8=ls.ReactCurrentOwner,Ln=!1;function wn(t,e,r,n){e.child=t===null?zN(e,null,r,n):jc(e,t.child,r,n)}function G2(t,e,r,n,a){r=r.render;var i=e.ref;return wc(e,a),n=mS(t,e,r,n,i,a),r=vS(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ts(t,e,a)):(Zt&&r&&aS(e),e.flags|=1,wn(t,e,n,a),e.child)}function q2(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!TS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,dF(t,e,i,n,a)):(t=gp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:hh,r(s,n)&&t.ref===e.ref)return ts(t,e,a)}return e.flags|=1,t=Ys(i,n),t.ref=e.ref,t.return=e,e.child=t}function dF(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(hh(i,n)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,ts(t,e,a)}return cb(t,e,r,n,a)}function pF(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(fc,Gn),Gn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(fc,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ht(fc,Gn),Gn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ht(fc,Gn),Gn|=n;return wn(t,e,a,r),e.child}function gF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cb(t,e,r,n,a){var i=zn(r)?tl:vn.current;return i=Nc(e,i),wc(e,a),r=mS(t,e,r,n,i,a),n=vS(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ts(t,e,a)):(Zt&&n&&aS(e),e.flags|=1,wn(t,e,r,a),e.child)}function K2(t,e,r,n,a){if(zn(r)){var i=!0;Np(e)}else i=!1;if(wc(e,a),e.stateNode===null)hp(t,e),uF(e,r,n),ob(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Na(c):(c=zn(r)?tl:vn.current,c=Nc(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&H2(e,s,n,c),As=!1;var h=e.memoizedState;s.state=h,Rp(e,n,s,a),l=e.memoizedState,o!==n||h!==l||$n.current||As?(typeof u=="function"&&(sb(e,r,u,n),l=e.memoizedState),(o=As||U2(e,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,UN(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ua(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Na(l):(l=zn(r)?tl:vn.current,l=Nc(e,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&H2(e,s,n,l),As=!1,h=e.memoizedState,s.state=h,Rp(e,n,s,a);var g=e.memoizedState;o!==f||h!==g||$n.current||As?(typeof d=="function"&&(sb(e,r,d,n),g=e.memoizedState),(c=As||U2(e,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ub(t,e,r,n,i,a)}function ub(t,e,r,n,a,i){gF(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&M2(e,r,!1),ts(t,e,i);n=e.stateNode,x8.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=jc(e,t.child,null,i),e.child=jc(e,null,o,i)):wn(t,e,o,i),e.memoizedState=n.state,a&&M2(e,r,!0),e.child}function mF(t){var e=t.stateNode;e.pendingContext?j2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j2(t,e.context,!1),hS(t,e.containerInfo)}function J2(t,e,r,n,a){return Fc(),sS(a),e.flags|=256,wn(t,e,r,n),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function hb(t){return{baseLanes:t,cachePool:null,transitions:null}}function vF(t,e,r){var n=e.pendingProps,a=rr.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ht(rr,a&1),t===null)return ab(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Em(s,n,0,null),t=Vo(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hb(r),e.memoizedState=fb,t):bS(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return y8(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ys(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ys(o,i):(i=Vo(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?hb(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=fb,n}return i=t.child,t=i.sibling,n=Ys(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bS(t,e){return e=Em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function y0(t,e,r,n){return n!==null&&sS(n),jc(e,t.child,null,r),t=bS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y8(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=ix(Error(ke(422))),y0(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Em({mode:"visible",children:n.children},a,0,null),i=Vo(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&jc(e,t.child,null,s),e.child.memoizedState=hb(s),e.memoizedState=fb,i);if(!(e.mode&1))return y0(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ke(419)),n=ix(i,n,void 0),y0(t,e,s,n)}if(o=(s&t.childLanes)!==0,Ln||o){if(n=Ur,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,es(t,a),ai(n,t,a,-1))}return ES(),n=ix(Error(ke(421))),y0(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=N8.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,ra=Ws(a.nextSibling),na=e,Zt=!0,Ga=null,t!==null&&(Sa[_a++]=Di,Sa[_a++]=Ri,Sa[_a++]=rl,Di=t.id,Ri=t.overflow,rl=e),e=bS(e,n.children),e.flags|=4096,e)}function Z2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ib(t.return,e,r)}function sx(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function xF(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(wn(t,e,n.children,r),n=rr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z2(t,r,e);else if(t.tag===19)Z2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ht(rr,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Lp(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),sx(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Lp(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}sx(e,!0,r,null,i);break;case"together":sx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),al|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=Ys(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ys(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b8(t,e,r){switch(e.tag){case 3:mF(e),Fc();break;case 5:HN(e);break;case 1:zn(e.type)&&Np(e);break;case 4:hS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Ht(Mp,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ht(rr,rr.current&1),e.flags|=128,null):r&e.child.childLanes?vF(t,e,r):(Ht(rr,rr.current&1),t=ts(t,e,r),t!==null?t.sibling:null);Ht(rr,rr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return xF(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ht(rr,rr.current),n)break;return null;case 22:case 23:return e.lanes=0,pF(t,e,r)}return ts(t,e,r)}var yF,db,bF,wF;yF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};db=function(){};bF=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ro(Si.current);var i=null;switch(r){case"input":a=My(t,a),n=My(t,n),i=[];break;case"select":a=sr({},a,{value:void 0}),n=sr({},n,{value:void 0}),i=[];break;case"textarea":a=Ly(t,a),n=Ly(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pp)}$y(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ih.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ih.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xt("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};wF=function(t,e,r,n){r!==n&&(e.flags|=4)};function ef(t,e){if(!Zt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function w8(t,e,r){var n=e.pendingProps;switch(iS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return zn(e.type)&&Ip(),an(e),null;case 3:return n=e.stateNode,Mc(),qt($n),qt(vn),pS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(v0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ga!==null&&(wb(Ga),Ga=null))),db(t,e),an(e),null;case 5:dS(e);var a=Ro(vh.current);if(r=e.type,t!==null&&e.stateNode!=null)bF(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return an(e),null}if(t=Ro(Si.current),v0(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[xi]=e,n[gh]=i,t=(e.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<Af.length;a++)Xt(Af[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":o2(n,i),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xt("invalid",n);break;case"textarea":c2(n,i),Xt("invalid",n)}$y(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&m0(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&m0(n.textContent,o,t),a=["children",""+o]):ih.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Xt("scroll",n)}switch(r){case"input":l0(n),l2(n,i,!0);break;case"textarea":l0(n),u2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pp)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qI(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[xi]=e,t[gh]=n,yF(t,e,!1,!1),e.stateNode=t;e:{switch(s=zy(r,n),r){case"dialog":Xt("cancel",t),Xt("close",t),a=n;break;case"iframe":case"object":case"embed":Xt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Af.length;a++)Xt(Af[a],t);a=n;break;case"source":Xt("error",t),a=n;break;case"img":case"image":case"link":Xt("error",t),Xt("load",t),a=n;break;case"details":Xt("toggle",t),a=n;break;case"input":o2(t,n),a=My(t,n),Xt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=sr({},n,{value:void 0}),Xt("invalid",t);break;case"textarea":c2(t,n),a=Ly(t,n),Xt("invalid",t);break;default:a=n}$y(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?ZI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KI(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&sh(t,l):typeof l=="number"&&sh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ih.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xt("scroll",t):l!=null&&Hw(t,i,l,s))}switch(r){case"input":l0(t),l2(t,n,!1);break;case"textarea":l0(t),u2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ks(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?vc(t,!!n.multiple,i,!1):n.defaultValue!=null&&vc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)wF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(r=Ro(vh.current),Ro(Si.current),v0(e)){if(n=e.stateNode,r=e.memoizedProps,n[xi]=e,(i=n.nodeValue!==r)&&(t=na,t!==null))switch(t.tag){case 3:m0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&m0(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=e,e.stateNode=n}return an(e),null;case 13:if(qt(rr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&ra!==null&&e.mode&1&&!(e.flags&128))BN(),Fc(),e.flags|=98560,i=!1;else if(i=v0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ke(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[xi]=e}else Fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),i=!1}else Ga!==null&&(wb(Ga),Ga=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rr.current&1?Fr===0&&(Fr=3):ES())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Mc(),db(t,e),t===null&&dh(e.stateNode.containerInfo),an(e),null;case 10:return cS(e.type._context),an(e),null;case 17:return zn(e.type)&&Ip(),an(e),null;case 19:if(qt(rr),i=e.memoizedState,i===null)return an(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)ef(i,!1);else{if(Fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Lp(t),s!==null){for(e.flags|=128,ef(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ht(rr,rr.current&1|2),e.child}t=t.sibling}i.tail!==null&&mr()>Rc&&(e.flags|=128,n=!0,ef(i,!1),e.lanes=4194304)}else{if(!n)if(t=Lp(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ef(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Zt)return an(e),null}else 2*mr()-i.renderingStartTime>Rc&&r!==1073741824&&(e.flags|=128,n=!0,ef(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mr(),e.sibling=null,r=rr.current,Ht(rr,n?r&1|2:r&1),e):(an(e),null);case 22:case 23:return AS(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Gn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function S8(t,e){switch(iS(e),e.tag){case 1:return zn(e.type)&&Ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mc(),qt($n),qt(vn),pS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dS(e),null;case 13:if(qt(rr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qt(rr),null;case 4:return Mc(),null;case 10:return cS(e.type._context),null;case 22:case 23:return AS(),null;case 24:return null;default:return null}}var b0=!1,un=!1,_8=typeof WeakSet=="function"?WeakSet:Set,We=null;function uc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lr(t,e,n)}else r.current=null}function pb(t,e,r){try{r()}catch(n){lr(t,e,n)}}var Q2=!1;function k8(t,e){if(Jy=Tp,t=EN(),nS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zy={focusedElem:t,selectionRange:r},Tp=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,m=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ua(e.type,p),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(S){lr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return g=Q2,Q2=!1,g}function Lf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&pb(e,r,i)}a=a.next}while(a!==n)}}function km(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function gb(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function SF(t){var e=t.alternate;e!==null&&(t.alternate=null,SF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xi],delete e[gh],delete e[tb],delete e[s8],delete e[o8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _F(t){return t.tag===5||t.tag===3||t.tag===4}function eA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_F(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pp));else if(n!==4&&(t=t.child,t!==null))for(mb(t,e,r),t=t.sibling;t!==null;)mb(t,e,r),t=t.sibling}function vb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(vb(t,e,r),t=t.sibling;t!==null;)vb(t,e,r),t=t.sibling}var Vr=null,Ha=!1;function ms(t,e,r){for(r=r.child;r!==null;)kF(t,e,r),r=r.sibling}function kF(t,e,r){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(mm,r)}catch{}switch(r.tag){case 5:un||uc(r,e);case 6:var n=Vr,a=Ha;Vr=null,ms(t,e,r),Vr=n,Ha=a,Vr!==null&&(Ha?(t=Vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Vr.removeChild(r.stateNode));break;case 18:Vr!==null&&(Ha?(t=Vr,r=r.stateNode,t.nodeType===8?Qv(t.parentNode,r):t.nodeType===1&&Qv(t,r),uh(t)):Qv(Vr,r.stateNode));break;case 4:n=Vr,a=Ha,Vr=r.stateNode.containerInfo,Ha=!0,ms(t,e,r),Vr=n,Ha=a;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&pb(r,e,s),a=a.next}while(a!==n)}ms(t,e,r);break;case 1:if(!un&&(uc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){lr(r,e,o)}ms(t,e,r);break;case 21:ms(t,e,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,ms(t,e,r),un=n):ms(t,e,r);break;default:ms(t,e,r)}}function tA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _8),e.forEach(function(n){var a=F8.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ba(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Vr=o.stateNode,Ha=!1;break e;case 3:Vr=o.stateNode.containerInfo,Ha=!0;break e;case 4:Vr=o.stateNode.containerInfo,Ha=!0;break e}o=o.return}if(Vr===null)throw Error(ke(160));kF(i,s,a),Vr=null,Ha=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){lr(a,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AF(e,t),e=e.sibling}function AF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ba(e,t),hi(t),n&4){try{Lf(3,t,t.return),km(3,t)}catch(p){lr(t,t.return,p)}try{Lf(5,t,t.return)}catch(p){lr(t,t.return,p)}}break;case 1:Ba(e,t),hi(t),n&512&&r!==null&&uc(r,r.return);break;case 5:if(Ba(e,t),hi(t),n&512&&r!==null&&uc(r,r.return),t.flags&32){var a=t.stateNode;try{sh(a,"")}catch(p){lr(t,t.return,p)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&VI(a,i),zy(o,s);var c=zy(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?ZI(a,f):u==="dangerouslySetInnerHTML"?KI(a,f):u==="children"?sh(a,f):Hw(a,u,f,c)}switch(o){case"input":Dy(a,i);break;case"textarea":GI(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?vc(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?vc(a,!!i.multiple,i.defaultValue,!0):vc(a,!!i.multiple,i.multiple?[]:"",!1))}a[gh]=i}catch(p){lr(t,t.return,p)}}break;case 6:if(Ba(e,t),hi(t),n&4){if(t.stateNode===null)throw Error(ke(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(p){lr(t,t.return,p)}}break;case 3:if(Ba(e,t),hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uh(e.containerInfo)}catch(p){lr(t,t.return,p)}break;case 4:Ba(e,t),hi(t);break;case 13:Ba(e,t),hi(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(_S=mr())),n&4&&tA(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(un=(c=un)||u,Ba(e,t),un=c):Ba(e,t),hi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(We=t,u=t.child;u!==null;){for(f=We=u;We!==null;){switch(h=We,d=h.child,h.tag){case 0:case 11:case 14:case 15:Lf(4,h,h.return);break;case 1:uc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){lr(n,r,p)}}break;case 5:uc(h,h.return);break;case 22:if(h.memoizedState!==null){nA(f);continue}}d!==null?(d.return=h,We=d):nA(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JI("display",s))}catch(p){lr(t,t.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){lr(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ba(e,t),hi(t),n&4&&tA(t);break;case 21:break;default:Ba(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_F(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(sh(a,""),n.flags&=-33);var i=eA(t);vb(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=eA(t);mb(t,o,s);break;default:throw Error(ke(161))}}catch(l){lr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A8(t,e,r){We=t,EF(t)}function EF(t,e,r){for(var n=(t.mode&1)!==0;We!==null;){var a=We,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||b0;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||un;o=b0;var c=un;if(b0=s,(un=l)&&!c)for(We=a;We!==null;)s=We,l=s.child,s.tag===22&&s.memoizedState!==null?aA(a):l!==null?(l.return=s,We=l):aA(a);for(;i!==null;)We=i,EF(i),i=i.sibling;We=a,b0=o,un=c}rA(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,We=i):rA(t)}}function rA(t){for(;We!==null;){var e=We;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||km(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!un)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Ua(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$2(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$2(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}un||e.flags&512&&gb(e)}catch(h){lr(e,e.return,h)}}if(e===t){We=null;break}if(r=e.sibling,r!==null){r.return=e.return,We=r;break}We=e.return}}function nA(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var r=e.sibling;if(r!==null){r.return=e.return,We=r;break}We=e.return}}function aA(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{km(4,e)}catch(l){lr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){lr(e,a,l)}}var i=e.return;try{gb(e)}catch(l){lr(e,i,l)}break;case 5:var s=e.return;try{gb(e)}catch(l){lr(e,s,l)}}}catch(l){lr(e,e.return,l)}if(e===t){We=null;break}var o=e.sibling;if(o!==null){o.return=e.return,We=o;break}We=e.return}}var E8=Math.ceil,zp=ls.ReactCurrentDispatcher,wS=ls.ReactCurrentOwner,Ta=ls.ReactCurrentBatchConfig,vt=0,Ur=null,Ar=null,Qr=0,Gn=0,fc=so(0),Fr=0,wh=null,al=0,Am=0,SS=0,Bf=null,Dn=null,_S=0,Rc=1/0,Ni=null,Wp=!1,xb=null,Hs=null,w0=!1,js=null,Up=0,$f=0,yb=null,dp=-1,pp=0;function Cn(){return vt&6?mr():dp!==-1?dp:dp=mr()}function Xs(t){return t.mode&1?vt&2&&Qr!==0?Qr&-Qr:c8.transition!==null?(pp===0&&(pp=uN()),pp):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:vN(t.type)),t):1}function ai(t,e,r,n){if(50<$f)throw $f=0,yb=null,Error(ke(185));Ed(t,r,n),(!(vt&2)||t!==Ur)&&(t===Ur&&(!(vt&2)&&(Am|=r),Fr===4&&Os(t,Qr)),Wn(t,n),r===1&&vt===0&&!(e.mode&1)&&(Rc=mr()+500,wm&&oo()))}function Wn(t,e){var r=t.callbackNode;cB(t,e);var n=Ep(t,t===Ur?Qr:0);if(n===0)r!==null&&d2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&d2(r),e===1)t.tag===0?l8(iA.bind(null,t)):DN(iA.bind(null,t)),a8(function(){!(vt&6)&&oo()}),r=null;else{switch(fN(n)){case 1:r=qw;break;case 4:r=lN;break;case 16:r=Ap;break;case 536870912:r=cN;break;default:r=Ap}r=jF(r,TF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function TF(t,e){if(dp=-1,pp=0,vt&6)throw Error(ke(327));var r=t.callbackNode;if(Sc()&&t.callbackNode!==r)return null;var n=Ep(t,t===Ur?Qr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hp(t,n);else{e=n;var a=vt;vt|=2;var i=OF();(Ur!==t||Qr!==e)&&(Ni=null,Rc=mr()+500,Yo(t,e));do try{O8();break}catch(o){CF(t,o)}while(!0);lS(),zp.current=i,vt=a,Ar!==null?e=0:(Ur=null,Qr=0,e=Fr)}if(e!==0){if(e===2&&(a=Yy(t),a!==0&&(n=a,e=bb(t,a))),e===1)throw r=wh,Yo(t,0),Os(t,n),Wn(t,mr()),r;if(e===6)Os(t,n);else{if(a=t.current.alternate,!(n&30)&&!T8(a)&&(e=Hp(t,n),e===2&&(i=Yy(t),i!==0&&(n=i,e=bb(t,i))),e===1))throw r=wh,Yo(t,0),Os(t,n),Wn(t,mr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:_o(t,Dn,Ni);break;case 3:if(Os(t,n),(n&130023424)===n&&(e=_S+500-mr(),10<e)){if(Ep(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Cn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=eb(_o.bind(null,t,Dn,Ni),e);break}_o(t,Dn,Ni);break;case 4:if(Os(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-ni(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E8(n/1960))-n,10<n){t.timeoutHandle=eb(_o.bind(null,t,Dn,Ni),n);break}_o(t,Dn,Ni);break;case 5:_o(t,Dn,Ni);break;default:throw Error(ke(329))}}}return Wn(t,mr()),t.callbackNode===r?TF.bind(null,t):null}function bb(t,e){var r=Bf;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=Hp(t,e),t!==2&&(e=Dn,Dn=r,e!==null&&wb(e)),t}function wb(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function T8(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!li(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~SS,e&=~Am,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ni(e),n=1<<r;t[r]=-1,e&=~n}}function iA(t){if(vt&6)throw Error(ke(327));Sc();var e=Ep(t,0);if(!(e&1))return Wn(t,mr()),null;var r=Hp(t,e);if(t.tag!==0&&r===2){var n=Yy(t);n!==0&&(e=n,r=bb(t,n))}if(r===1)throw r=wh,Yo(t,0),Os(t,e),Wn(t,mr()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Dn,Ni),Wn(t,mr()),null}function kS(t,e){var r=vt;vt|=1;try{return t(e)}finally{vt=r,vt===0&&(Rc=mr()+500,wm&&oo())}}function il(t){js!==null&&js.tag===0&&!(vt&6)&&Sc();var e=vt;vt|=1;var r=Ta.transition,n=Nt;try{if(Ta.transition=null,Nt=1,t)return t()}finally{Nt=n,Ta.transition=r,vt=e,!(vt&6)&&oo()}}function AS(){Gn=fc.current,qt(fc)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,n8(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(iS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:Mc(),qt($n),qt(vn),pS();break;case 5:dS(n);break;case 4:Mc();break;case 13:qt(rr);break;case 19:qt(rr);break;case 10:cS(n.type._context);break;case 22:case 23:AS()}r=r.return}if(Ur=t,Ar=t=Ys(t.current,null),Qr=Gn=e,Fr=0,wh=null,SS=Am=al=0,Dn=Bf=null,Do!==null){for(e=0;e<Do.length;e++)if(r=Do[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Do=null}return t}function CF(t,e){do{var r=Ar;try{if(lS(),up.current=$p,Bp){for(var n=ir.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Bp=!1}if(nl=0,$r=Ir=ir=null,Rf=!1,xh=0,wS.current=null,r===null||r.return===null){Fr=1,wh=e,Ar=null;break}e:{var i=t,s=r.return,o=r,l=e;if(e=Qr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=Y2(s);if(d!==null){d.flags&=-257,V2(d,s,o,i,e),d.mode&1&&X2(i,c,e),e=d,l=c;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){X2(i,c,e),ES();break e}l=Error(ke(426))}}else if(Zt&&o.mode&1){var m=Y2(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),V2(m,s,o,i,e),sS(Dc(l,o));break e}}i=l=Dc(l,o),Fr!==4&&(Fr=2),Bf===null?Bf=[i]:Bf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=fF(i,l,e);B2(i,v);break e;case 1:o=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hs===null||!Hs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=hF(i,o,e);B2(i,S);break e}}i=i.return}while(i!==null)}IF(r)}catch(w){e=w,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function OF(){var t=zp.current;return zp.current=$p,t===null?$p:t}function ES(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Ur===null||!(al&268435455)&&!(Am&268435455)||Os(Ur,Qr)}function Hp(t,e){var r=vt;vt|=2;var n=OF();(Ur!==t||Qr!==e)&&(Ni=null,Yo(t,e));do try{C8();break}catch(a){CF(t,a)}while(!0);if(lS(),vt=r,zp.current=n,Ar!==null)throw Error(ke(261));return Ur=null,Qr=0,Fr}function C8(){for(;Ar!==null;)PF(Ar)}function O8(){for(;Ar!==null&&!eB();)PF(Ar)}function PF(t){var e=FF(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?IF(t):Ar=e,wS.current=null}function IF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=S8(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fr=6,Ar=null;return}}else if(r=w8(r,e,Gn),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Fr===0&&(Fr=5)}function _o(t,e,r){var n=Nt,a=Ta.transition;try{Ta.transition=null,Nt=1,P8(t,e,r,n)}finally{Ta.transition=a,Nt=n}return null}function P8(t,e,r,n){do Sc();while(js!==null);if(vt&6)throw Error(ke(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(uB(t,i),t===Ur&&(Ar=Ur=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||w0||(w0=!0,jF(Ap,function(){return Sc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ta.transition,Ta.transition=null;var s=Nt;Nt=1;var o=vt;vt|=4,wS.current=null,k8(t,r),AF(r,t),KB(Zy),Tp=!!Jy,Zy=Jy=null,t.current=r,A8(r),tB(),vt=o,Nt=s,Ta.transition=i}else t.current=r;if(w0&&(w0=!1,js=t,Up=a),i=t.pendingLanes,i===0&&(Hs=null),aB(r.stateNode),Wn(t,mr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wp)throw Wp=!1,t=xb,xb=null,t;return Up&1&&t.tag!==0&&Sc(),i=t.pendingLanes,i&1?t===yb?$f++:($f=0,yb=t):$f=0,oo(),null}function Sc(){if(js!==null){var t=fN(Up),e=Ta.transition,r=Nt;try{if(Ta.transition=null,Nt=16>t?16:t,js===null)var n=!1;else{if(t=js,js=null,Up=0,vt&6)throw Error(ke(331));var a=vt;for(vt|=4,We=t.current;We!==null;){var i=We,s=i.child;if(We.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Lf(8,u,i)}var f=u.child;if(f!==null)f.return=u,We=f;else for(;We!==null;){u=We;var h=u.sibling,d=u.return;if(SF(u),u===c){We=null;break}if(h!==null){h.return=d,We=h;break}We=d}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(p!==null)}}We=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,We=s;else e:for(;We!==null;){if(i=We,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,We=v;break e}We=i.return}}var y=t.current;for(We=y;We!==null;){s=We;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,We=b;else e:for(s=y;We!==null;){if(o=We,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:km(9,o)}}catch(w){lr(o,o.return,w)}if(o===s){We=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,We=S;break e}We=o.return}}if(vt=a,oo(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(mm,t)}catch{}n=!0}return n}finally{Nt=r,Ta.transition=e}}return!1}function sA(t,e,r){e=Dc(r,e),e=fF(t,e,1),t=Us(t,e,1),e=Cn(),t!==null&&(Ed(t,1,e),Wn(t,e))}function lr(t,e,r){if(t.tag===3)sA(t,t,r);else for(;e!==null;){if(e.tag===3){sA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hs===null||!Hs.has(n))){t=Dc(r,t),t=hF(e,t,1),e=Us(e,t,1),t=Cn(),e!==null&&(Ed(e,1,t),Wn(e,t));break}}e=e.return}}function I8(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&r,Ur===t&&(Qr&r)===r&&(Fr===4||Fr===3&&(Qr&130023424)===Qr&&500>mr()-_S?Yo(t,0):SS|=r),Wn(t,e)}function NF(t,e){e===0&&(t.mode&1?(e=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):e=1);var r=Cn();t=es(t,e),t!==null&&(Ed(t,e,r),Wn(t,r))}function N8(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),NF(t,r)}function F8(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),NF(t,r)}var FF;FF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Ln=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ln=!1,b8(t,e,r);Ln=!!(t.flags&131072)}else Ln=!1,Zt&&e.flags&1048576&&RN(e,jp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hp(t,e),t=e.pendingProps;var a=Nc(e,vn.current);wc(e,r),a=mS(null,e,n,t,a,r);var i=vS();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(n)?(i=!0,Np(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,fS(e),a.updater=_m,e.stateNode=a,a._reactInternals=e,ob(e,n,t,r),e=ub(null,e,n,!0,i,r)):(e.tag=0,Zt&&i&&aS(e),wn(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=M8(n),t=Ua(n,t),a){case 0:e=cb(null,e,n,t,r);break e;case 1:e=K2(null,e,n,t,r);break e;case 11:e=G2(null,e,n,t,r);break e;case 14:e=q2(null,e,n,Ua(n.type,t),r);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ua(n,a),cb(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ua(n,a),K2(t,e,n,a,r);case 3:e:{if(mF(e),t===null)throw Error(ke(387));n=e.pendingProps,i=e.memoizedState,a=i.element,UN(t,e),Rp(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Dc(Error(ke(423)),e),e=J2(t,e,n,r,a);break e}else if(n!==a){a=Dc(Error(ke(424)),e),e=J2(t,e,n,r,a);break e}else for(ra=Ws(e.stateNode.containerInfo.firstChild),na=e,Zt=!0,Ga=null,r=zN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fc(),n===a){e=ts(t,e,r);break e}wn(t,e,n,r)}e=e.child}return e;case 5:return HN(e),t===null&&ab(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Qy(n,a)?s=null:i!==null&&Qy(n,i)&&(e.flags|=32),gF(t,e),wn(t,e,s,r),e.child;case 6:return t===null&&ab(e),null;case 13:return vF(t,e,r);case 4:return hS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jc(e,null,n,r):wn(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ua(n,a),G2(t,e,n,a,r);case 7:return wn(t,e,e.pendingProps,r),e.child;case 8:return wn(t,e,e.pendingProps.children,r),e.child;case 12:return wn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Ht(Mp,n._currentValue),n._currentValue=s,i!==null)if(li(i.value,s)){if(i.children===a.children&&!$n.current){e=ts(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Hi(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ib(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ke(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),ib(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}wn(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,wc(e,r),a=Na(a),n=n(a),e.flags|=1,wn(t,e,n,r),e.child;case 14:return n=e.type,a=Ua(n,e.pendingProps),a=Ua(n.type,a),q2(t,e,n,a,r);case 15:return dF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ua(n,a),hp(t,e),e.tag=1,zn(n)?(t=!0,Np(e)):t=!1,wc(e,r),uF(e,n,a),ob(e,n,a,r),ub(null,e,n,!0,t,r);case 19:return xF(t,e,r);case 22:return pF(t,e,r)}throw Error(ke(156,e.tag))};function jF(t,e){return oN(t,e)}function j8(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(t,e,r,n){return new j8(t,e,r,n)}function TS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M8(t){if(typeof t=="function")return TS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yw)return 11;if(t===Vw)return 14}return 2}function Ys(t,e){var r=t.alternate;return r===null?(r=ka(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gp(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")TS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case tc:return Vo(r.children,a,i,e);case Xw:s=8,a|=8;break;case Iy:return t=ka(12,r,e,a|2),t.elementType=Iy,t.lanes=i,t;case Ny:return t=ka(13,r,e,a),t.elementType=Ny,t.lanes=i,t;case Fy:return t=ka(19,r,e,a),t.elementType=Fy,t.lanes=i,t;case HI:return Em(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WI:s=10;break e;case UI:s=9;break e;case Yw:s=11;break e;case Vw:s=14;break e;case ks:s=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=ka(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Vo(t,e,r,n){return t=ka(7,t,n,e),t.lanes=r,t}function Em(t,e,r,n){return t=ka(22,t,n,e),t.elementType=HI,t.lanes=r,t.stateNode={isHidden:!1},t}function ox(t,e,r){return t=ka(6,t,null,e),t.lanes=r,t}function lx(t,e,r){return e=ka(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D8(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wv(0),this.expirationTimes=Wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function CS(t,e,r,n,a,i,s,o,l){return t=new D8(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ka(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fS(i),t}function R8(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function MF(t){if(!t)return Js;t=t._reactInternals;e:{if(wl(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(zn(r))return MN(t,r,e)}return e}function DF(t,e,r,n,a,i,s,o,l){return t=CS(r,n,!0,t,a,i,s,o,l),t.context=MF(null),r=t.current,n=Cn(),a=Xs(r),i=Hi(n,a),i.callback=e??null,Us(r,i,a),t.current.lanes=a,Ed(t,a,n),Wn(t,n),t}function Tm(t,e,r,n){var a=e.current,i=Cn(),s=Xs(a);return r=MF(r),e.context===null?e.context=r:e.pendingContext=r,e=Hi(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Us(a,e,s),t!==null&&(ai(t,a,s,i),cp(t,a,s)),s}function Xp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function OS(t,e){oA(t,e),(t=t.alternate)&&oA(t,e)}function L8(){return null}var RF=typeof reportError=="function"?reportError:function(t){console.error(t)};function PS(t){this._internalRoot=t}Cm.prototype.render=PS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));Tm(t,e,null,null)};Cm.prototype.unmount=PS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;il(function(){Tm(null,t,null,null)}),e[Qi]=null}};function Cm(t){this._internalRoot=t}Cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=pN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cs.length&&e!==0&&e<Cs[r].priority;r++);Cs.splice(r,0,t),r===0&&mN(t)}};function IS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lA(){}function B8(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Xp(s);i.call(c)}}var s=DF(e,n,t,0,null,!1,!1,"",lA);return t._reactRootContainer=s,t[Qi]=s.current,dh(t.nodeType===8?t.parentNode:t),il(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Xp(l);o.call(c)}}var l=CS(t,0,!1,null,null,!1,!1,"",lA);return t._reactRootContainer=l,t[Qi]=l.current,dh(t.nodeType===8?t.parentNode:t),il(function(){Tm(e,l,r,n)}),l}function Pm(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Xp(s);o.call(l)}}Tm(e,s,t,a)}else s=B8(r,e,t,a,n);return Xp(s)}hN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kf(e.pendingLanes);r!==0&&(Kw(e,r|1),Wn(e,mr()),!(vt&6)&&(Rc=mr()+500,oo()))}break;case 13:il(function(){var n=es(t,1);if(n!==null){var a=Cn();ai(n,t,1,a)}}),OS(t,1)}};Jw=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var r=Cn();ai(e,t,134217728,r)}OS(t,134217728)}};dN=function(t){if(t.tag===13){var e=Xs(t),r=es(t,e);if(r!==null){var n=Cn();ai(r,t,e,n)}OS(t,e)}};pN=function(){return Nt};gN=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};Uy=function(t,e,r){switch(e){case"input":if(Dy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=bm(n);if(!a)throw Error(ke(90));YI(n),Dy(n,a)}}}break;case"textarea":GI(t,r);break;case"select":e=r.value,e!=null&&vc(t,!!r.multiple,e,!1)}};tN=kS;rN=il;var $8={usingClientEntryPoint:!1,Events:[Cd,ic,bm,QI,eN,kS]},tf={findFiberByHostInstance:Mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z8={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iN(t),t===null?null:t.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||L8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S0.isDisabled&&S0.supportsFiber)try{mm=S0.inject(z8),wi=S0}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$8;la.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IS(e))throw Error(ke(200));return R8(t,e,null,r)};la.createRoot=function(t,e){if(!IS(t))throw Error(ke(299));var r=!1,n="",a=RF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=CS(t,1,!1,null,null,r,!1,n,a),t[Qi]=e.current,dh(t.nodeType===8?t.parentNode:t),new PS(e)};la.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=iN(e),t=t===null?null:t.stateNode,t};la.flushSync=function(t){return il(t)};la.hydrate=function(t,e,r){if(!Om(e))throw Error(ke(200));return Pm(null,t,e,!0,r)};la.hydrateRoot=function(t,e,r){if(!IS(t))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=RF;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=DF(e,null,t,1,r??null,a,!1,i,s),t[Qi]=e.current,dh(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Cm(e)};la.render=function(t,e,r){if(!Om(e))throw Error(ke(200));return Pm(null,t,e,!1,r)};la.unmountComponentAtNode=function(t){if(!Om(t))throw Error(ke(40));return t._reactRootContainer?(il(function(){Pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};la.unstable_batchedUpdates=kS;la.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Om(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Pm(t,e,r,!1,n)};la.version="18.3.1-next-f1338f8080-20240426";function LF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LF)}catch(t){console.error(t)}}LF(),LI.exports=la;var W8=LI.exports,cA=W8;Oy.createRoot=cA.createRoot,Oy.hydrateRoot=cA.hydrateRoot;const U8="modulepreload",H8=function(t){return"/KPI-Dashboard/"+t},uA={},yu=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=H8(l),l in uA)return;uA[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":U8,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},X8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class NS extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Y8 extends NS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fA extends NS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hA extends NS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sb||(Sb={}));var V8=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class G8{constructor(e,{headers:r={},customFetch:n,region:a=Sb.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=X8(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return V8(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(p=>{throw new Y8(p)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new fA(f);if(!f.ok)throw new hA(f);let d=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield f.json():d==="application/octet-stream"?g=yield f.blob():d==="text/event-stream"?g=f:d==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof hA||a instanceof fA?a.context:void 0}}})}}var Rn={},FS={},Im={},Pd={},Nm={},Fm={},q8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lc=q8();const K8=Lc.fetch,BF=Lc.fetch.bind(Lc),$F=Lc.Headers,J8=Lc.Request,Z8=Lc.Response,bu=Object.freeze(Object.defineProperty({__proto__:null,Headers:$F,Request:J8,Response:Z8,default:BF,fetch:K8},Symbol.toStringTag,{value:"Module"})),Q8=EI(bu);var jm={};Object.defineProperty(jm,"__esModule",{value:!0});let e5=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};jm.default=e5;var zF=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fm,"__esModule",{value:!0});const t5=zF(Q8),r5=zF(jm);let n5=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=t5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l,c;let u=null,f=null,h=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const m=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,d=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(f=[],u=null,d=200,g="OK")}catch{i.status===404&&m===""?(d=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new r5.default(u)}return{error:u,data:f,count:h,status:d,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};Fm.default=n5;var a5=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nm,"__esModule",{value:!0});const i5=a5(Fm);let s5=class extends i5.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Nm.default=s5;var o5=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pd,"__esModule",{value:!0});const l5=o5(Nm);let c5=class extends l5.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Pd.default=c5;var u5=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Im,"__esModule",{value:!0});const rf=u5(Pd);let f5=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new rf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new rf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new rf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new rf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Im.default=f5;var WF=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(FS,"__esModule",{value:!0});const h5=WF(Im),d5=WF(Pd);let p5=class UF{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new h5.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new UF(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",c=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new d5.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};FS.default=p5;var wu=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const HF=wu(FS);Rn.PostgrestClient=HF.default;const XF=wu(Im);Rn.PostgrestQueryBuilder=XF.default;const YF=wu(Pd);Rn.PostgrestFilterBuilder=YF.default;const VF=wu(Nm);Rn.PostgrestTransformBuilder=VF.default;const GF=wu(Fm);Rn.PostgrestBuilder=GF.default;const qF=wu(jm);Rn.PostgrestError=qF.default;var g5=Rn.default={PostgrestClient:HF.default,PostgrestQueryBuilder:XF.default,PostgrestFilterBuilder:YF.default,PostgrestTransformBuilder:VF.default,PostgrestBuilder:GF.default,PostgrestError:qF.default};const{PostgrestClient:m5,PostgrestQueryBuilder:KEe,PostgrestFilterBuilder:JEe,PostgrestTransformBuilder:ZEe,PostgrestBuilder:QEe,PostgrestError:eTe}=g5;class v5{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const x5="2.15.5",y5=`realtime-js/${x5}`,b5="1.0.0",_b=1e4,w5=1e3,S5=100;var zf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zf||(zf={}));var Or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Or||(Or={}));var Xa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xa||(Xa={}));var kb;(function(t){t.websocket="websocket"})(kb||(kb={}));var No;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(No||(No={}));class _5{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const l=n.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class KF{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const dA=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=k5(s,t,e,a),i),{})},k5=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?JF(i,s):Ab(s)},JF=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return C5(e,r)}switch(t){case zt.bool:return A5(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return E5(e);case zt.json:case zt.jsonb:return T5(e);case zt.timestamp:return O5(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Ab(e);default:return Ab(e)}},Ab=t=>t,A5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},E5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},T5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},C5=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>JF(e,o))}return t},O5=t=>typeof t=="string"?t.replace(" ","T"):t,ZF=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class cx{constructor(e,r,n={},a=_b){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pA||(pA={}));class Wf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wf.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Wf.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Wf.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=i[c];if(f){const h=u.map(m=>m.presence_ref),d=f.map(m=>m.presence_ref),g=u.filter(m=>d.indexOf(m.presence_ref)<0),p=f.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(o[c]=g),p.length>0&&(l[c]=p)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,a(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gA||(gA={}));var Uf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uf||(Uf={}));var Fi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fi||(Fi={}));class jS{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cx(this,Xa.join,this.params,this.timeout),this.rejoinTimer=new KF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xa.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Wf(this),this.broadcastEndpointURL=ZF(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Uf.PRESENCE]&&this.bindings[Uf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(Fi.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Fi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket.setAuth(),d===void 0){e==null||e(Fi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,v=[];for(let y=0;y<m;y++){const b=p[y],{filter:{event:S,schema:w,table:_,filter:k}}=b,A=d&&d[y];if(A&&A.event===S&&A.schema===w&&A.table===_&&A.filter===k)v.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),this.state=Or.errored,e==null||e(Fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Fi.SUBSCRIBED);return}}).receive("error",d=>{this.state=Or.errored,e==null||e(Fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Or.joined&&e===Uf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new cx(this,Xa.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cx(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>S5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Xa;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(d=>{var g,p,m;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=d.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(d=>d.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(d=>{var g,p,m,v,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const S=d.id,w=(g=d.filter)===null||g===void 0?void 0:g.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const S=(y=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:m,commit_timestamp:v,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}d.callback(h,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jS.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xa.close,{},e)}_onError(e){this._on(Xa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=dA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=dA(e.columns,e.old_record)),r}}const ux=()=>{},_0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P5=[1e3,2e3,5e3,1e4],I5=1e4,N5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F5{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_b,this.transport=null,this.heartbeatIntervalMs=_0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ux,this.ref=0,this.reconnectTimer=null,this.logger=ux,this.conn=null,this.sendBuffer=[],this.serializer=new _5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>yu(async()=>{const{default:o}=await Promise.resolve().then(()=>bu);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${kb.websocket}`,this.httpEndpoint=ZF(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b5}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zf.connecting:return No.Connecting;case zf.open:return No.Open;case zf.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jS(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(w5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([N5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:y5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Xa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new KF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,s,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:_b,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:_0.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:ux,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>P5[f-1]||I5,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class MS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class j5 extends MS{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eb extends MS{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var M5=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const QF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},D5=()=>M5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yu(()=>Promise.resolve().then(()=>bu),void 0)).Response:Response}),Tb=t=>{if(Array.isArray(t))return t.map(r=>Tb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Tb(n)}),e},R5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Sl=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const fx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L5=(t,e,r)=>Sl(void 0,void 0,void 0,function*(){const n=yield D5();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,s=(a==null?void 0:a.statusCode)||i+"";e(new j5(fx(a),i,s))}).catch(a=>{e(new Eb(fx(a),a))}):e(new Eb(fx(t),t))}),B5=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(R5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Id(t,e,r,n,a,i){return Sl(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,B5(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>L5(l,o,n))})})}function Yp(t,e,r,n){return Sl(this,void 0,void 0,function*(){return Id(t,"GET",e,r,n)})}function vi(t,e,r,n,a){return Sl(this,void 0,void 0,function*(){return Id(t,"POST",e,n,a,r)})}function Cb(t,e,r,n,a){return Sl(this,void 0,void 0,function*(){return Id(t,"PUT",e,n,a,r)})}function $5(t,e,r,n){return Sl(this,void 0,void 0,function*(){return Id(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ej(t,e,r,n,a){return Sl(this,void 0,void 0,function*(){return Id(t,"DELETE",e,n,a,r)})}var bn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const z5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W5{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=QF(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return bn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},mA),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(e=="PUT"?Cb:vi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return bn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:mA.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield Cb(this.fetch,o.toString(),l,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return bn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield vi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new MS("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}update(e,r,n){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return bn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}copy(e,r,n){return bn(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return bn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield vi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return bn(this,void 0,void 0,function*(){try{const a=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}download(e,r){return bn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Yp(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pr(o))return{data:null,error:o};throw o}})}info(e){return bn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Yp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}exists(e){return bn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield $5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n)&&n instanceof Eb){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return bn(this,void 0,void 0,function*(){try{return{data:yield ej(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}list(e,r,n){return bn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},z5),r),{prefix:e||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pr(a))return{data:null,error:a};throw a}})}listV2(e,r){return bn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield vi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const U5="2.12.1",H5={"X-Client-Info":`storage-js/${U5}`};var Ml=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class X5{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},H5),r),this.fetch=QF(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ml(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pr(e))return{data:null,error:e};throw e}})}getBucket(e){return Ml(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ml(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ml(this,void 0,void 0,function*(){try{return{data:yield Cb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ml(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ml(this,void 0,void 0,function*(){try{return{data:yield ej(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pr(r))return{data:null,error:r};throw r}})}}class Y5 extends X5{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new W5(this.url,this.headers,e,this.fetch)}}const V5="2.57.4";let Ef="";typeof Deno<"u"?Ef="deno":typeof document<"u"?Ef="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ef="react-native":Ef="node";const G5={"X-Client-Info":`supabase-js-${Ef}/${V5}`},q5={headers:G5},K5={schema:"public"},J5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z5={};var Q5=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const e$=t=>{let e;return t?e=t:typeof fetch>"u"?e=BF:e=fetch,(...r)=>e(...r)},t$=()=>typeof Headers>"u"?$F:Headers,r$=(t,e,r)=>{const n=e$(r),a=t$();return(i,s)=>Q5(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))})};var n$=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function a$(t){return t.endsWith("/")?t:t+"/"}function i$(t,e){var r,n;const{db:a,auth:i,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>n$(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function s$(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a$(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tj="2.71.1",Kl=30*1e3,Ob=3,hx=Ob*Kl,o$="http://localhost:9999",l$="supabase.auth.token",c$={"X-Client-Info":`gotrue-js/${tj}`},Pb="X-Supabase-Api-Version",rj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f$=10*60*1e3;class DS extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function at(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class h$ extends DS{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function d$(t){return at(t)&&t.name==="AuthApiError"}class nj extends DS{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class lo extends DS{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class _s extends lo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p$(t){return at(t)&&t.name==="AuthSessionMissingError"}class k0 extends lo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class A0 extends lo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class E0 extends lo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g$(t){return at(t)&&t.name==="AuthImplicitGrantRedirectError"}class vA extends lo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ib extends lo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function dx(t){return at(t)&&t.name==="AuthRetryableFetchError"}class xA extends lo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nb extends lo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yA=` 	
\r=`.split(""),m$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yA.length;e+=1)t[yA[e].charCodeAt(0)]=-2;for(let e=0;e<Vp.length;e+=1)t[Vp[e].charCodeAt(0)]=e;return t})();function bA(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vp[n]),e.queuedBits-=6}}function aj(t,e,r){const n=m$[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wA(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{y$(s,n,r)};for(let s=0;s<t.length;s+=1)aj(t.charCodeAt(s),a,i);return e.join("")}function v$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function x$(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}v$(n,e)}}function y$(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function b$(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)aj(t.charCodeAt(a),r,n);return new Uint8Array(e)}function w$(t){const e=[];return x$(t,r=>e.push(r)),new Uint8Array(e)}function S$(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>bA(a,r,n)),bA(null,r,n),e.join("")}function _$(t){return Math.round(Date.now()/1e3)+t}function k$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wa=()=>typeof window<"u"&&typeof document<"u",yo={tested:!1,writable:!1},ij=()=>{if(!Wa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yo.tested)return yo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yo.tested=!0,yo.writable=!0}catch{yo.tested=!0,yo.writable=!1}return yo.writable};function A$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const sj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(async()=>{const{default:n}=await Promise.resolve().then(()=>bu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},E$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vs=async(t,e)=>{await t.removeItem(e)};class Mm{constructor(){this.promise=new Mm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mm.promiseConstructor=Promise;function px(t){const e=t.split(".");if(e.length!==3)throw new Nb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!u$.test(e[n]))throw new Nb("JWT not in base64url format");return{header:JSON.parse(wA(e[0])),payload:JSON.parse(wA(e[1])),signature:b$(e[2]),raw:{header:e[0],payload:e[1]}}}async function T$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function C$(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function O$(t){return("0"+t.toString(16)).substr(-2)}function P$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,O$).join("")}async function I$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function N$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await I$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dl(t,e,r=!1){const n=P$();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Jl(t,`${e}-code-verifier`,a);const i=await N$(n);return[i,n===i?"plain":"s256"]}const F$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j$(t){const e=t.headers.get(Pb);if(!e||!e.match(F$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function M$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function D$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(t){if(!R$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SA(t){return JSON.parse(JSON.stringify(t))}var L$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B$=[502,503,504];async function _A(t){var e;if(!E$(t))throw new Ib(ko(t),0);if(B$.includes(t.status))throw new Ib(ko(t),t.status);let r;try{r=await t.json()}catch(i){throw new nj(ko(i),i)}let n;const a=j$(t);if(a&&a.getTime()>=rj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xA(ko(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new xA(ko(r),t.status,r.weak_password.reasons);throw new h$(ko(r),t.status||500,n)}const $$=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ft(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Pb]||(i[Pb]=rj["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await z$(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function z$(t,e,r,n,a,i){const s=$$(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new Ib(ko(l),0)}if(o.ok||await _A(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await _A(l)}}function Ii(t){var e;let r=null;X$(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_$(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kA(t){const e=Ii(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W$(t){return{data:t,error:null}}function U$(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=L$(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function H$(t){return t}function X$(t){return t.access_token&&t.refresh_token&&t.expires_in}const mx=["global","local","others"];var Y$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class V${constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=sj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=mx[0]){if(mx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mx.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Y$(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:U$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(at(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ps})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:H$});if(u.error)throw u.error;const f=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(at(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Rl(e);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ps})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rl(e);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rl(e);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ps})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rl(e.userId);try{const{data:r,error:n}=await ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rl(e.userId),Rl(e.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}}function AA(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function G$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ll={debug:!!(globalThis&&ij()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q$ extends oj{}async function K$(t,e,r){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q$(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ll.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}G$();const J$={url:o$,storageKey:l$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function EA(t,e,r){return await r()}const Bl={};class Sh{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sh.nextInstanceID,Sh.nextInstanceID+=1,this.instanceID>0&&Wa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},J$),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new V$({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sj(a.fetch),this.lock=a.lock||EA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Wa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=K$:this.lock=EA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ij()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AA(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AA(this.memoryStorage)),Wa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Bl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Bl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=A$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Wa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),g$(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return at(r)?{error:r}:{error:new nj("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ii}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(at(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await Dl(this.storage,this.storageKey)),i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:g},xform:Ii})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ii})}else throw new A0("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(at(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kA})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kA})}else throw new A0("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new k0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,o,l,c,u,f,h,d;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:m,wallet:v,statement:y,options:b}=e;let S;if(Wa())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:m,error:v}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:S$(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ii});if(v)throw v;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new k0}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:v})}catch(m){if(at(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ii});if(await vs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new k0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(at(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ii}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new k0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Dl(this.storage,this.storageKey));const{error:f}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new A0("You must provide either an email or phone number.")}catch(o){if(at(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ii});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Dl(this.storage,this.storageKey)),await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:W$})}catch(i){if(at(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _s;const{error:a}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(at(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new A0("You must provide either an email or phone number and a type")}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await bo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=gx()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ps}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ps})})}catch(r){if(at(r))return p$(r)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new _s;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Dl(this.storage,this.storageKey));const{data:c,error:u}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ps});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _s;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=px(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(at(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _s;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Wa())throw new E0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new E0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new E0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vA("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!s||!c)throw new E0("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const d=h-u;d*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const g=h-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:p,error:m}=await this._getUser(i);if(m)throw m;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(at(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(d$(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=k$(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Dl(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(at(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,u;const{data:f,error:h}=i;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Wa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(at(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await C$(async a=>(a>0&&await T$(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ii})),(a,i)=>{const s=200*Math.pow(2,a);return i&&dx(i)&&Date.now()+s-n<Kl})}catch(n){if(this._debug(r,"error",n),at(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Wa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await bo(this.storage,this.storageKey);if(a&&this.userStorage){let s=await bo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Jl(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:gx()}else if(a&&!a.user&&!a.user){const s=await bo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await vs(this.storage,this.storageKey+"-user"),await Jl(this.storage,this.storageKey,a)):a.user=gx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),dx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mm;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new _s;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),at(i)){const s={session:null,error:i};return dx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=SA(a);await Jl(this.storage,this.storageKey,i)}else{const a=SA(r);await Jl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await vs(this.storage,this.storageKey+"-code-verifier"),await vs(this.storage,this.storageKey+"-user"),this.userStorage&&await vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Kl}ms, refresh threshold is ${Ob} ticks`),a<=Ob&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Dl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=px(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+f$>a)return n;const{data:i,error:s}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:g}=await this.getSession();if(g||!d.session)return{data:null,error:g};n=d.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=px(n);r!=null&&r.allowExpired||M$(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:i,header:a,signature:s},error:null}}const u=D$(a.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,w$(`${o}.${l}`)))throw new Nb("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}}Sh.nextInstanceID=0;const Z$=Sh;class Q$ extends Z${constructor(e){super(e)}}var ez=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class tz{constructor(e,r,n){var a,i,s;this.supabaseUrl=e,this.supabaseKey=r;const o=s$(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:K5,realtime:Z5,auth:Object.assign(Object.assign({},J5),{storageKey:l}),global:q5},u=i$(n??{},c);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=r$(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new m5(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Y5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new G8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return ez(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q$({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new F5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rz=(t,e,r)=>new tz(t,e,r);function nz(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lj={BASE_URL:"/KPI-Dashboard/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impza2Fqa3d1bGFhYWtoYW9semR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NTExMjEsImV4cCI6MjA3MzAyNzEyMX0.8pq0sVGGofg2vGmrOdbvqbVX-mFcdQInZ3T5pc70Qb4",VITE_SUPABASE_URL:"https://jskajkwulaaakhaolzdu.supabase.co"};var Ms={},kI;const az=typeof window<"u"&&((kI=window.__ENV)==null?void 0:kI.VITE_SUPABASE_URL)||typeof import.meta<"u"&&lj&&"https://jskajkwulaaakhaolzdu.supabase.co"||typeof process<"u"&&(Ms.NEXT_PUBLIC_SUPABASE_URL||Ms.REACT_APP_SUPABASE_URL||Ms.VITE_SUPABASE_URL)||typeof process<"u"&&Ms.SUPABASE_URL||"";var AI;const iz=typeof window<"u"&&((AI=window.__ENV)==null?void 0:AI.VITE_SUPABASE_ANON_KEY)||typeof import.meta<"u"&&lj&&"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impza2Fqa3d1bGFhYWtoYW9semR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NTExMjEsImV4cCI6MjA3MzAyNzEyMX0.8pq0sVGGofg2vGmrOdbvqbVX-mFcdQInZ3T5pc70Qb4"||typeof process<"u"&&(Ms.NEXT_PUBLIC_SUPABASE_ANON_KEY||Ms.REACT_APP_SUPABASE_ANON_KEY||Ms.VITE_SUPABASE_ANON_KEY)||typeof process<"u"&&Ms.SUPABASE_ANON_KEY||"",sz=typeof window<"u"&&localStorage.getItem("SUPABASE_URL")||"",oz=typeof window<"u"&&localStorage.getItem("SUPABASE_ANON_KEY")||"",cj=az||sz,uj=iz||oz,lz=cj||"https://placeholder.supabase.co",cz=uj||"placeholder-anon-key";(!cj||!uj)&&console.warn("[supabaseClient] Missing Supabase URL or anon key. Provide VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or NEXT_PUBLIC_/REACT_APP_ equivalents) via environment variables, or configure via Supabase Settings panel. Using placeholder values.");globalThis.__supabaseClient||(globalThis.__supabaseClient=rz(lz,cz,{auth:{persistSession:!0,autoRefreshToken:!0}}));const be=globalThis.__supabaseClient;function nf({children:t,fallback:e=null}){const[r,n]=U.useState(!1),[a,i]=U.useState(!1);return U.useEffect(()=>{async function s(){const{data:{session:o}}=await be.auth.getSession();if(!o){n(!1),i(!0);return}const{data:l,error:c}=await be.from("app_roles").select("role").eq("user_id",o.user.id).maybeSingle();{if(c)console.warn("AdminOnly app_roles error:",c),n(!1);else{const u=((l==null?void 0:l.role)??"user")==="admin";n(u),u||console.warn("AdminOnly: user is not admin; role =",l==null?void 0:l.role)}i(!0)}}s()},[]),a?r?t:e??null:x.jsx("div",{children:"Loading"})}const Fb="v3.2";console.log("[Procedures.jsx]",Fb);function Es(t){if(!t)return"";const e=t.trim();return/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(e)?e:"https://"+e}async function T0(){var t,e,r;try{if((t=be==null?void 0:be.auth)!=null&&t.getUser){const{data:n,error:a}=await be.auth.getUser();return a?(console.warn("supabase.auth.getUser error",a),null):((e=n==null?void 0:n.user)==null?void 0:e.id)||null}if((r=be==null?void 0:be.auth)!=null&&r.user){const n=be.auth.user();return(n==null?void 0:n.id)||null}}catch(n){console.warn("getUserId unexpected error",n)}return null}function uz({url:t}){if(!t)return null;const e=n=>/\.(mp4|webm|ogg|m3u8)(\?.*)?$/i.test(n);let r;try{r=new URL(t)}catch{try{r=new URL(Es(t))}catch{r=null}}if(r){const n=r.hostname||"";if(n.includes("youtube.com")||n.includes("youtu.be")){let a=r.searchParams.get("v");return!a&&n.includes("youtu.be")&&(a=r.pathname.replace("/","")),a?x.jsx("iframe",{width:"560",height:"315",src:`https://www.youtube.com/embed/${a}`,title:"YouTube video",frameBorder:"0",allowFullScreen:!0,style:{maxWidth:"100%",borderRadius:8}}):null}if(n.includes("vimeo.com")){const a=r.pathname.split("/").pop();return a?x.jsx("iframe",{width:"560",height:"315",src:`https://player.vimeo.com/video/${a}`,title:"Vimeo video",frameBorder:"0",allowFullScreen:!0,style:{maxWidth:"100%",borderRadius:8}}):null}if(n.includes("loom.com")){const a=(r.href||t).replace("/share/","/embed/");return x.jsx("iframe",{width:"560",height:"315",src:a,title:"Loom video",frameBorder:"0",allowFullScreen:!0,style:{maxWidth:"100%",borderRadius:8}})}if(e(r.href||t))return x.jsx("video",{controls:!0,src:r.href||t,style:{width:"100%",maxWidth:560,height:315,borderRadius:8}})}return x.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:12,textAlign:"center"},children:[x.jsx("p",{style:{margin:0,color:"#666",fontSize:14},children:"Video Link:"}),x.jsx("a",{href:Es(t),target:"_blank",rel:"noopener noreferrer",style:{color:"#0066cc",textDecoration:"none"},children:t})]})}function fz({attachment:t}){if(!(t!=null&&t.url))return null;const{url:e,filename:r,mime_type:n}=t;return n&&n.startsWith("image/")?x.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,padding:8,background:"#ffffff",textAlign:"center"},children:[x.jsx("img",{src:e,alt:r||"Attachment",style:{maxWidth:"100%",maxHeight:200,borderRadius:6,objectFit:"contain"}}),r&&x.jsx("div",{style:{fontSize:12,marginTop:4,color:"#666"},children:r})]}):x.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,padding:12,background:"#f8f9fa",textAlign:"center"},children:[x.jsx("div",{style:{marginBottom:8},children:x.jsx("span",{style:{fontSize:24},children:""})}),x.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{color:"#0066cc",textDecoration:"none",fontWeight:500,fontSize:14},children:r||"Download File"}),n&&x.jsx("div",{style:{fontSize:11,marginTop:4,color:"#888"},children:n})]})}function hz(){const[t,e]=U.useState([]),[r,n]=U.useState(!0),[a,i]=U.useState(null),[s,o]=U.useState("procedure"),[l,c]=U.useState(""),[u,f]=U.useState(""),[h,d]=U.useState(""),[g,p]=U.useState(""),[m,v]=U.useState(null),[y,b]=U.useState("url"),[S,w]=U.useState(!1),[_,k]=U.useState(null),[A,E]=U.useState(null),[C,T]=U.useState(""),[O,N]=U.useState("file"),[z,W]=U.useState(!1),[F,L]=U.useState({}),[H,I]=U.useState({}),[X,K]=U.useState({}),[P,Y]=U.useState({}),[B,G]=U.useState({}),[te,oe]=U.useState({});async function le(){n(!0),i(null);try{const{data:M,error:Z}=await be.from("procedures").select("id,title,body,created_at,procedure_videos(id,url,created_at,owner),procedure_attachments(id,url,filename,mime_type,created_at,owner)").order("created_at",{ascending:!1});Z?(i(`Failed to load procedures: ${Z.message}`),e([])):e(M||[])}catch(M){i(`Supabase connection error: ${M.message}`),e([])}n(!1)}U.useEffect(()=>{le()},[]);const re=U.useMemo(()=>t.map(M=>({value:M.id,label:M.title||"(untitled)"})),[t]);async function se(M){if(!M)throw new Error("No file provided to uploadAttachmentToSupabase");const Z=`${Date.now()}_${M.name.replace(/\s+/g,"_")}`;console.log("uploadAttachmentToSupabase: uploading",Z);const{data:ue,error:pe}=await be.storage.from("procedure-attachments").upload(Z,M,{cacheControl:"3600",upsert:!1});if(pe)throw console.error("Storage upload error",pe),pe;const{data:Se,error:Ge}=await be.storage.from("procedure-attachments").getPublicUrl(Z);Ge&&console.warn("Failed to get public URL; returning filename instead",Ge);const He=Es((Se==null?void 0:Se.publicUrl)||Z);return console.log("uploadAttachmentToSupabase: uploaded",{filename:Z,publicUrl:He,mimeType:M.type}),{publicUrl:He,filename:Z,mimeType:M.type}}async function xe(M){if(!M)throw new Error("No file provided to uploadVideoToSupabase");const Z=`${Date.now()}_${M.name.replace(/\s+/g,"_")}`;console.log("uploadVideoToSupabase: uploading",Z);const{data:ue,error:pe}=await be.storage.from("videos").upload(Z,M,{cacheControl:"3600",upsert:!1});if(pe)throw console.error("Storage upload error",pe),pe;const{data:Se,error:Ge}=await be.storage.from("videos").getPublicUrl(Z);Ge&&console.warn("Failed to get public URL; returning filename instead",Ge);const He=Es((Se==null?void 0:Se.publicUrl)||Z);return console.log("uploadVideoToSupabase: uploaded",{filename:Z,publicUrl:He}),{publicUrl:He,filename:Z}}async function D(M){if(M.preventDefault(),k(null),!l.trim()){k("Title is required.");return}try{const{error:Z}=await be.from("procedures").insert({title:l.trim(),body:u.trim()||null});if(Z){console.error("Supabase error adding procedure:",Z),k(`Failed to add procedure: ${Z.message}`);return}c(""),f(""),k(null),le()}catch(Z){console.error("Unexpected error adding procedure:",Z),k(`Unexpected error: ${Z.message}`)}}async function Ce(M){if(M.preventDefault(),!g)return alert("Choose a procedure to attach the video to.");w(!0);let Z=null;try{const ue=await T0();if(console.log("addVideoTop ownerId:",ue),!ue)return w(!1),alert("You must be signed in to add a video.");let pe="";if(y==="url"){if(!h.trim())return w(!1),alert("Paste a YouTube, Vimeo, or Loom URL.");const Ne=Es(h);if(!/youtube\.com|youtu\.be|vimeo\.com|loom\.com|\.mp4|\.webm|\.ogg|\.m3u8/i.test(Ne)&&!confirm("This URL does not look like YouTube/Vimeo/Loom or a direct video file. Add anyway?")){w(!1);return}pe=Ne}else{if(!m)return w(!1),alert("Select a video file to upload.");const{publicUrl:Ne,filename:Xe}=await xe(m);pe=Ne,Z=Xe}const Se={procedure_id:g,url:pe,owner:ue};console.log("addVideoTop inserting payload:",Se);const{data:Ge,error:He}=await be.from("procedure_videos").insert(Se).select().limit(1);if(He){if(console.error("Supabase error adding procedure video:",He),Z)try{const{error:Ne}=await be.storage.from("videos").remove([Z]);Ne?console.warn("Cleanup remove error:",Ne):console.log("Cleaned up uploaded file after DB insert failure:",Z)}catch(Ne){console.warn("Failed to cleanup uploaded file",Ne)}alert(He.message),w(!1);return}d(""),v(null),le()}catch(ue){if(console.error("addVideoTop unexpected error",ue),Z)try{const{error:pe}=await be.storage.from("videos").remove([Z]);pe?console.warn("Cleanup remove error (catch):",pe):console.log("Cleaned up uploaded file after unexpected failure:",Z)}catch(pe){console.warn("Failed to cleanup uploaded file (catch)",pe)}alert("Failed to add video: "+(ue.message||String(ue)))}finally{w(!1)}}async function Ee(M){if(M.preventDefault(),!g)return alert("Choose a procedure to attach the file to.");W(!0);let Z=null;try{const ue=await T0();if(console.log("addAttachmentTop ownerId:",ue),!ue)return W(!1),alert("You must be signed in to add an attachment.");let pe="",Se="",Ge="";if(O==="url"){if(!C.trim())return W(!1),alert("Enter a URL for the attachment.");pe=Es(C),Ge=C.split("/").pop()||"linked-file"}else{if(!A)return W(!1),alert("Select a file to upload.");const{publicUrl:wt,filename:je,mimeType:tt}=await se(A);pe=wt,Z=je,Ge=A.name,Se=tt}const He={procedure_id:g,url:pe,filename:Ge,mime_type:Se||null,owner:ue};console.log("addAttachmentTop inserting payload:",He);const{data:Ne,error:Xe}=await be.from("procedure_attachments").insert(He).select().limit(1);if(Xe){if(console.error("Supabase error adding procedure attachment:",Xe),Z)try{const{error:wt}=await be.storage.from("procedure-attachments").remove([Z]);wt?console.warn("Cleanup remove error:",wt):console.log("Cleaned up uploaded file after DB insert failure:",Z)}catch(wt){console.warn("Failed to cleanup uploaded file",wt)}alert(Xe.message),W(!1);return}T(""),E(null),le()}catch(ue){if(console.error("addAttachmentTop unexpected error",ue),Z)try{const{error:pe}=await be.storage.from("procedure-attachments").remove([Z]);pe?console.warn("Cleanup remove error (catch):",pe):console.log("Cleaned up uploaded file after unexpected failure:",Z)}catch(pe){console.warn("Failed to cleanup uploaded file (catch)",pe)}alert("Failed to add attachment: "+(ue.message||String(ue)))}finally{W(!1)}}async function $e(M){const Z=te[M]||"file";let ue=null;try{const pe=await T0();if(console.log("addAttachmentInline ownerId:",pe),!pe)return alert("You must be signed in to add an attachment.");let Se="",Ge="",He="";if(Z==="url"){const je=(P[M]||"").trim();if(!je)return;Se=Es(je),He=je.split("/").pop()||"linked-file"}else{const je=B[M];if(!je)return;const{publicUrl:tt,filename:br,mimeType:jt}=await se(je);Se=tt,ue=br,He=je.name,Ge=jt}const Ne={procedure_id:M,url:Se,filename:He,mime_type:Ge||null,owner:pe};console.log("addAttachmentInline inserting payload:",Ne);const{data:Xe,error:wt}=await be.from("procedure_attachments").insert(Ne).select().limit(1);if(wt){if(console.error("Supabase error adding inline attachment:",wt),ue)try{const{error:je}=await be.storage.from("procedure-attachments").remove([ue]);je?console.warn("Cleanup remove error (inline):",je):console.log("Cleaned up uploaded file after inline DB insert failure:",ue)}catch(je){console.warn("Cleanup failed (inline)",je)}return alert(wt.message)}Y(je=>({...je,[M]:""})),G(je=>({...je,[M]:null})),le()}catch(pe){if(console.error("addAttachmentInline unexpected error",pe),ue)try{const{error:Se}=await be.storage.from("procedure-attachments").remove([ue]);Se?console.warn("Cleanup remove error (inline catch):",Se):console.log("Cleaned up uploaded file after inline unexpected failure:",ue)}catch(Se){console.warn("Failed to cleanup uploaded file (inline catch)",Se)}alert("Failed to add attachment: "+(pe.message||String(pe)))}}async function ze(M){let Z=null;try{const ue=await T0();if(console.log("addVideoInline ownerId:",ue),!ue)return alert("You must be signed in to add a video.");let pe="";if(sourceType==="url"){const Ne=(F[M]||"").trim();if(!Ne)return;pe=Es(Ne)}else{const Ne=H[M];if(!Ne)return;const{publicUrl:Xe,filename:wt}=await xe(Ne);pe=Xe,Z=wt}const Se={procedure_id:M,url:pe,owner:ue};console.log("addVideoInline inserting payload:",Se);const{data:Ge,error:He}=await be.from("procedure_videos").insert(Se).select().limit(1);if(He){if(console.error("Supabase error adding inline video:",He),Z)try{const{error:Ne}=await be.storage.from("videos").remove([Z]);Ne?console.warn("Cleanup remove error (inline):",Ne):console.log("Cleaned up uploaded file after inline DB insert failure:",Z)}catch(Ne){console.warn("Cleanup failed (inline)",Ne)}return alert(He.message)}L(Ne=>({...Ne,[M]:""})),I(Ne=>({...Ne,[M]:null})),le()}catch(ue){if(console.error("addVideoInline unexpected error",ue),Z)try{const{error:pe}=await be.storage.from("videos").remove([Z]);pe?console.warn("Cleanup remove error (inline catch):",pe):console.log("Cleaned up uploaded file after inline unexpected failure:",Z)}catch(pe){console.warn("Failed to cleanup uploaded file (inline catch)",pe)}alert("Failed to add video: "+(ue.message||String(ue)))}}async function ie(M){const{error:Z}=await be.from("procedures").delete().eq("id",M);if(Z)return alert(Z.message);le()}async function Me(M){const{error:Z}=await be.from("procedure_attachments").delete().eq("id",M);if(Z)return alert(Z.message);le()}async function Qe(M){const{error:Z}=await be.from("procedure_videos").delete().eq("id",M);if(Z)return alert(Z.message);le()}return x.jsxs("div",{className:"p-4",style:{maxWidth:1e3},"data-proc-version":Fb,children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[x.jsx("h1",{style:{margin:0},children:"Procedures"}),x.jsx("span",{style:{fontSize:12,padding:"2px 6px",border:"1px solid #e5e7eb",borderRadius:999},children:Fb})]}),x.jsx(nf,{children:x.jsxs("div",{style:{marginTop:12,marginBottom:16,border:"1px solid #eee",borderRadius:10,padding:12,background:"#fafbfd"},children:[x.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:10},children:[x.jsxs("select",{value:s,onChange:M=>o(M.target.value),style:{minWidth:220},children:[x.jsx("option",{value:"procedure",children:"Procedure (Text)"}),x.jsx("option",{value:"video",children:"Video for (attach to procedure)"}),x.jsx("option",{value:"attachment",children:"Attachment for (attach to procedure)"})]}),x.jsx("div",{style:{opacity:.7,fontSize:12},children:"Tip: You can also add videos and attachments inline on each procedure card below. Supports YouTube, Vimeo, Loom, file uploads, and file attachments."})]}),s==="procedure"?x.jsxs("div",{children:[x.jsxs("form",{onSubmit:D,style:{display:"grid",gridTemplateColumns:"1fr 1fr 96px",gap:10},children:[x.jsx("input",{placeholder:"Title",value:l,onChange:M=>c(M.target.value),required:!0}),x.jsx("input",{placeholder:"Short description / steps",value:u,onChange:M=>f(M.target.value)}),x.jsx("button",{type:"submit",children:"Add"})]}),_&&x.jsx("div",{style:{background:"#fee",border:"1px solid #fcc",color:"#c33",padding:"8px 12px",borderRadius:6,marginTop:10,fontSize:14},children:_})]}):s==="video"?x.jsxs("div",{style:{display:"grid",gap:10},children:[x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[x.jsxs("select",{value:g,onChange:M=>p(M.target.value),required:!0,children:[x.jsx("option",{value:"",children:"Choose procedure"}),re.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value))]}),x.jsxs("select",{value:y,onChange:M=>b(M.target.value),children:[x.jsx("option",{value:"url",children:"URL (YouTube, Vimeo, Loom)"}),x.jsx("option",{value:"file",children:"Upload File"})]})]}),x.jsxs("form",{onSubmit:Ce,style:{display:"grid",gridTemplateColumns:"1fr 96px",gap:10},children:[y==="url"?x.jsx("input",{placeholder:"Paste YouTube, Vimeo, or Loom URL",value:h,onChange:M=>d(M.target.value),required:!0}):x.jsx("input",{type:"file",accept:"video/*",onChange:M=>{var Z;return v(((Z=M.target.files)==null?void 0:Z[0])||null)},required:!0,style:{padding:"8px"}}),x.jsx("button",{type:"submit",disabled:S,children:S?"Adding...":"Add"})]})]}):x.jsxs("div",{style:{display:"grid",gap:10},children:[x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[x.jsxs("select",{value:g,onChange:M=>p(M.target.value),required:!0,children:[x.jsx("option",{value:"",children:"Choose procedure"}),re.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value))]}),x.jsxs("select",{value:O,onChange:M=>N(M.target.value),children:[x.jsx("option",{value:"file",children:"Upload File"}),x.jsx("option",{value:"url",children:"Link to URL"})]})]}),x.jsxs("form",{onSubmit:Ee,style:{display:"grid",gridTemplateColumns:"1fr 96px",gap:10},children:[O==="url"?x.jsx("input",{placeholder:"Paste URL for file/image",value:C,onChange:M=>T(M.target.value),required:!0}):x.jsx("input",{type:"file",onChange:M=>{var Z;return E(((Z=M.target.files)==null?void 0:Z[0])||null)},required:!0,style:{padding:"8px"}}),x.jsx("button",{type:"submit",disabled:z,children:z?"Adding...":"Add"})]})]})]})}),x.jsx("h2",{style:{fontSize:16,margin:"12px 0"},children:"Procedures & Training"}),a&&x.jsx("div",{style:{background:"#fee",border:"1px solid #fcc",color:"#c33",padding:"12px 16px",borderRadius:8,marginBottom:16},children:a}),r?x.jsx("div",{children:"Loading"}):x.jsx(x.Fragment,{children:t.length===0?x.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666",background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8},children:"No procedures found."}):x.jsx("ul",{style:{listStyle:"none",padding:0,display:"grid",gap:14},children:t.map(M=>x.jsxs("li",{style:{border:"1px solid #e6e6e6",borderRadius:12,padding:16,background:"#fff"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,marginBottom:12},children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("h3",{style:{margin:0,marginBottom:4,fontSize:18,fontWeight:700,color:"#1a1a1a"},children:M.title}),M.body&&x.jsx("div",{style:{color:"#666",lineHeight:1.5,fontSize:14,padding:"8px 12px",background:"#f8f9fa",borderRadius:6,border:"1px solid #e9ecef"},children:M.body})]}),x.jsx(nf,{children:x.jsx("button",{onClick:()=>ie(M.id),style:{background:"#dc3545",color:"#fff",border:"none",padding:"8px 12px",borderRadius:6,fontSize:12,cursor:"pointer"},children:"Remove Procedure"})})]}),M.procedure_videos&&M.procedure_videos.length>0&&x.jsxs("div",{style:{marginBottom:12},children:[x.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:14,fontWeight:600,color:"#555"},children:["Attached Videos (",M.procedure_videos.length,")"]}),x.jsx("div",{style:{display:"grid",gap:12},children:M.procedure_videos.map(Z=>x.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,padding:12,background:"#ffffff"},children:[x.jsx(uz,{url:Z.url}),x.jsxs("div",{style:{fontSize:12,opacity:.7,marginTop:8},children:["Added: ",new Date(Z.created_at).toLocaleDateString()]}),x.jsx(nf,{children:x.jsx("div",{style:{marginTop:8},children:x.jsx("button",{onClick:()=>Qe(Z.id),style:{background:"#6c757d",color:"#fff",border:"none",padding:"4px 8px",borderRadius:4,fontSize:11,cursor:"pointer"},children:"Remove Video"})})})]},Z.id))})]}),M.procedure_attachments&&M.procedure_attachments.length>0&&x.jsxs("div",{style:{marginBottom:12},children:[x.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:14,fontWeight:600,color:"#555"},children:["Attached Files (",M.procedure_attachments.length,")"]}),x.jsx("div",{style:{display:"grid",gap:12},children:M.procedure_attachments.map(Z=>x.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,padding:12,background:"#ffffff"},children:[x.jsx(fz,{attachment:Z}),x.jsxs("div",{style:{fontSize:12,opacity:.7,marginTop:8},children:["Added: ",new Date(Z.created_at).toLocaleDateString()]}),x.jsx(nf,{children:x.jsx("div",{style:{marginTop:8},children:x.jsx("button",{onClick:()=>Me(Z.id),style:{background:"#6c757d",color:"#fff",border:"none",padding:"4px 8px",borderRadius:4,fontSize:11,cursor:"pointer"},children:"Remove Attachment"})})})]},Z.id))})]}),x.jsxs(nf,{children:[x.jsxs("div",{style:{marginTop:10,border:"1px solid #e9ecef",borderRadius:8,padding:10,background:"#f8f9fa"},children:[x.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:8,color:"#666"},children:"Add Video to this Procedure:"}),x.jsx("div",{style:{marginBottom:8},children:x.jsxs("select",{value:X[M.id]||"url",onChange:Z=>K(ue=>({...ue,[M.id]:Z.target.value})),style:{width:"100%",padding:"6px 8px",fontSize:12},children:[x.jsx("option",{value:"url",children:"URL (YouTube, Vimeo, Loom)"}),x.jsx("option",{value:"file",children:"Upload File"})]})}),x.jsxs("div",{style:{display:"flex",gap:8},children:[(X[M.id]||"url")==="url"?x.jsx("input",{placeholder:"Paste video URL",value:F[M.id]||"",onChange:Z=>L(ue=>({...ue,[M.id]:Z.target.value})),style:{flex:1,padding:"6px 8px"}}):x.jsx("input",{type:"file",accept:"video/*",onChange:Z=>I(ue=>{var pe;return{...ue,[M.id]:((pe=Z.target.files)==null?void 0:pe[0])||null}}),style:{flex:1,padding:"6px 8px"}}),x.jsx("button",{type:"button",onClick:()=>ze(M.id),children:"Add video"})]})]}),x.jsxs("div",{style:{marginTop:10,border:"1px solid #e9ecef",borderRadius:8,padding:10,background:"#f8f9fa"},children:[x.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:8,color:"#666"},children:"Add Attachment to this Procedure:"}),x.jsx("div",{style:{marginBottom:8},children:x.jsxs("select",{value:te[M.id]||"file",onChange:Z=>oe(ue=>({...ue,[M.id]:Z.target.value})),style:{width:"100%",padding:"6px 8px",fontSize:12},children:[x.jsx("option",{value:"file",children:"Upload File"}),x.jsx("option",{value:"url",children:"Link to URL"})]})}),x.jsxs("div",{style:{display:"flex",gap:8},children:[(te[M.id]||"file")==="url"?x.jsx("input",{placeholder:"Paste file/image URL",value:P[M.id]||"",onChange:Z=>Y(ue=>({...ue,[M.id]:Z.target.value})),style:{flex:1,padding:"6px 8px"}}):x.jsx("input",{type:"file",onChange:Z=>G(ue=>{var pe;return{...ue,[M.id]:((pe=Z.target.files)==null?void 0:pe[0])||null}}),style:{flex:1,padding:"6px 8px"}}),x.jsx("button",{type:"button",onClick:()=>$e(M.id),children:"Add attachment"})]})]})]})]},M.id))})})]})}const dz="private-attachments";async function pz(){const{data:t,error:e}=await be.from("delivery_tickets").select("*").order("created_at",{ascending:!1}).order("date",{ascending:!1});if(e)throw e;return t||[]}async function TA(t=1,e=50){const r=(t-1)*e,n=r+e-1,{data:a,error:i,count:s}=await be.from("delivery_tickets").select("*",{count:"exact"}).order("created_at",{ascending:!1}).order("date",{ascending:!1}).range(r,n);if(i)throw i;return{rows:a||[],count:s||0}}async function gz(){const{data:t,error:e}=await be.from("delivery_tickets").select("*").order("created_at",{ascending:!1}).order("date",{ascending:!1});if(e)throw e;return t||[]}async function mz(t){const{data:e,error:r}=await be.from("delivery_tickets").insert(t).select();if(r)throw r;return(e==null?void 0:e[0])??null}async function vz(t,e){const{data:r,error:n}=await be.from("delivery_tickets").update(e).eq("id",t).select();if(n)throw n;return(r==null?void 0:r[0])??null}async function xz(t){const{error:e}=await be.from("delivery_tickets").delete().eq("id",t);if(e)throw e;return!0}async function yz(t){const e={},r=Object.keys(t);for(const n of r)try{const a=await vz(n,t[n]);e[n]={success:!0,data:a}}catch(a){e[n]={success:!1,error:a}}return e}async function bz(t,e){const{data:r,error:n}=await be.storage.from(dz).upload(e,t,{cacheControl:"3600",upsert:!1});if(n)throw n;return r}async function wz({ticket_id:t,storage_key:e,filename:r,content_type:n,size:a,uploaded_by:i}){const{data:s,error:o}=await be.from("ticket_attachments").insert([{ticket_id:t,storage_key:e,filename:r,content_type:n,size:a,uploaded_by:i}]).select();if(o)throw o;return(s==null?void 0:s[0])??null}async function CA(t){const{data:e,error:r}=await be.from("ticket_attachments").select("*").eq("ticket_id",t).order("uploaded_at",{ascending:!1});if(r)throw r;return e||[]}function Sz(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${r}-${n}-${a}T${i}:${s}`}function _z(t){if(!t)return null;const e=new Date(t);return isNaN(e.getTime())?null:e.toISOString()}function jb(t){const e=t.length,r=t.reduce((g,p)=>{const m=Number(p.gallons_delivered||p.qty)||0;return g+m},0),n=t.reduce((g,p)=>g+(Number(p.amount)||0),0),a=t.filter(g=>g.miles_driven!=null&&g.miles_driven>0),i=a.reduce((g,p)=>g+(Number(p.miles_driven)||0),0),s=a.length>0?i/a.length:0,o=t.filter(g=>g.on_time_flag===0||g.on_time_flag===1),l=o.filter(g=>g.on_time_flag===1).length,c=o.length>0?l/o.length*100:0,u=r>0?n/r:0,f=u,h=e>0?r/e:0;return{tickets:e,totalGallons:r,amount:n,avgMiles:s,onTimePct:c,avgPricePerGallon:u,revenuePerGallon:f,gallonsPerTicket:h,milesPerTicket:s}}function kz(t){const e={};t.forEach(n=>{const a=n.truck||n.truck_id||"Unassigned";e[a]||(e[a]=[]),e[a].push(n)});const r={};return Object.keys(e).forEach(n=>{r[n]=jb(e[n])}),r}function Az(t){const e=new Set;return t.forEach(r=>{const n=r.truck||r.truck_id||"Unassigned";e.add(n)}),Array.from(e).sort()}function fj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=fj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=fj(t))&&(n&&(n+=" "),n+=e);return n}var Ez=Array.isArray,Xn=Ez,Tz=typeof gn=="object"&&gn&&gn.Object===Object&&gn,hj=Tz,Cz=hj,Oz=typeof self=="object"&&self&&self.Object===Object&&self,Pz=Cz||Oz||Function("return this")(),Ei=Pz,Iz=Ei,Nz=Iz.Symbol,Nd=Nz,OA=Nd,dj=Object.prototype,Fz=dj.hasOwnProperty,jz=dj.toString,af=OA?OA.toStringTag:void 0;function Mz(t){var e=Fz.call(t,af),r=t[af];try{t[af]=void 0;var n=!0}catch{}var a=jz.call(t);return n&&(e?t[af]=r:delete t[af]),a}var Dz=Mz,Rz=Object.prototype,Lz=Rz.toString;function Bz(t){return Lz.call(t)}var $z=Bz,PA=Nd,zz=Dz,Wz=$z,Uz="[object Null]",Hz="[object Undefined]",IA=PA?PA.toStringTag:void 0;function Xz(t){return t==null?t===void 0?Hz:Uz:IA&&IA in Object(t)?zz(t):Wz(t)}var cs=Xz;function Yz(t){return t!=null&&typeof t=="object"}var us=Yz,Vz=cs,Gz=us,qz="[object Symbol]";function Kz(t){return typeof t=="symbol"||Gz(t)&&Vz(t)==qz}var Su=Kz,Jz=Xn,Zz=Su,Qz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eW=/^\w*$/;function tW(t,e){if(Jz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Zz(t)?!0:eW.test(t)||!Qz.test(t)||e!=null&&t in Object(e)}var RS=tW;function rW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var co=rW;const _u=Lt(co);var nW=cs,aW=co,iW="[object AsyncFunction]",sW="[object Function]",oW="[object GeneratorFunction]",lW="[object Proxy]";function cW(t){if(!aW(t))return!1;var e=nW(t);return e==sW||e==oW||e==iW||e==lW}var LS=cW;const lt=Lt(LS);var uW=Ei,fW=uW["__core-js_shared__"],hW=fW,vx=hW,NA=function(){var t=/[^.]+$/.exec(vx&&vx.keys&&vx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dW(t){return!!NA&&NA in t}var pW=dW,gW=Function.prototype,mW=gW.toString;function vW(t){if(t!=null){try{return mW.call(t)}catch{}try{return t+""}catch{}}return""}var pj=vW,xW=LS,yW=pW,bW=co,wW=pj,SW=/[\\^$.*+?()[\]{}|]/g,_W=/^\[object .+?Constructor\]$/,kW=Function.prototype,AW=Object.prototype,EW=kW.toString,TW=AW.hasOwnProperty,CW=RegExp("^"+EW.call(TW).replace(SW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OW(t){if(!bW(t)||yW(t))return!1;var e=xW(t)?CW:_W;return e.test(wW(t))}var PW=OW;function IW(t,e){return t==null?void 0:t[e]}var NW=IW,FW=PW,jW=NW;function MW(t,e){var r=jW(t,e);return FW(r)?r:void 0}var _l=MW,DW=_l,RW=DW(Object,"create"),Dm=RW,FA=Dm;function LW(){this.__data__=FA?FA(null):{},this.size=0}var BW=LW;function $W(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zW=$W,WW=Dm,UW="__lodash_hash_undefined__",HW=Object.prototype,XW=HW.hasOwnProperty;function YW(t){var e=this.__data__;if(WW){var r=e[t];return r===UW?void 0:r}return XW.call(e,t)?e[t]:void 0}var VW=YW,GW=Dm,qW=Object.prototype,KW=qW.hasOwnProperty;function JW(t){var e=this.__data__;return GW?e[t]!==void 0:KW.call(e,t)}var ZW=JW,QW=Dm,eU="__lodash_hash_undefined__";function tU(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=QW&&e===void 0?eU:e,this}var rU=tU,nU=BW,aU=zW,iU=VW,sU=ZW,oU=rU;function ku(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ku.prototype.clear=nU;ku.prototype.delete=aU;ku.prototype.get=iU;ku.prototype.has=sU;ku.prototype.set=oU;var lU=ku;function cU(){this.__data__=[],this.size=0}var uU=cU;function fU(t,e){return t===e||t!==t&&e!==e}var BS=fU,hU=BS;function dU(t,e){for(var r=t.length;r--;)if(hU(t[r][0],e))return r;return-1}var Rm=dU,pU=Rm,gU=Array.prototype,mU=gU.splice;function vU(t){var e=this.__data__,r=pU(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mU.call(e,r,1),--this.size,!0}var xU=vU,yU=Rm;function bU(t){var e=this.__data__,r=yU(e,t);return r<0?void 0:e[r][1]}var wU=bU,SU=Rm;function _U(t){return SU(this.__data__,t)>-1}var kU=_U,AU=Rm;function EU(t,e){var r=this.__data__,n=AU(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var TU=EU,CU=uU,OU=xU,PU=wU,IU=kU,NU=TU;function Au(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Au.prototype.clear=CU;Au.prototype.delete=OU;Au.prototype.get=PU;Au.prototype.has=IU;Au.prototype.set=NU;var Lm=Au,FU=_l,jU=Ei,MU=FU(jU,"Map"),$S=MU,jA=lU,DU=Lm,RU=$S;function LU(){this.size=0,this.__data__={hash:new jA,map:new(RU||DU),string:new jA}}var BU=LU;function $U(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zU=$U,WU=zU;function UU(t,e){var r=t.__data__;return WU(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Bm=UU,HU=Bm;function XU(t){var e=HU(this,t).delete(t);return this.size-=e?1:0,e}var YU=XU,VU=Bm;function GU(t){return VU(this,t).get(t)}var qU=GU,KU=Bm;function JU(t){return KU(this,t).has(t)}var ZU=JU,QU=Bm;function eH(t,e){var r=QU(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var tH=eH,rH=BU,nH=YU,aH=qU,iH=ZU,sH=tH;function Eu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Eu.prototype.clear=rH;Eu.prototype.delete=nH;Eu.prototype.get=aH;Eu.prototype.has=iH;Eu.prototype.set=sH;var zS=Eu,gj=zS,oH="Expected a function";function WS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(oH);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(WS.Cache||gj),r}WS.Cache=gj;var mj=WS;const lH=Lt(mj);var cH=mj,uH=500;function fH(t){var e=cH(t,function(n){return r.size===uH&&r.clear(),n}),r=e.cache;return e}var hH=fH,dH=hH,pH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gH=/\\(\\)?/g,mH=dH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pH,function(r,n,a,i){e.push(a?i.replace(gH,"$1"):n||r)}),e}),vH=mH;function xH(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var US=xH,MA=Nd,yH=US,bH=Xn,wH=Su,DA=MA?MA.prototype:void 0,RA=DA?DA.toString:void 0;function vj(t){if(typeof t=="string")return t;if(bH(t))return yH(t,vj)+"";if(wH(t))return RA?RA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var SH=vj,_H=SH;function kH(t){return t==null?"":_H(t)}var xj=kH,AH=Xn,EH=RS,TH=vH,CH=xj;function OH(t,e){return AH(t)?t:EH(t,e)?[t]:TH(CH(t))}var yj=OH,PH=Su;function IH(t){if(typeof t=="string"||PH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $m=IH,NH=yj,FH=$m;function jH(t,e){e=NH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[FH(e[r++])];return r&&r==n?t:void 0}var HS=jH,MH=HS;function DH(t,e,r){var n=t==null?void 0:MH(t,e);return n===void 0?r:n}var bj=DH;const Ca=Lt(bj);function RH(t){return t==null}var LH=RH;const ht=Lt(LH);var BH=cs,$H=Xn,zH=us,WH="[object String]";function UH(t){return typeof t=="string"||!$H(t)&&zH(t)&&BH(t)==WH}var HH=UH;const sl=Lt(HH);var wj={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.element"),YS=Symbol.for("react.portal"),zm=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),Hm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),XH=Symbol.for("react.server_context"),Ym=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),qm=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),YH=Symbol.for("react.offscreen"),Sj;Sj=Symbol.for("react.module.reference");function Da(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XS:switch(t=t.type,t){case zm:case Um:case Wm:case Vm:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case XH:case Xm:case Ym:case Km:case qm:case Hm:return t;default:return e}}case YS:return e}}}Ft.ContextConsumer=Xm;Ft.ContextProvider=Hm;Ft.Element=XS;Ft.ForwardRef=Ym;Ft.Fragment=zm;Ft.Lazy=Km;Ft.Memo=qm;Ft.Portal=YS;Ft.Profiler=Um;Ft.StrictMode=Wm;Ft.Suspense=Vm;Ft.SuspenseList=Gm;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Da(t)===Xm};Ft.isContextProvider=function(t){return Da(t)===Hm};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XS};Ft.isForwardRef=function(t){return Da(t)===Ym};Ft.isFragment=function(t){return Da(t)===zm};Ft.isLazy=function(t){return Da(t)===Km};Ft.isMemo=function(t){return Da(t)===qm};Ft.isPortal=function(t){return Da(t)===YS};Ft.isProfiler=function(t){return Da(t)===Um};Ft.isStrictMode=function(t){return Da(t)===Wm};Ft.isSuspense=function(t){return Da(t)===Vm};Ft.isSuspenseList=function(t){return Da(t)===Gm};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zm||t===Um||t===Wm||t===Vm||t===Gm||t===YH||typeof t=="object"&&t!==null&&(t.$$typeof===Km||t.$$typeof===qm||t.$$typeof===Hm||t.$$typeof===Xm||t.$$typeof===Ym||t.$$typeof===Sj||t.getModuleId!==void 0)};Ft.typeOf=Da;wj.exports=Ft;var VH=wj.exports,GH=cs,qH=us,KH="[object Number]";function JH(t){return typeof t=="number"||qH(t)&&GH(t)==KH}var _j=JH;const ZH=Lt(_j);var QH=_j;function e7(t){return QH(t)&&t!=+t}var t7=e7;const Fd=Lt(t7);var Za=function(e){return e===0?0:e>0?1:-1},Lo=function(e){return sl(e)&&e.indexOf("%")===e.length-1},Ie=function(e){return ZH(e)&&!Fd(e)},r7=function(e){return ht(e)},jr=function(e){return Ie(e)||sl(e)},n7=0,jd=function(e){var r=++n7;return"".concat(e||"").concat(r)},ol=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&!sl(e))return n;var i;if(Lo(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Fd(i)&&(i=n),a&&i>r&&(i=r),i},Is=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},a7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},qa=function(e,r){return Ie(e)&&Ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function Gp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ca(n,e))===r})}var i7=function(e,r){return Ie(e)&&Ie(r)?e-r:sl(e)&&sl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function _c(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}var s7=["viewBox","children"],o7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LA=["points","pathLength"],xx={svg:s7,polygon:LA,polyline:LA},VS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(U.isValidElement(e)&&(n=e.props),!_u(n))return null;var a={};return Object.keys(n).forEach(function(i){VS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},l7=function(e,r,n){return function(a){return e(r,n,a),null}},Kp=function(e,r,n){if(!_u(e)||Mb(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];VS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=l7(s,r,n))}),a},c7=["children"],u7=["children"];function BA(t,e){if(t==null)return{};var r=f7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}var $A={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zA=null,yx=null,GS=function t(e){if(e===zA&&Array.isArray(yx))return yx;var r=[];return U.Children.forEach(e,function(n){ht(n)||(VH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),yx=r,zA=e,r};function Oa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Xi(a)}):n=[Xi(e)],GS(t).forEach(function(a){var i=Ca(a,"type.displayName")||Ca(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qn(t,e){var r=Oa(t,e);return r&&r[0]}var WA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ie(n)||n<=0||!Ie(a)||a<=0)},h7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],d7=function(e){return e&&e.type&&sl(e.type)&&h7.indexOf(e.type)>=0},p7=function(e){return e&&Db(e)==="object"&&"clipDot"in e},g7=function(e,r,n,a){var i,s=(i=xx==null?void 0:xx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!lt(e)&&(a&&s.includes(r)||o7.includes(r))||n&&VS.includes(r)},pt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(U.isValidElement(e)&&(a=e.props),!_u(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;g7((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},Rb=function t(e,r){if(e===r)return!0;var n=U.Children.count(e);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return UA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!UA(i,s))return!1}return!0},UA=function(e,r){if(ht(e)&&ht(r))return!0;if(!ht(e)&&!ht(r)){var n=e.props||{},a=n.children,i=BA(n,c7),s=r.props||{},o=s.children,l=BA(s,u7);return a&&o?_c(i,l)&&Rb(a,o):!a&&!o?_c(i,l):!1}return!1},HA=function(e,r){var n=[],a={};return GS(e).forEach(function(i,s){if(d7(i))n.push(i);else if(i){var o=Xi(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},m7=function(e){var r=e&&e.type;return r&&$A[r]?$A[r]:null},v7=function(e,r){return GS(r).indexOf(e)},x7=["children","width","height","viewBox","className","style","title","desc"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function y7(t,e){if(t==null)return{};var r=b7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bb(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,l=t.desc,c=y7(t,x7),u=a||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",i);return ae.createElement("svg",Lb({},pt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ae.createElement("title",null,o),ae.createElement("desc",null,l),e)}var w7=["children","className"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}function S7(t,e){if(t==null)return{};var r=_7(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vr=ae.forwardRef(function(t,e){var r=t.children,n=t.className,a=S7(t,w7),i=yt("recharts-layer",n);return ae.createElement("g",$b({className:i},pt(a,!0),{ref:e}),r)}),Yi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function k7(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var A7=k7,E7=A7;function T7(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:E7(t,e,r)}var C7=T7,O7="\\ud800-\\udfff",P7="\\u0300-\\u036f",I7="\\ufe20-\\ufe2f",N7="\\u20d0-\\u20ff",F7=P7+I7+N7,j7="\\ufe0e\\ufe0f",M7="\\u200d",D7=RegExp("["+M7+O7+F7+j7+"]");function R7(t){return D7.test(t)}var kj=R7;function L7(t){return t.split("")}var B7=L7,Aj="\\ud800-\\udfff",$7="\\u0300-\\u036f",z7="\\ufe20-\\ufe2f",W7="\\u20d0-\\u20ff",U7=$7+z7+W7,H7="\\ufe0e\\ufe0f",X7="["+Aj+"]",zb="["+U7+"]",Wb="\\ud83c[\\udffb-\\udfff]",Y7="(?:"+zb+"|"+Wb+")",Ej="[^"+Aj+"]",Tj="(?:\\ud83c[\\udde6-\\uddff]){2}",Cj="[\\ud800-\\udbff][\\udc00-\\udfff]",V7="\\u200d",Oj=Y7+"?",Pj="["+H7+"]?",G7="(?:"+V7+"(?:"+[Ej,Tj,Cj].join("|")+")"+Pj+Oj+")*",q7=Pj+Oj+G7,K7="(?:"+[Ej+zb+"?",zb,Tj,Cj,X7].join("|")+")",J7=RegExp(Wb+"(?="+Wb+")|"+K7+q7,"g");function Z7(t){return t.match(J7)||[]}var Q7=Z7,e9=B7,t9=kj,r9=Q7;function n9(t){return t9(t)?r9(t):e9(t)}var a9=n9,i9=C7,s9=kj,o9=a9,l9=xj;function c9(t){return function(e){e=l9(e);var r=s9(e)?o9(e):void 0,n=r?r[0]:e.charAt(0),a=r?i9(r,1).join(""):e.slice(1);return n[t]()+a}}var u9=c9,f9=u9,h9=f9("toUpperCase"),d9=h9;const Jm=Lt(d9);function Wt(t){return function(){return t}}const Ij=Math.cos,Jp=Math.sin,ui=Math.sqrt,Zp=Math.PI,Zm=2*Zp,Ub=Math.PI,Hb=2*Ub,Ao=1e-6,p9=Hb-Ao;function Nj(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function g9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nj;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class m9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nj:g9(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,c=a-r,u=s-e,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ao)if(!(Math.abs(f*l-c*u)>Ao)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let d=n-s,g=a-o,p=l*l+c*c,m=d*d+g*g,v=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((Ub-Math.acos((p+h-m)/(2*v*y)))/2),S=b/y,w=b/v;Math.abs(S-1)>Ao&&this._append`L${e+S*u},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*d>u*g)},${this._x1=e+w*l},${this._y1=r+w*c}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=e+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ao||Math.abs(this._y1-u)>Ao)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Hb+Hb),h>p9?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Ao&&this._append`A${n},${n},0,${+(h>=Ub)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new m9(e)}function KS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fj(t){this._context=t}Fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qm(t){return new Fj(t)}function jj(t){return t[0]}function Mj(t){return t[1]}function Dj(t,e){var r=Wt(!0),n=null,a=Qm,i=null,s=qS(o);t=typeof t=="function"?t:t===void 0?jj:Wt(t),e=typeof e=="function"?e:e===void 0?Mj:Wt(e);function o(l){var c,u=(l=KS(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,c,l),+e(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Wt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function C0(t,e,r){var n=null,a=Wt(!0),i=null,s=Qm,o=null,l=qS(c);t=typeof t=="function"?t:t===void 0?jj:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Mj:Wt(+r);function c(f){var h,d,g,p=(f=KS(f)).length,m,v=!1,y,b=new Array(p),S=new Array(p);for(i==null&&(o=s(y=l())),h=0;h<=p;++h){if(!(h<p&&a(m=f[h],h,f))===v)if(v=!v)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(b[g],S[g]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+t(m,h,f),S[h]=+e(m,h,f),o.point(n?+n(m,h,f):b[h],r?+r(m,h,f):S[h]))}if(y)return o=null,y+""||null}function u(){return Dj().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Wt(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class Rj{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function v9(t){return new Rj(t,!0)}function x9(t){return new Rj(t,!1)}const JS={draw(t,e){const r=ui(e/Zp);t.moveTo(r,0),t.arc(0,0,r,0,Zm)}},y9={draw(t,e){const r=ui(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Lj=ui(1/3),b9=Lj*2,w9={draw(t,e){const r=ui(e/b9),n=r*Lj;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},S9={draw(t,e){const r=ui(e),n=-r/2;t.rect(n,n,r,r)}},_9=.8908130915292852,Bj=Jp(Zp/10)/Jp(7*Zp/10),k9=Jp(Zm/10)*Bj,A9=-Ij(Zm/10)*Bj,E9={draw(t,e){const r=ui(e*_9),n=k9*r,a=A9*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Zm*i/5,o=Ij(s),l=Jp(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},bx=ui(3),T9={draw(t,e){const r=-ui(e/(bx*3));t.moveTo(0,r*2),t.lineTo(-bx*r,-r),t.lineTo(bx*r,-r),t.closePath()}},fa=-.5,ha=ui(3)/2,Xb=1/ui(12),C9=(Xb/2+1)*3,O9={draw(t,e){const r=ui(e/C9),n=r/2,a=r*Xb,i=n,s=r*Xb+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(fa*n-ha*a,ha*n+fa*a),t.lineTo(fa*i-ha*s,ha*i+fa*s),t.lineTo(fa*o-ha*l,ha*o+fa*l),t.lineTo(fa*n+ha*a,fa*a-ha*n),t.lineTo(fa*i+ha*s,fa*s-ha*i),t.lineTo(fa*o+ha*l,fa*l-ha*o),t.closePath()}};function P9(t,e){let r=null,n=qS(a);t=typeof t=="function"?t:Wt(t||JS),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Qp(){}function eg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function $j(t){this._context=t}$j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I9(t){return new $j(t)}function zj(t){this._context=t}zj.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N9(t){return new zj(t)}function Wj(t){this._context=t}Wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F9(t){return new Wj(t)}function Uj(t){this._context=t}Uj.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function j9(t){return new Uj(t)}function XA(t){return t<0?-1:1}function YA(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(XA(i)+XA(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function VA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function wx(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function tg(t){this._context=t}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wx(this,this._t0,VA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wx(this,VA(this,r=YA(this,t,e)),r);break;default:wx(this,this._t0,r=YA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Hj(t){this._context=new Xj(t)}(Hj.prototype=Object.create(tg.prototype)).point=function(t,e){tg.prototype.point.call(this,e,t)};function Xj(t){this._context=t}Xj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function M9(t){return new tg(t)}function D9(t){return new Hj(t)}function Yj(t){this._context=t}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=GA(t),a=GA(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GA(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function R9(t){return new Yj(t)}function ev(t,e){this._context=t,this._t=e}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function L9(t){return new ev(t,.5)}function B9(t){return new ev(t,0)}function $9(t){return new ev(t,1)}function Bc(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Yb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function z9(t,e){return t[e]}function W9(t){const e=[];return e.key=t,e}function U9(){var t=Wt([]),e=Yb,r=Bc,n=z9;function a(i){var s=Array.from(t.apply(this,arguments),W9),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=KS(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Yb:typeof i=="function"?i:Wt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Bc,a):r},a}function H9(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Bc(t,e)}}function X9(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Bc(t,e)}}function Y9(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var p=t[e[g]],m=p[n][1]||0,v=p[n-1][1]||0;d+=m-v}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Bc(t,e)}}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var V9=["type","size","sizeType"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}function qA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(r),!0).forEach(function(n){G9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G9(t,e,r){return e=q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q9(t){var e=K9(t,"string");return _h(e)=="symbol"?e:e+""}function K9(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J9(t,e){if(t==null)return{};var r=Z9(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Vj={symbolCircle:JS,symbolCross:y9,symbolDiamond:w9,symbolSquare:S9,symbolStar:E9,symbolTriangle:T9,symbolWye:O9},Q9=Math.PI/180,eX=function(e){var r="symbol".concat(Jm(e));return Vj[r]||JS},tX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Q9;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rX=function(e,r){Vj["symbol".concat(Jm(e))]=r},ZS=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,l=J9(e,V9),c=KA(KA({},l),{},{type:n,size:i,sizeType:o}),u=function(){var m=eX(n),v=P9().type(m).size(tX(i,o,n));return v()},f=c.className,h=c.cx,d=c.cy,g=pt(c,!0);return h===+h&&d===+d&&i===+i?ae.createElement("path",Vb({},g,{className:yt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};ZS.registerSymbol=rX;function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(this,arguments)}function JA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(r),!0).forEach(function(n){kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qj(n.key),n)}}function sX(t,e,r){return e&&iX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oX(t,e,r){return e=rg(e),lX(t,Gj()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function lX(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(t)}function cX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function uX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qb(t,e)}function kh(t,e,r){return e=qj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qj(t){var e=fX(t,"string");return $c(e)=="symbol"?e:e+""}function fX(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var da=32,QS=function(t){function e(){return aX(this,e),oX(this,e,arguments)}return uX(e,t),sX(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=da/2,s=da/6,o=da/3,l=n.inactive?a:n.color;if(n.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:da,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(da,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ae.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(n.legendIcon)){var c=nX({},n);return delete c.legendIcon,ae.cloneElement(n.legendIcon,c)}return ae.createElement(ZS,{fill:l,cx:i,cy:i,size:da,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:da,height:da},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,g){var p=d.formatter||l,m=yt(kh(kh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var v=lt(d.value)?null:d.value;Yi(!lt(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=d.inactive?c:d.color;return ae.createElement("li",Gb({className:m,style:f,key:"legend-item-".concat(g)},Kp(n.props,d,g)),ae.createElement(Bb,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(v,d,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);kh(QS,"displayName","Legend");kh(QS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hX=Lm;function dX(){this.__data__=new hX,this.size=0}var pX=dX;function gX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var mX=gX;function vX(t){return this.__data__.get(t)}var xX=vX;function yX(t){return this.__data__.has(t)}var bX=yX,wX=Lm,SX=$S,_X=zS,kX=200;function AX(t,e){var r=this.__data__;if(r instanceof wX){var n=r.__data__;if(!SX||n.length<kX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _X(n)}return r.set(t,e),this.size=r.size,this}var EX=AX,TX=Lm,CX=pX,OX=mX,PX=xX,IX=bX,NX=EX;function Tu(t){var e=this.__data__=new TX(t);this.size=e.size}Tu.prototype.clear=CX;Tu.prototype.delete=OX;Tu.prototype.get=PX;Tu.prototype.has=IX;Tu.prototype.set=NX;var Kj=Tu,FX="__lodash_hash_undefined__";function jX(t){return this.__data__.set(t,FX),this}var MX=jX;function DX(t){return this.__data__.has(t)}var RX=DX,LX=zS,BX=MX,$X=RX;function ng(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new LX;++e<r;)this.add(t[e])}ng.prototype.add=ng.prototype.push=BX;ng.prototype.has=$X;var Jj=ng;function zX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Zj=zX;function WX(t,e){return t.has(e)}var Qj=WX,UX=Jj,HX=Zj,XX=Qj,YX=1,VX=2;function GX(t,e,r,n,a,i){var s=r&YX,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=r&VX?new UX:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var g=t[f],p=e[f];if(n)var m=s?n(p,g,f,e,t,i):n(g,p,f,t,e,i);if(m!==void 0){if(m)continue;h=!1;break}if(d){if(!HX(e,function(v,y){if(!XX(d,y)&&(g===v||a(g,v,r,n,i)))return d.push(y)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var eM=GX,qX=Ei,KX=qX.Uint8Array,JX=KX;function ZX(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var QX=ZX;function eY(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var e_=eY,ZA=Nd,QA=JX,tY=BS,rY=eM,nY=QX,aY=e_,iY=1,sY=2,oY="[object Boolean]",lY="[object Date]",cY="[object Error]",uY="[object Map]",fY="[object Number]",hY="[object RegExp]",dY="[object Set]",pY="[object String]",gY="[object Symbol]",mY="[object ArrayBuffer]",vY="[object DataView]",eE=ZA?ZA.prototype:void 0,Sx=eE?eE.valueOf:void 0;function xY(t,e,r,n,a,i,s){switch(r){case vY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mY:return!(t.byteLength!=e.byteLength||!i(new QA(t),new QA(e)));case oY:case lY:case fY:return tY(+t,+e);case cY:return t.name==e.name&&t.message==e.message;case hY:case pY:return t==e+"";case uY:var o=nY;case dY:var l=n&iY;if(o||(o=aY),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=sY,s.set(t,e);var u=rY(o(t),o(e),n,a,i,s);return s.delete(t),u;case gY:if(Sx)return Sx.call(t)==Sx.call(e)}return!1}var yY=xY;function bY(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var tM=bY,wY=tM,SY=Xn;function _Y(t,e,r){var n=e(t);return SY(t)?n:wY(n,r(t))}var kY=_Y;function AY(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var EY=AY;function TY(){return[]}var CY=TY,OY=EY,PY=CY,IY=Object.prototype,NY=IY.propertyIsEnumerable,tE=Object.getOwnPropertySymbols,FY=tE?function(t){return t==null?[]:(t=Object(t),OY(tE(t),function(e){return NY.call(t,e)}))}:PY,jY=FY;function MY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var DY=MY,RY=cs,LY=us,BY="[object Arguments]";function $Y(t){return LY(t)&&RY(t)==BY}var zY=$Y,rE=zY,WY=us,rM=Object.prototype,UY=rM.hasOwnProperty,HY=rM.propertyIsEnumerable,XY=rE(function(){return arguments}())?rE:function(t){return WY(t)&&UY.call(t,"callee")&&!HY.call(t,"callee")},t_=XY,ag={exports:{}};function YY(){return!1}var VY=YY;ag.exports;(function(t,e){var r=Ei,n=VY,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(ag,ag.exports);var nM=ag.exports,GY=9007199254740991,qY=/^(?:0|[1-9]\d*)$/;function KY(t,e){var r=typeof t;return e=e??GY,!!e&&(r=="number"||r!="symbol"&&qY.test(t))&&t>-1&&t%1==0&&t<e}var r_=KY,JY=9007199254740991;function ZY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JY}var n_=ZY,QY=cs,eV=n_,tV=us,rV="[object Arguments]",nV="[object Array]",aV="[object Boolean]",iV="[object Date]",sV="[object Error]",oV="[object Function]",lV="[object Map]",cV="[object Number]",uV="[object Object]",fV="[object RegExp]",hV="[object Set]",dV="[object String]",pV="[object WeakMap]",gV="[object ArrayBuffer]",mV="[object DataView]",vV="[object Float32Array]",xV="[object Float64Array]",yV="[object Int8Array]",bV="[object Int16Array]",wV="[object Int32Array]",SV="[object Uint8Array]",_V="[object Uint8ClampedArray]",kV="[object Uint16Array]",AV="[object Uint32Array]",Yt={};Yt[vV]=Yt[xV]=Yt[yV]=Yt[bV]=Yt[wV]=Yt[SV]=Yt[_V]=Yt[kV]=Yt[AV]=!0;Yt[rV]=Yt[nV]=Yt[gV]=Yt[aV]=Yt[mV]=Yt[iV]=Yt[sV]=Yt[oV]=Yt[lV]=Yt[cV]=Yt[uV]=Yt[fV]=Yt[hV]=Yt[dV]=Yt[pV]=!1;function EV(t){return tV(t)&&eV(t.length)&&!!Yt[QY(t)]}var TV=EV;function CV(t){return function(e){return t(e)}}var aM=CV,ig={exports:{}};ig.exports;(function(t,e){var r=hj,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(ig,ig.exports);var OV=ig.exports,PV=TV,IV=aM,nE=OV,aE=nE&&nE.isTypedArray,NV=aE?IV(aE):PV,iM=NV,FV=DY,jV=t_,MV=Xn,DV=nM,RV=r_,LV=iM,BV=Object.prototype,$V=BV.hasOwnProperty;function zV(t,e){var r=MV(t),n=!r&&jV(t),a=!r&&!n&&DV(t),i=!r&&!n&&!a&&LV(t),s=r||n||a||i,o=s?FV(t.length,String):[],l=o.length;for(var c in t)(e||$V.call(t,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||RV(c,l)))&&o.push(c);return o}var WV=zV,UV=Object.prototype;function HV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||UV;return t===r}var XV=HV;function YV(t,e){return function(r){return t(e(r))}}var sM=YV,VV=sM,GV=VV(Object.keys,Object),qV=GV,KV=XV,JV=qV,ZV=Object.prototype,QV=ZV.hasOwnProperty;function eG(t){if(!KV(t))return JV(t);var e=[];for(var r in Object(t))QV.call(t,r)&&r!="constructor"&&e.push(r);return e}var tG=eG,rG=LS,nG=n_;function aG(t){return t!=null&&nG(t.length)&&!rG(t)}var Md=aG,iG=WV,sG=tG,oG=Md;function lG(t){return oG(t)?iG(t):sG(t)}var tv=lG,cG=kY,uG=jY,fG=tv;function hG(t){return cG(t,fG,uG)}var dG=hG,iE=dG,pG=1,gG=Object.prototype,mG=gG.hasOwnProperty;function vG(t,e,r,n,a,i){var s=r&pG,o=iE(t),l=o.length,c=iE(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:mG.call(e,h)))return!1}var d=i.get(t),g=i.get(e);if(d&&g)return d==e&&g==t;var p=!0;i.set(t,e),i.set(e,t);for(var m=s;++f<l;){h=o[f];var v=t[h],y=e[h];if(n)var b=s?n(y,v,h,e,t,i):n(v,y,h,t,e,i);if(!(b===void 0?v===y||a(v,y,r,n,i):b)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(t),i.delete(e),p}var xG=vG,yG=_l,bG=Ei,wG=yG(bG,"DataView"),SG=wG,_G=_l,kG=Ei,AG=_G(kG,"Promise"),EG=AG,TG=_l,CG=Ei,OG=TG(CG,"Set"),oM=OG,PG=_l,IG=Ei,NG=PG(IG,"WeakMap"),FG=NG,Kb=SG,Jb=$S,Zb=EG,Qb=oM,e1=FG,lM=cs,Cu=pj,sE="[object Map]",jG="[object Object]",oE="[object Promise]",lE="[object Set]",cE="[object WeakMap]",uE="[object DataView]",MG=Cu(Kb),DG=Cu(Jb),RG=Cu(Zb),LG=Cu(Qb),BG=Cu(e1),Eo=lM;(Kb&&Eo(new Kb(new ArrayBuffer(1)))!=uE||Jb&&Eo(new Jb)!=sE||Zb&&Eo(Zb.resolve())!=oE||Qb&&Eo(new Qb)!=lE||e1&&Eo(new e1)!=cE)&&(Eo=function(t){var e=lM(t),r=e==jG?t.constructor:void 0,n=r?Cu(r):"";if(n)switch(n){case MG:return uE;case DG:return sE;case RG:return oE;case LG:return lE;case BG:return cE}return e});var $G=Eo,_x=Kj,zG=eM,WG=yY,UG=xG,fE=$G,hE=Xn,dE=nM,HG=iM,XG=1,pE="[object Arguments]",gE="[object Array]",O0="[object Object]",YG=Object.prototype,mE=YG.hasOwnProperty;function VG(t,e,r,n,a,i){var s=hE(t),o=hE(e),l=s?gE:fE(t),c=o?gE:fE(e);l=l==pE?O0:l,c=c==pE?O0:c;var u=l==O0,f=c==O0,h=l==c;if(h&&dE(t)){if(!dE(e))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new _x),s||HG(t)?zG(t,e,r,n,a,i):WG(t,e,l,r,n,a,i);if(!(r&XG)){var d=u&&mE.call(t,"__wrapped__"),g=f&&mE.call(e,"__wrapped__");if(d||g){var p=d?t.value():t,m=g?e.value():e;return i||(i=new _x),a(p,m,r,n,i)}}return h?(i||(i=new _x),UG(t,e,r,n,a,i)):!1}var GG=VG,qG=GG,vE=us;function cM(t,e,r,n,a){return t===e?!0:t==null||e==null||!vE(t)&&!vE(e)?t!==t&&e!==e:qG(t,e,r,n,cM,a)}var a_=cM,KG=Kj,JG=a_,ZG=1,QG=2;function eq(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=r[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=r[a];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new KG;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?JG(u,c,ZG|QG,n,f):h))return!1}}return!0}var tq=eq,rq=co;function nq(t){return t===t&&!rq(t)}var uM=nq,aq=uM,iq=tv;function sq(t){for(var e=iq(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,aq(a)]}return e}var oq=sq;function lq(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var fM=lq,cq=tq,uq=oq,fq=fM;function hq(t){var e=uq(t);return e.length==1&&e[0][2]?fq(e[0][0],e[0][1]):function(r){return r===t||cq(r,t,e)}}var dq=hq;function pq(t,e){return t!=null&&e in Object(t)}var gq=pq,mq=yj,vq=t_,xq=Xn,yq=r_,bq=n_,wq=$m;function Sq(t,e,r){e=mq(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=wq(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&bq(a)&&yq(s,a)&&(xq(t)||vq(t)))}var _q=Sq,kq=gq,Aq=_q;function Eq(t,e){return t!=null&&Aq(t,e,kq)}var Tq=Eq,Cq=a_,Oq=bj,Pq=Tq,Iq=RS,Nq=uM,Fq=fM,jq=$m,Mq=1,Dq=2;function Rq(t,e){return Iq(t)&&Nq(e)?Fq(jq(t),e):function(r){var n=Oq(r,t);return n===void 0&&n===e?Pq(r,t):Cq(e,n,Mq|Dq)}}var Lq=Rq;function Bq(t){return t}var Ou=Bq;function $q(t){return function(e){return e==null?void 0:e[t]}}var zq=$q,Wq=HS;function Uq(t){return function(e){return Wq(e,t)}}var Hq=Uq,Xq=zq,Yq=Hq,Vq=RS,Gq=$m;function qq(t){return Vq(t)?Xq(Gq(t)):Yq(t)}var Kq=qq,Jq=dq,Zq=Lq,Qq=Ou,eK=Xn,tK=Kq;function rK(t){return typeof t=="function"?t:t==null?Qq:typeof t=="object"?eK(t)?Zq(t[0],t[1]):Jq(t):tK(t)}var uo=rK;function nK(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var hM=nK;function aK(t){return t!==t}var iK=aK;function sK(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var oK=sK,lK=hM,cK=iK,uK=oK;function fK(t,e,r){return e===e?uK(t,e,r):lK(t,cK,r)}var hK=fK,dK=hK;function pK(t,e){var r=t==null?0:t.length;return!!r&&dK(t,e,0)>-1}var gK=pK;function mK(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var vK=mK;function xK(){}var yK=xK,kx=oM,bK=yK,wK=e_,SK=1/0,_K=kx&&1/wK(new kx([,-0]))[1]==SK?function(t){return new kx(t)}:bK,kK=_K,AK=Jj,EK=gK,TK=vK,CK=Qj,OK=kK,PK=e_,IK=200;function NK(t,e,r){var n=-1,a=EK,i=t.length,s=!0,o=[],l=o;if(r)s=!1,a=TK;else if(i>=IK){var c=e?null:OK(t);if(c)return PK(c);s=!1,a=CK,l=new AK}else l=e?[]:o;e:for(;++n<i;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var FK=NK,jK=uo,MK=FK;function DK(t,e){return t&&t.length?MK(t,jK(e)):[]}var RK=DK;const xE=Lt(RK);function dM(t,e,r){return e===!0?xE(t,r):lt(e)?xE(t,e):t}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var LK=["ref"];function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){rv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gM(n.key),n)}}function $K(t,e,r){return e&&bE(t.prototype,e),r&&bE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zK(t,e,r){return e=sg(e),WK(t,pM()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function WK(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(t)}function UK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pM=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function HK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t1(t,e)}function rv(t,e,r){return e=gM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gM(t){var e=XK(t,"string");return zc(e)=="symbol"?e:e+""}function XK(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YK(t,e){if(t==null)return{};var r=VK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GK(t){return t.value}function qK(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var r=YK(e,LK);return ae.createElement(QS,r)}var wE=1,Vi=function(t){function e(){var r;BK(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zK(this,e,[].concat(a)),rv(r,"lastBoundingBox",{width:-1,height:-1}),r}return HK(e,t),$K(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>wE||Math.abs(a.height-this.lastBoundingBox.height)>wE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Pi(Pi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Pi(Pi({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},qK(i,Pi(Pi({},this.props),{},{payload:dM(u,c,GK)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Pi(Pi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ie(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(U.PureComponent);rv(Vi,"displayName","Legend");rv(Vi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SE=Nd,KK=t_,JK=Xn,_E=SE?SE.isConcatSpreadable:void 0;function ZK(t){return JK(t)||KK(t)||!!(_E&&t&&t[_E])}var QK=ZK,eJ=tM,tJ=QK;function mM(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=tJ),a||(a=[]);++i<s;){var o=t[i];e>0&&r(o)?e>1?mM(o,e-1,r,n,a):eJ(a,o):n||(a[a.length]=o)}return a}var vM=mM;function rJ(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++a];if(r(i[l],l,i)===!1)break}return e}}var nJ=rJ,aJ=nJ,iJ=aJ(),sJ=iJ,oJ=sJ,lJ=tv;function cJ(t,e){return t&&oJ(t,e,lJ)}var xM=cJ,uJ=Md;function fJ(t,e){return function(r,n){if(r==null)return r;if(!uJ(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var hJ=fJ,dJ=xM,pJ=hJ,gJ=pJ(dJ),i_=gJ,mJ=i_,vJ=Md;function xJ(t,e){var r=-1,n=vJ(t)?Array(t.length):[];return mJ(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var yM=xJ;function yJ(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var bJ=yJ,kE=Su;function wJ(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=kE(t),s=e!==void 0,o=e===null,l=e===e,c=kE(e);if(!o&&!c&&!i&&t>e||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&t<e||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var SJ=wJ,_J=SJ;function kJ(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,o=r.length;++n<s;){var l=_J(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var AJ=kJ,Ax=US,EJ=HS,TJ=uo,CJ=yM,OJ=bJ,PJ=aM,IJ=AJ,NJ=Ou,FJ=Xn;function jJ(t,e,r){e.length?e=Ax(e,function(i){return FJ(i)?function(s){return EJ(s,i.length===1?i[0]:i)}:i}):e=[NJ];var n=-1;e=Ax(e,PJ(TJ));var a=CJ(t,function(i,s,o){var l=Ax(e,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return OJ(a,function(i,s){return IJ(i,s,r)})}var MJ=jJ;function DJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var RJ=DJ,LJ=RJ,AE=Math.max;function BJ(t,e,r){return e=AE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=AE(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),LJ(t,this,o)}}var $J=BJ;function zJ(t){return function(){return t}}var WJ=zJ,UJ=_l,HJ=function(){try{var t=UJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bM=HJ,XJ=WJ,EE=bM,YJ=Ou,VJ=EE?function(t,e){return EE(t,"toString",{configurable:!0,enumerable:!1,value:XJ(e),writable:!0})}:YJ,GJ=VJ,qJ=800,KJ=16,JJ=Date.now;function ZJ(t){var e=0,r=0;return function(){var n=JJ(),a=KJ-(n-r);if(r=n,a>0){if(++e>=qJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var QJ=ZJ,eZ=GJ,tZ=QJ,rZ=tZ(eZ),nZ=rZ,aZ=Ou,iZ=$J,sZ=nZ;function oZ(t,e){return sZ(iZ(t,e,aZ),t+"")}var lZ=oZ,cZ=BS,uZ=Md,fZ=r_,hZ=co;function dZ(t,e,r){if(!hZ(r))return!1;var n=typeof e;return(n=="number"?uZ(r)&&fZ(e,r.length):n=="string"&&e in r)?cZ(r[e],t):!1}var nv=dZ,pZ=vM,gZ=MJ,mZ=lZ,TE=nv,vZ=mZ(function(t,e){if(t==null)return[];var r=e.length;return r>1&&TE(t,e[0],e[1])?e=[]:r>2&&TE(e[0],e[1],e[2])&&(e=[e[0]]),gZ(t,pZ(e,1),[])}),xZ=vZ;const s_=Lt(xZ);function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r1.apply(this,arguments)}function yZ(t,e){return _Z(t)||SZ(t,e)||wZ(t,e)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wZ(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function _Z(t){if(Array.isArray(t))return t}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){kZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kZ(t,e,r){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=EZ(t,"string");return Ah(e)=="symbol"?e:e+""}function EZ(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TZ(t){return Array.isArray(t)&&jr(t[0])&&jr(t[1])?t.join(" ~ "):t}var CZ=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,g=e.labelClassName,p=e.label,m=e.labelFormatter,v=e.accessibilityLayer,y=v===void 0?!1:v,b=function(){if(u&&u.length){var O={padding:0,margin:0},N=(h?s_(u,h):u).map(function(z,W){if(z.type==="none")return null;var F=Ex({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),L=z.formatter||f||TZ,H=z.value,I=z.name,X=H,K=I;if(L&&X!=null&&K!=null){var P=L(H,I,z,W,u);if(Array.isArray(P)){var Y=yZ(P,2);X=Y[0],K=Y[1]}else X=P}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:F},jr(K)?ae.createElement("span",{className:"recharts-tooltip-item-name"},K):null,jr(K)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},X),ae.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:O},N)}return null},S=Ex({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Ex({margin:0},c),_=!ht(p),k=_?p:"",A=yt("recharts-default-tooltip",d),E=yt("recharts-tooltip-label",g);_&&m&&u!==void 0&&u!==null&&(k=m(p,u));var C=y?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",r1({className:A,style:S},C),ae.createElement("p",{className:E,style:w},ae.isValidElement(k)?k:"".concat(k)),b())};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function P0(t,e,r){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OZ(t){var e=PZ(t,"string");return Eh(e)=="symbol"?e:e+""}function PZ(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf="recharts-tooltip-wrapper",IZ={visibility:"hidden"};function NZ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return yt(sf,P0(P0(P0(P0({},"".concat(sf,"-right"),Ie(r)&&e&&Ie(e.x)&&r>=e.x),"".concat(sf,"-left"),Ie(r)&&e&&Ie(e.x)&&r<e.x),"".concat(sf,"-bottom"),Ie(n)&&e&&Ie(e.y)&&n>=e.y),"".concat(sf,"-top"),Ie(n)&&e&&Ie(e.y)&&n<e.y))}function PE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(i&&Ie(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(e[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,p=l[n]+c;return g>p?Math.max(u,l[n]):Math.max(f,l[n])}function FZ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function jZ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=PE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=PE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=FZ({translateX:u,translateY:f,useTranslate3d:o})):c=IZ,{cssProperties:c,cssClasses:NZ({translateX:u,translateY:f,coordinate:r})}}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){a1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SM(n.key),n)}}function RZ(t,e,r){return e&&DZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LZ(t,e,r){return e=og(e),BZ(t,wM()?Reflect.construct(e,r||[],og(t).constructor):e.apply(t,r))}function BZ(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(t)}function $Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(t)}function zZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n1(t,e)}function a1(t,e,r){return e=SM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SM(t){var e=WZ(t,"string");return Wc(e)=="symbol"?e:e+""}function WZ(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FE=1,UZ=function(t){function e(){var r;MZ(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LZ(this,e,[].concat(a)),a1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),a1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return zZ(e,t),RZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>FE||Math.abs(n.height-this.state.lastBoundingBox.height)>FE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,g=a.position,p=a.reverseDirection,m=a.useTranslate3d,v=a.viewBox,y=a.wrapperStyle,b=jZ({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:v}),S=b.cssClasses,w=b.cssProperties,_=NE(NE({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return ae.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(A){n.wrapperNode=A}},c)}}])}(U.PureComponent),HZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pu={isSsr:HZ()};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){o_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kM(n.key),n)}}function VZ(t,e,r){return e&&YZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GZ(t,e,r){return e=lg(e),qZ(t,_M()?Reflect.construct(e,r||[],lg(t).constructor):e.apply(t,r))}function qZ(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KZ(t)}function KZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_M=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}function JZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i1(t,e)}function o_(t,e,r){return e=kM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kM(t){var e=ZZ(t,"string");return Uc(e)=="symbol"?e:e+""}function ZZ(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QZ(t){return t.dataKey}function eQ(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(CZ,e)}var Kn=function(t){function e(){return XZ(this,e),GZ(this,e,arguments)}return JZ(e,t),VZ(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,g=a.payload,p=a.payloadUniqBy,m=a.position,v=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=g??[];f&&w.length&&(w=dM(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,QZ));var _=w.length>0;return ae.createElement(UZ,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:_,offset:d,position:m,reverseDirection:v,useTranslate3d:y,viewBox:b,wrapperStyle:S},eQ(c,ME(ME({},this.props),{},{payload:w})))}}])}(U.PureComponent);o_(Kn,"displayName","Tooltip");o_(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tQ=Ei,rQ=function(){return tQ.Date.now()},nQ=rQ,aQ=/\s/;function iQ(t){for(var e=t.length;e--&&aQ.test(t.charAt(e)););return e}var sQ=iQ,oQ=sQ,lQ=/^\s+/;function cQ(t){return t&&t.slice(0,oQ(t)+1).replace(lQ,"")}var uQ=cQ,fQ=uQ,DE=co,hQ=Su,RE=NaN,dQ=/^[-+]0x[0-9a-f]+$/i,pQ=/^0b[01]+$/i,gQ=/^0o[0-7]+$/i,mQ=parseInt;function vQ(t){if(typeof t=="number")return t;if(hQ(t))return RE;if(DE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=DE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fQ(t);var r=pQ.test(t);return r||gQ.test(t)?mQ(t.slice(2),r?2:8):dQ.test(t)?RE:+t}var AM=vQ,xQ=co,Tx=nQ,LE=AM,yQ="Expected a function",bQ=Math.max,wQ=Math.min;function SQ(t,e,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(yQ);e=LE(e)||0,xQ(r)&&(u=!!r.leading,f="maxWait"in r,i=f?bQ(LE(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function d(_){var k=n,A=a;return n=a=void 0,c=_,s=t.apply(A,k),s}function g(_){return c=_,o=setTimeout(v,e),u?d(_):s}function p(_){var k=_-l,A=_-c,E=e-k;return f?wQ(E,i-A):E}function m(_){var k=_-l,A=_-c;return l===void 0||k>=e||k<0||f&&A>=i}function v(){var _=Tx();if(m(_))return y(_);o=setTimeout(v,p(_))}function y(_){return o=void 0,h&&n?d(_):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function S(){return o===void 0?s:y(Tx())}function w(){var _=Tx(),k=m(_);if(n=arguments,a=this,l=_,k){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(v,e),d(l)}return o===void 0&&(o=setTimeout(v,e)),s}return w.cancel=b,w.flush=S,w}var _Q=SQ,kQ=_Q,AQ=co,EQ="Expected a function";function TQ(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(EQ);return AQ(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),kQ(t,e,{leading:n,maxWait:e,trailing:a})}var CQ=TQ;const EM=Lt(CQ);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){OQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQ(t,e,r){return e=PQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PQ(t){var e=IQ(t,"string");return Th(e)=="symbol"?e:e+""}function IQ(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NQ(t,e){return DQ(t)||MQ(t,e)||jQ(t,e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(t,e){if(t){if(typeof t=="string")return $E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function DQ(t){if(Array.isArray(t))return t}var cg=U.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,d=t.children,g=t.debounce,p=g===void 0?0:g,m=t.id,v=t.className,y=t.onResize,b=t.style,S=b===void 0?{}:b,w=U.useRef(null),_=U.useRef();_.current=y,U.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=U.useState({containerWidth:a.width,containerHeight:a.height}),A=NQ(k,2),E=A[0],C=A[1],T=U.useCallback(function(N,z){C(function(W){var F=Math.round(N),L=Math.round(z);return W.containerWidth===F&&W.containerHeight===L?W:{containerWidth:F,containerHeight:L}})},[]);U.useEffect(function(){var N=function(I){var X,K=I[0].contentRect,P=K.width,Y=K.height;T(P,Y),(X=_.current)===null||X===void 0||X.call(_,P,Y)};p>0&&(N=EM(N,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(N),W=w.current.getBoundingClientRect(),F=W.width,L=W.height;return T(F,L),z.observe(w.current),function(){z.disconnect()}},[T,p]);var O=U.useMemo(function(){var N=E.containerWidth,z=E.containerHeight;if(N<0||z<0)return null;Yi(Lo(s)||Lo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Yi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Lo(s)?N:s,F=Lo(l)?z:l;r&&r>0&&(W?F=W/r:F&&(W=F*r),h&&F>h&&(F=h)),Yi(W>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,F,s,l,u,f,r);var L=!Array.isArray(d)&&Xi(d.type).endsWith("Chart");return ae.Children.map(d,function(H){return ae.isValidElement(H)?U.cloneElement(H,I0({width:W,height:F},L?{style:I0({height:"100%",width:"100%",maxHeight:F,maxWidth:W},H.props.style)}:{})):H})},[r,d,l,h,f,u,E,s]);return ae.createElement("div",{id:m?"".concat(m):void 0,className:yt("recharts-responsive-container",v),style:I0(I0({},S),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:w},O)}),TM=function(e){return null};TM.displayName="Cell";function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){RQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RQ(t,e,r){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LQ(t){var e=BQ(t,"string");return Ch(e)=="symbol"?e:e+""}function BQ(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $l={widthCache:{},cacheCount:0},$Q=2e3,zQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WE="recharts_measurement_span";function WQ(t){var e=s1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Hf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pu.isSsr)return{width:0,height:0};var n=WQ(r),a=JSON.stringify({text:e,copyStyle:n});if($l.widthCache[a])return $l.widthCache[a];try{var i=document.getElementById(WE);i||(i=document.createElement("span"),i.setAttribute("id",WE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=s1(s1({},zQ),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return $l.widthCache[a]=l,++$l.cacheCount>$Q&&($l.cacheCount=0,$l.widthCache={}),l}catch{return{width:0,height:0}}},UQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function ug(t,e){return VQ(t)||YQ(t,e)||XQ(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return UE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(t,e)}}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function VQ(t){if(Array.isArray(t))return t}function GQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KQ(n.key),n)}}function qQ(t,e,r){return e&&HE(t.prototype,e),r&&HE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KQ(t){var e=JQ(t,"string");return Oh(e)=="symbol"?e:e+""}function JQ(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eee=Object.keys(CM),hc="NaN";function tee(t,e){return t*CM[e]}var N0=function(){function t(e,r){GQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ZQ.test(r)&&(this.num=NaN,this.unit=""),eee.includes(r)&&(this.num=tee(e,r),this.unit="px")}return qQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=QQ.exec(r))!==null&&n!==void 0?n:[],i=ug(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])}();function OM(t){if(t.includes(hc))return hc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=XE.exec(e))!==null&&r!==void 0?r:[],a=ug(n,4),i=a[1],s=a[2],o=a[3],l=N0.parse(i??""),c=N0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return hc;e=e.replace(XE,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=YE.exec(e))!==null&&f!==void 0?f:[],d=ug(h,4),g=d[1],p=d[2],m=d[3],v=N0.parse(g??""),y=N0.parse(m??""),b=p==="+"?v.add(y):v.subtract(y);if(b.isNaN())return hc;e=e.replace(YE,b.toString())}return e}var VE=/\(([^()]*)\)/;function ree(t){for(var e=t;e.includes("(");){var r=VE.exec(e),n=ug(r,2),a=n[1];e=e.replace(VE,OM(a))}return e}function nee(t){var e=t.replace(/\s+/g,"");return e=ree(e),e=OM(e),e}function aee(t){try{return nee(t)}catch{return hc}}function Cx(t){var e=aee(t.slice(5,-1));return e===hc?"":e}var iee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],see=["dx","dy","angle","className","breakAll"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function GE(t,e){if(t==null)return{};var r=oee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qE(t,e){return fee(t)||uee(t,e)||cee(t,e)||lee()}function lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function fee(t){if(Array.isArray(t))return t}var PM=/[ \f\n\r\t\v\u2028\u2029]+/,IM=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];ht(r)||(n?i=r.toString().split(""):i=r.toString().split(PM));var s=i.map(function(l){return{word:l,width:Hf(l,a).width}}),o=n?0:Hf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},hee=function(e,r,n,a,i){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Ie(s),f=o,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(F,L){var H=L.word,I=L.width,X=F[F.length-1];if(X&&(a==null||i||X.width+I+n<Number(a)))X.words.push(H),X.width+=I+n;else{var K={words:[H],width:I};F.push(K)}return F},[])},d=h(r),g=function(W){return W.reduce(function(F,L){return F.width>L.width?F:L})};if(!u)return d;for(var p="",m=function(W){var F=f.slice(0,W),L=IM({breakAll:c,style:l,children:F+p}).wordsWithComputedWidth,H=h(L),I=H.length>s||g(H).width>Number(a);return[I,H]},v=0,y=f.length-1,b=0,S;v<=y&&b<=f.length-1;){var w=Math.floor((v+y)/2),_=w-1,k=m(_),A=qE(k,2),E=A[0],C=A[1],T=m(w),O=qE(T,1),N=O[0];if(!E&&!N&&(v=w+1),E&&N&&(y=w-1),!E&&N){S=C;break}b++}return S||d},JE=function(e){var r=ht(e)?[]:e.toString().split(PM);return[{words:r}]},dee=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Pu.isSsr){var l,c,u=IM({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return JE(a);return hee({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return JE(a)},ZE="#808080",fg=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,d=h===void 0?"start":h,g=e.verticalAnchor,p=g===void 0?"end":g,m=e.fill,v=m===void 0?ZE:m,y=GE(e,iee),b=U.useMemo(function(){return dee({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,k=y.className,A=y.breakAll,E=GE(y,see);if(!jr(n)||!jr(i))return null;var C=n+(Ie(S)?S:0),T=i+(Ie(w)?w:0),O;switch(p){case"start":O=Cx("calc(".concat(c,")"));break;case"middle":O=Cx("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=Cx("calc(".concat(b.length-1," * -").concat(o,")"));break}var N=[];if(f){var z=b[0].width,W=y.width;N.push("scale(".concat((Ie(W)?W/z:1)/z,")"))}return _&&N.push("rotate(".concat(_,", ").concat(C,", ").concat(T,")")),N.length&&(E.transform=N.join(" ")),ae.createElement("text",o1({},pt(E,!0),{x:C,y:T,className:yt("recharts-text",k),textAnchor:d,fill:v.includes("url")?ZE:v}),b.map(function(F,L){var H=F.words.join(A?"":" ");return ae.createElement("tspan",{x:C,dy:L===0?O:o,key:"".concat(H,"-").concat(L)},H)}))};function Vs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l_(t){let e,r,n;t.length!==2?(e=Vs,r=(o,l)=>Vs(t(o),l),n=(o,l)=>t(o)-l):(e=t===Vs||t===pee?t:gee,r=t,n=t);function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function gee(){return 0}function NM(t){return t===null?NaN:+t}function*mee(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const vee=l_(Vs),Dd=vee.right;l_(NM).center;class QE extends Map{constructor(e,r=bee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(eT(this,e))}has(e){return super.has(eT(this,e))}set(e,r){return super.set(xee(this,e),r)}delete(e){return super.delete(yee(this,e))}}function eT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function xee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function yee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wee(t=Vs){if(t===Vs)return FM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function FM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const See=Math.sqrt(50),_ee=Math.sqrt(10),kee=Math.sqrt(2);function hg(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=See?10:i>=_ee?5:i>=kee?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?hg(t,e,r*2):[o,l,c]}function l1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?hg(e,t,r):hg(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function c1(t,e,r){return e=+e,t=+t,r=+r,hg(t,e,r)[2]}function u1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?c1(e,t,r):c1(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function tT(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rT(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jM(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?FM:wee(a);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(e-c*f/l+h)),g=Math.min(n,Math.floor(e+(l-c)*f/l+h));jM(t,e,d,g,a)}const i=t[e];let s=r,o=n;for(of(t,r,e),a(t[n],i)>0&&of(t,r,n);s<o;){for(of(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?of(t,r,o):(++o,of(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function of(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Aee(t,e,r){if(t=Float64Array.from(mee(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return rT(t);if(e>=1)return tT(t);var n,a=(n-1)*e,i=Math.floor(a),s=tT(jM(t,i).subarray(0,i+1)),o=rT(t.subarray(i+1));return s+(o-s)*(a-i)}}function Eee(t,e,r=NM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function Tee(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Ra(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const f1=Symbol("implicit");function c_(){var t=new QE,e=[],r=[],n=f1;function a(i){let s=t.get(i);if(s===void 0){if(n!==f1)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new QE;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return c_(e,r).unknown(n)},Ra.apply(a,arguments),a}function Ph(){var t=c_().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,d=a<n,g=d?a:n,p=d?n:a;i=(p-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(p-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var m=Tee(h).map(function(v){return g+i*v});return r(d?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Ph(e(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ra.apply(f(),arguments)}function MM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MM(e())},t}function Xf(){return MM(Ph.apply(null,arguments).paddingInner(1))}function u_(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function DM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Rd(){}var Ih=.7,dg=1/Ih,kc="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cee=/^#([0-9a-f]{3,8})$/,Oee=new RegExp(`^rgb\\(${kc},${kc},${kc}\\)$`),Pee=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),Iee=new RegExp(`^rgba\\(${kc},${kc},${kc},${Nh}\\)$`),Nee=new RegExp(`^rgba\\(${_i},${_i},${_i},${Nh}\\)$`),Fee=new RegExp(`^hsl\\(${Nh},${_i},${_i}\\)$`),jee=new RegExp(`^hsla\\(${Nh},${_i},${_i},${Nh}\\)$`),nT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u_(Rd,Fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aT,formatHex:aT,formatHex8:Mee,formatHsl:Dee,formatRgb:iT,toString:iT});function aT(){return this.rgb().formatHex()}function Mee(){return this.rgb().formatHex8()}function Dee(){return RM(this).formatHsl()}function iT(){return this.rgb().formatRgb()}function Fh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Cee.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?sT(e):r===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?F0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?F0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oee.exec(t))?new Bn(e[1],e[2],e[3],1):(e=Pee.exec(t))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Iee.exec(t))?F0(e[1],e[2],e[3],e[4]):(e=Nee.exec(t))?F0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fee.exec(t))?cT(e[1],e[2]/100,e[3]/100,1):(e=jee.exec(t))?cT(e[1],e[2]/100,e[3]/100,e[4]):nT.hasOwnProperty(t)?sT(nT[t]):t==="transparent"?new Bn(NaN,NaN,NaN,0):null}function sT(t){return new Bn(t>>16&255,t>>8&255,t&255,1)}function F0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bn(t,e,r,n)}function Ree(t){return t instanceof Rd||(t=Fh(t)),t?(t=t.rgb(),new Bn(t.r,t.g,t.b,t.opacity)):new Bn}function h1(t,e,r,n){return arguments.length===1?Ree(t):new Bn(t,e,r,n??1)}function Bn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}u_(Bn,h1,DM(Rd,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(Go(this.r),Go(this.g),Go(this.b),pg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oT,formatHex:oT,formatHex8:Lee,formatRgb:lT,toString:lT}));function oT(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}`}function Lee(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}${Bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function lT(){const t=pg(this.opacity);return`${t===1?"rgb(":"rgba("}${Go(this.r)}, ${Go(this.g)}, ${Go(this.b)}${t===1?")":`, ${t})`}`}function pg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Go(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bo(t){return t=Go(t),(t<16?"0":"")+t.toString(16)}function cT(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ja(t,e,r,n)}function RM(t){if(t instanceof Ja)return new Ja(t.h,t.s,t.l,t.opacity);if(t instanceof Rd||(t=Fh(t)),!t)return new Ja;if(t instanceof Ja)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Ja(s,o,l,t.opacity)}function Bee(t,e,r,n){return arguments.length===1?RM(t):new Ja(t,e,r,n??1)}function Ja(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}u_(Ja,Bee,DM(Rd,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new Ja(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new Ja(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Bn(Ox(t>=240?t-240:t+120,a,n),Ox(t,a,n),Ox(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ja(uT(this.h),j0(this.s),j0(this.l),pg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pg(this.opacity);return`${t===1?"hsl(":"hsla("}${uT(this.h)}, ${j0(this.s)*100}%, ${j0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uT(t){return t=(t||0)%360,t<0?t+360:t}function j0(t){return Math.max(0,Math.min(1,t||0))}function Ox(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const f_=t=>()=>t;function $ee(t,e){return function(r){return t+r*e}}function zee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Wee(t){return(t=+t)==1?LM:function(e,r){return r-e?zee(e,r,t):f_(isNaN(e)?r:e)}}function LM(t,e){var r=e-t;return r?$ee(t,r):f_(isNaN(t)?e:t)}const fT=function t(e){var r=Wee(e);function n(a,i){var s=r((a=h1(a)).r,(i=h1(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=LM(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=t,n}(1);function Uee(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Hee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xee(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Iu(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Yee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vee(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Iu(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var d1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Px=new RegExp(d1.source,"g");function Gee(t){return function(){return t}}function qee(t){return function(e){return t(e)+""}}function Kee(t,e){var r=d1.lastIndex=Px.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=d1.exec(t))&&(a=Px.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:gg(n,a)})),r=Px.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?qee(l[0].x):Gee(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Iu(t,e){var r=typeof e,n;return e==null||r==="boolean"?f_(e):(r==="number"?gg:r==="string"?(n=Fh(e))?(e=n,fT):Kee:e instanceof Fh?fT:e instanceof Date?Yee:Hee(e)?Uee:Array.isArray(e)?Xee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vee:gg)(t,e)}function h_(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Jee(t,e){e===void 0&&(e=t,t=Iu);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Zee(t){return function(){return t}}function mg(t){return+t}var hT=[0,1];function Tn(t){return t}function p1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zee(isNaN(e)?NaN:.5)}function Qee(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ete(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=p1(a,n),i=r(s,i)):(n=p1(n,a),i=r(i,s)),function(o){return i(n(o))}}function tte(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=p1(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=Dd(t,o,1,n)-1;return i[l](a[l](o))}}function Ld(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function av(){var t=hT,e=hT,r=Iu,n,a,i,s=Tn,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==Tn&&(s=Qee(t[0],t[h-1])),o=h>2?tte:ete,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(e,t.map(n),gg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,mg),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=h_,u()},f.clamp=function(h){return arguments.length?(s=h?!0:Tn,u()):s!==Tn},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function d_(){return av()(Tn,Tn)}function rte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Hc(t){return t=vg(Math.abs(t)),t?t[1]:NaN}function nte(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function ate(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ite=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jh(t){if(!(e=ite.exec(t)))throw new Error("invalid format: "+t);var e;return new p_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jh.prototype=p_.prototype;function p_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}p_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ste(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var BM;function ote(t,e){var r=vg(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(BM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vg(t,Math.max(0,e+i-1))[0]}function dT(t,e){var r=vg(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dT(t*100,e),r:dT,s:ote,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gT(t){return t}var mT=Array.prototype.map,vT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lte(t){var e=t.grouping===void 0||t.thousands===void 0?gT:nte(mT.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?gT:ate(mT.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=jh(f);var h=f.fill,d=f.align,g=f.sign,p=f.symbol,m=f.zero,v=f.width,y=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(y=!0,w="g"):pT[w]||(b===void 0&&(b=12),S=!0,w="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=p==="$"?n:/[%p]/.test(w)?s:"",A=pT[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(T){var O=_,N=k,z,W,F;if(w==="c")N=A(T)+N,T="";else{T=+T;var L=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),b),S&&(T=ste(T)),L&&+T==0&&g!=="+"&&(L=!1),O=(L?g==="("?g:o:g==="-"||g==="("?"":g)+O,N=(w==="s"?vT[8+BM/3]:"")+N+(L&&g==="("?")":""),E){for(z=-1,W=T.length;++z<W;)if(F=T.charCodeAt(z),48>F||F>57){N=(F===46?a+T.slice(z+1):T.slice(z))+N,T=T.slice(0,z);break}}}y&&!m&&(T=e(T,1/0));var H=O.length+T.length+N.length,I=H<v?new Array(v-H+1).join(h):"";switch(y&&m&&(T=e(I+T,I.length?v-N.length:1/0),I=""),d){case"<":T=O+T+N+I;break;case"=":T=O+I+T+N;break;case"^":T=I.slice(0,H=I.length>>1)+O+T+N+I.slice(H);break;default:T=I+O+T+N;break}return i(T)}return C.toString=function(){return f+""},C}function u(f,h){var d=c((f=jh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Hc(h)/3)))*3,p=Math.pow(10,-g),m=vT[8+g/3];return function(v){return d(p*v)+m}}return{format:c,formatPrefix:u}}var M0,g_,$M;cte({thousands:",",grouping:[3],currency:["$",""]});function cte(t){return M0=lte(t),g_=M0.format,$M=M0.formatPrefix,M0}function ute(t){return Math.max(0,-Hc(Math.abs(t)))}function fte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hc(e)/3)))*3-Hc(Math.abs(t)))}function hte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hc(e)-Hc(t))+1}function zM(t,e,r,n){var a=u1(t,e,r),i;switch(n=jh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=fte(a,s))&&(n.precision=i),$M(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=hte(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ute(a))&&(n.precision=i-(n.type==="%")*2);break}}return g_(n)}function fo(t){var e=t.domain;return t.ticks=function(r){var n=e();return l1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return zM(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=c1(s,o,r),c===l)return n[a]=s,n[i]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function xg(){var t=d_();return t.copy=function(){return Ld(t,xg())},Ra.apply(t,arguments),fo(t)}function WM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return WM(t).unknown(e)},t=arguments.length?Array.from(t,mg):[0,1],fo(r)}function UM(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function xT(t){return Math.log(t)}function yT(t){return Math.exp(t)}function dte(t){return-Math.log(-t)}function pte(t){return-Math.exp(-t)}function gte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mte(t){return t===10?gte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bT(t){return(e,r)=>-t(-e,r)}function m_(t){const e=t(xT,yT),r=e.domain;let n=10,a,i;function s(){return a=vte(n),i=mte(n),r()[0]<0?(a=bT(a),i=bT(i),t(dte,pte)):t(xT,yT),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),g,p;const m=o==null?10:+o;let v=[];if(!(n%1)&&d-h<m){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<c)){if(p>u)break;v.push(p)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<c)){if(p>u)break;v.push(p)}v.length*2<m&&(v=l1(c,u,m))}else v=l1(h,d,Math.min(d-h,m)).map(i);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=jh(l)).precision==null&&(l.trim=!0),l=g_(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(UM(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function HM(){const t=m_(av()).domain([1,10]);return t.copy=()=>Ld(t,HM()).base(t.base()),Ra.apply(t,arguments),t}function wT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ST(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function v_(t){var e=1,r=t(wT(e),ST(e));return r.constant=function(n){return arguments.length?t(wT(e=+n),ST(e)):e},fo(r)}function XM(){var t=v_(av());return t.copy=function(){return Ld(t,XM()).constant(t.constant())},Ra.apply(t,arguments)}function _T(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yte(t){return t<0?-t*t:t*t}function x_(t){var e=t(Tn,Tn),r=1;function n(){return r===1?t(Tn,Tn):r===.5?t(xte,yte):t(_T(r),_T(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},fo(e)}function y_(){var t=x_(av());return t.copy=function(){return Ld(t,y_()).exponent(t.exponent())},Ra.apply(t,arguments),t}function bte(){return y_.apply(null,arguments).exponent(.5)}function kT(t){return Math.sign(t)*t*t}function wte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YM(){var t=d_(),e=[0,1],r=!1,n;function a(i){var s=wte(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(kT(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,mg)).map(kT)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return YM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ra.apply(a,arguments),fo(a)}function VM(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Eee(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[Dd(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Vs),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return VM().domain(t).range(e).unknown(n)},Ra.apply(i,arguments)}function GM(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Dd(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return GM().domain([t,e]).range(a).unknown(i)},Ra.apply(fo(s),arguments)}function qM(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Dd(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return qM().domain(t).range(e).unknown(r)},Ra.apply(a,arguments)}const Ix=new Date,Nx=new Date;function Rr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),e(i,o),t(i);while(c<i&&i<s);return l},a.filter=i=>Rr(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(Ix.setTime(+i),Nx.setTime(+s),t(Ix),t(Nx),Math.floor(r(Ix,Nx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const yg=Rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):yg);yg.range;const Li=1e3,Aa=Li*60,Bi=Aa*60,rs=Bi*24,b_=rs*7,AT=rs*30,Fx=rs*365,$o=Rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCSeconds());$o.range;const w_=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getMinutes());w_.range;const S_=Rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCMinutes());S_.range;const __=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li-t.getMinutes()*Aa)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getHours());__.range;const k_=Rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCHours());k_.range;const Bd=Rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/rs,t=>t.getDate()-1);Bd.range;const iv=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>t.getUTCDate()-1);iv.range;const KM=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>Math.floor(t/rs));KM.range;function kl(t){return Rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/b_)}const sv=kl(0),bg=kl(1),Ste=kl(2),_te=kl(3),Xc=kl(4),kte=kl(5),Ate=kl(6);sv.range;bg.range;Ste.range;_te.range;Xc.range;kte.range;Ate.range;function Al(t){return Rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/b_)}const ov=Al(0),wg=Al(1),Ete=Al(2),Tte=Al(3),Yc=Al(4),Cte=Al(5),Ote=Al(6);ov.range;wg.range;Ete.range;Tte.range;Yc.range;Cte.range;Ote.range;const A_=Rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());A_.range;const E_=Rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());E_.range;const ns=Rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ns.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ns.range;const as=Rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());as.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});as.range;function JM(t,e,r,n,a,i){const s=[[$o,1,Li],[$o,5,5*Li],[$o,15,15*Li],[$o,30,30*Li],[i,1,Aa],[i,5,5*Aa],[i,15,15*Aa],[i,30,30*Aa],[a,1,Bi],[a,3,3*Bi],[a,6,6*Bi],[a,12,12*Bi],[n,1,rs],[n,2,2*rs],[r,1,b_],[e,1,AT],[e,3,3*AT],[t,1,Fx]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),g=d?d.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,d=l_(([,,m])=>m).right(s,h);if(d===s.length)return t.every(u1(c/Fx,u/Fx,f));if(d===0)return yg.every(Math.max(u1(c,u,f),1));const[g,p]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(p)}return[o,l]}const[Pte,Ite]=JM(as,E_,ov,KM,k_,S_),[Nte,Fte]=JM(ns,A_,sv,Bd,__,w_);function jx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function jte(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=cf(a),u=uf(a),f=cf(i),h=uf(i),d=cf(s),g=uf(s),p=cf(o),m=uf(o),v=cf(l),y=uf(l),b={a:L,A:H,b:I,B:X,c:null,d:IT,e:IT,f:nre,g:dre,G:gre,H:ere,I:tre,j:rre,L:ZM,m:are,M:ire,p:K,q:P,Q:jT,s:MT,S:sre,u:ore,U:lre,V:cre,w:ure,W:fre,x:null,X:null,y:hre,Y:pre,Z:mre,"%":FT},S={a:Y,A:B,b:G,B:te,c:null,d:NT,e:NT,f:bre,g:Pre,G:Nre,H:vre,I:xre,j:yre,L:e4,m:wre,M:Sre,p:oe,q:le,Q:jT,s:MT,S:_re,u:kre,U:Are,V:Ere,w:Tre,W:Cre,x:null,X:null,y:Ore,Y:Ire,Z:Fre,"%":FT},w={a:C,A:T,b:O,B:N,c:z,d:OT,e:OT,f:Kte,g:CT,G:TT,H:PT,I:PT,j:Yte,L:qte,m:Xte,M:Vte,p:E,q:Hte,Q:Zte,s:Qte,S:Gte,u:Bte,U:$te,V:zte,w:Lte,W:Wte,x:W,X:F,y:CT,Y:TT,Z:Ute,"%":Jte};b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(re,se){return function(xe){var D=[],Ce=-1,Ee=0,$e=re.length,ze,ie,Me;for(xe instanceof Date||(xe=new Date(+xe));++Ce<$e;)re.charCodeAt(Ce)===37&&(D.push(re.slice(Ee,Ce)),(ie=ET[ze=re.charAt(++Ce)])!=null?ze=re.charAt(++Ce):ie=ze==="e"?" ":"0",(Me=se[ze])&&(ze=Me(xe,ie)),D.push(ze),Ee=Ce+1);return D.push(re.slice(Ee,Ce)),D.join("")}}function k(re,se){return function(xe){var D=lf(1900,void 0,1),Ce=A(D,re,xe+="",0),Ee,$e;if(Ce!=xe.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(se&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(Ee=Mx(lf(D.y,0,1)),$e=Ee.getUTCDay(),Ee=$e>4||$e===0?wg.ceil(Ee):wg(Ee),Ee=iv.offset(Ee,(D.V-1)*7),D.y=Ee.getUTCFullYear(),D.m=Ee.getUTCMonth(),D.d=Ee.getUTCDate()+(D.w+6)%7):(Ee=jx(lf(D.y,0,1)),$e=Ee.getDay(),Ee=$e>4||$e===0?bg.ceil(Ee):bg(Ee),Ee=Bd.offset(Ee,(D.V-1)*7),D.y=Ee.getFullYear(),D.m=Ee.getMonth(),D.d=Ee.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),$e="Z"in D?Mx(lf(D.y,0,1)).getUTCDay():jx(lf(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-($e+5)%7:D.w+D.U*7-($e+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Mx(D)):jx(D)}}function A(re,se,xe,D){for(var Ce=0,Ee=se.length,$e=xe.length,ze,ie;Ce<Ee;){if(D>=$e)return-1;if(ze=se.charCodeAt(Ce++),ze===37){if(ze=se.charAt(Ce++),ie=w[ze in ET?se.charAt(Ce++):ze],!ie||(D=ie(re,xe,D))<0)return-1}else if(ze!=xe.charCodeAt(D++))return-1}return D}function E(re,se,xe){var D=c.exec(se.slice(xe));return D?(re.p=u.get(D[0].toLowerCase()),xe+D[0].length):-1}function C(re,se,xe){var D=d.exec(se.slice(xe));return D?(re.w=g.get(D[0].toLowerCase()),xe+D[0].length):-1}function T(re,se,xe){var D=f.exec(se.slice(xe));return D?(re.w=h.get(D[0].toLowerCase()),xe+D[0].length):-1}function O(re,se,xe){var D=v.exec(se.slice(xe));return D?(re.m=y.get(D[0].toLowerCase()),xe+D[0].length):-1}function N(re,se,xe){var D=p.exec(se.slice(xe));return D?(re.m=m.get(D[0].toLowerCase()),xe+D[0].length):-1}function z(re,se,xe){return A(re,e,se,xe)}function W(re,se,xe){return A(re,r,se,xe)}function F(re,se,xe){return A(re,n,se,xe)}function L(re){return s[re.getDay()]}function H(re){return i[re.getDay()]}function I(re){return l[re.getMonth()]}function X(re){return o[re.getMonth()]}function K(re){return a[+(re.getHours()>=12)]}function P(re){return 1+~~(re.getMonth()/3)}function Y(re){return s[re.getUTCDay()]}function B(re){return i[re.getUTCDay()]}function G(re){return l[re.getUTCMonth()]}function te(re){return o[re.getUTCMonth()]}function oe(re){return a[+(re.getUTCHours()>=12)]}function le(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var se=_(re+="",b);return se.toString=function(){return re},se},parse:function(re){var se=k(re+="",!1);return se.toString=function(){return re},se},utcFormat:function(re){var se=_(re+="",S);return se.toString=function(){return re},se},utcParse:function(re){var se=k(re+="",!0);return se.toString=function(){return re},se}}}var ET={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,Mte=/^%/,Dte=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function Rte(t){return t.replace(Dte,"\\$&")}function cf(t){return new RegExp("^(?:"+t.map(Rte).join("|")+")","i")}function uf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Lte(t,e,r){var n=Hr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Bte(t,e,r){var n=Hr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function $te(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function zte(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Wte(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function TT(t,e,r){var n=Hr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function CT(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ute(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hte(t,e,r){var n=Hr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xte(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function OT(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Yte(t,e,r){var n=Hr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function PT(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vte(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Gte(t,e,r){var n=Hr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function qte(t,e,r){var n=Hr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Kte(t,e,r){var n=Hr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jte(t,e,r){var n=Mte.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Zte(t,e,r){var n=Hr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Qte(t,e,r){var n=Hr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function IT(t,e){return _t(t.getDate(),e,2)}function ere(t,e){return _t(t.getHours(),e,2)}function tre(t,e){return _t(t.getHours()%12||12,e,2)}function rre(t,e){return _t(1+Bd.count(ns(t),t),e,3)}function ZM(t,e){return _t(t.getMilliseconds(),e,3)}function nre(t,e){return ZM(t,e)+"000"}function are(t,e){return _t(t.getMonth()+1,e,2)}function ire(t,e){return _t(t.getMinutes(),e,2)}function sre(t,e){return _t(t.getSeconds(),e,2)}function ore(t){var e=t.getDay();return e===0?7:e}function lre(t,e){return _t(sv.count(ns(t)-1,t),e,2)}function QM(t){var e=t.getDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function cre(t,e){return t=QM(t),_t(Xc.count(ns(t),t)+(ns(t).getDay()===4),e,2)}function ure(t){return t.getDay()}function fre(t,e){return _t(bg.count(ns(t)-1,t),e,2)}function hre(t,e){return _t(t.getFullYear()%100,e,2)}function dre(t,e){return t=QM(t),_t(t.getFullYear()%100,e,2)}function pre(t,e){return _t(t.getFullYear()%1e4,e,4)}function gre(t,e){var r=t.getDay();return t=r>=4||r===0?Xc(t):Xc.ceil(t),_t(t.getFullYear()%1e4,e,4)}function mre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function NT(t,e){return _t(t.getUTCDate(),e,2)}function vre(t,e){return _t(t.getUTCHours(),e,2)}function xre(t,e){return _t(t.getUTCHours()%12||12,e,2)}function yre(t,e){return _t(1+iv.count(as(t),t),e,3)}function e4(t,e){return _t(t.getUTCMilliseconds(),e,3)}function bre(t,e){return e4(t,e)+"000"}function wre(t,e){return _t(t.getUTCMonth()+1,e,2)}function Sre(t,e){return _t(t.getUTCMinutes(),e,2)}function _re(t,e){return _t(t.getUTCSeconds(),e,2)}function kre(t){var e=t.getUTCDay();return e===0?7:e}function Are(t,e){return _t(ov.count(as(t)-1,t),e,2)}function t4(t){var e=t.getUTCDay();return e>=4||e===0?Yc(t):Yc.ceil(t)}function Ere(t,e){return t=t4(t),_t(Yc.count(as(t),t)+(as(t).getUTCDay()===4),e,2)}function Tre(t){return t.getUTCDay()}function Cre(t,e){return _t(wg.count(as(t)-1,t),e,2)}function Ore(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Pre(t,e){return t=t4(t),_t(t.getUTCFullYear()%100,e,2)}function Ire(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Nre(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yc(t):Yc.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Fre(){return"+0000"}function FT(){return"%"}function jT(t){return+t}function MT(t){return Math.floor(+t/1e3)}var zl,r4,n4;jre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jre(t){return zl=jte(t),r4=zl.format,zl.parse,n4=zl.utcFormat,zl.utcParse,zl}function Mre(t){return new Date(t)}function Dre(t){return t instanceof Date?+t:+new Date(+t)}function T_(t,e,r,n,a,i,s,o,l,c){var u=d_(),f=u.invert,h=u.domain,d=c(".%L"),g=c(":%S"),p=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),S=c("%Y");function w(_){return(l(_)<_?d:o(_)<_?g:s(_)<_?p:i(_)<_?m:n(_)<_?a(_)<_?v:y:r(_)<_?b:S)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?h(Array.from(_,Dre)):h().map(Mre)},u.ticks=function(_){var k=h();return t(k[0],k[k.length-1],_??10)},u.tickFormat=function(_,k){return k==null?w:c(k)},u.nice=function(_){var k=h();return(!_||typeof _.range!="function")&&(_=e(k[0],k[k.length-1],_??10)),_?h(UM(k,_)):u},u.copy=function(){return Ld(u,T_(t,e,r,n,a,i,s,o,l,c))},u}function Rre(){return Ra.apply(T_(Nte,Fte,ns,A_,sv,Bd,__,w_,$o,r4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lre(){return Ra.apply(T_(Pte,Ite,as,E_,ov,iv,k_,S_,$o,n4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lv(){var t=0,e=1,r,n,a,i,s=Tn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),c):[s(0),s(1)]}}return c.range=u(Iu),c.rangeRound=u(h_),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),c}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function a4(){var t=fo(lv()(Tn));return t.copy=function(){return ho(t,a4())},fs.apply(t,arguments)}function i4(){var t=m_(lv()).domain([1,10]);return t.copy=function(){return ho(t,i4()).base(t.base())},fs.apply(t,arguments)}function s4(){var t=v_(lv());return t.copy=function(){return ho(t,s4()).constant(t.constant())},fs.apply(t,arguments)}function C_(){var t=x_(lv());return t.copy=function(){return ho(t,C_()).exponent(t.exponent())},fs.apply(t,arguments)}function Bre(){return C_.apply(null,arguments).exponent(.5)}function o4(){var t=[],e=Tn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Dd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Vs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Aee(t,i/n))},r.copy=function(){return o4(e).domain(t)},fs.apply(r,arguments)}function cv(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,c=Tn,u,f=!1,h;function d(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?o:l),c(f?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e,r]=p,a=u(t=+t),i=u(e=+e),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[t,e,r]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(c=p,d):c};function g(p){return function(m){var v,y,b;return arguments.length?([v,y,b]=m,c=Jee(p,[v,y,b]),d):[c(0),c(.5),c(1)]}}return d.range=g(Iu),d.rangeRound=g(h_),d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return u=p,a=p(t),i=p(e),s=p(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function l4(){var t=fo(cv()(Tn));return t.copy=function(){return ho(t,l4())},fs.apply(t,arguments)}function c4(){var t=m_(cv()).domain([.1,1,10]);return t.copy=function(){return ho(t,c4()).base(t.base())},fs.apply(t,arguments)}function u4(){var t=v_(cv());return t.copy=function(){return ho(t,u4()).constant(t.constant())},fs.apply(t,arguments)}function O_(){var t=x_(cv());return t.copy=function(){return ho(t,O_()).exponent(t.exponent())},fs.apply(t,arguments)}function $re(){return O_.apply(null,arguments).exponent(.5)}const DT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ph,scaleDiverging:l4,scaleDivergingLog:c4,scaleDivergingPow:O_,scaleDivergingSqrt:$re,scaleDivergingSymlog:u4,scaleIdentity:WM,scaleImplicit:f1,scaleLinear:xg,scaleLog:HM,scaleOrdinal:c_,scalePoint:Xf,scalePow:y_,scaleQuantile:VM,scaleQuantize:GM,scaleRadial:YM,scaleSequential:a4,scaleSequentialLog:i4,scaleSequentialPow:C_,scaleSequentialQuantile:o4,scaleSequentialSqrt:Bre,scaleSequentialSymlog:s4,scaleSqrt:bte,scaleSymlog:XM,scaleThreshold:qM,scaleTime:Rre,scaleUtc:Lre,tickFormat:zM},Symbol.toStringTag,{value:"Module"}));var zre=Su;function Wre(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(o===void 0?s===s&&!zre(s):r(s,o)))var o=s,l=i}return l}var f4=Wre;function Ure(t,e){return t>e}var Hre=Ure,Xre=f4,Yre=Hre,Vre=Ou;function Gre(t){return t&&t.length?Xre(t,Vre,Yre):void 0}var qre=Gre;const uv=Lt(qre);function Kre(t,e){return t<e}var Jre=Kre,Zre=f4,Qre=Jre,ene=Ou;function tne(t){return t&&t.length?Zre(t,ene,Qre):void 0}var rne=tne;const fv=Lt(rne);var nne=US,ane=uo,ine=yM,sne=Xn;function one(t,e){var r=sne(t)?nne:ine;return r(t,ane(e))}var lne=one,cne=vM,une=lne;function fne(t,e){return cne(une(t,e),1)}var hne=fne;const dne=Lt(hne);var pne=a_;function gne(t,e){return pne(t,e)}var mne=gne;const hv=Lt(mne);var Nu=1e9,vne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I_,Qt=!0,ja="[DecimalError] ",qo=ja+"Invalid argument: ",P_=ja+"Exponent out of range: ",Fu=Math.floor,To=Math.pow,xne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,Lr=1e7,Vt=7,h4=9007199254740991,Sg=Fu(h4/Vt),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Vt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(t){return Gi(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,r=e.constructor;return $t(Gi(e,new r(t),0,1),r.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return Er(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Qn))throw Error(ja+"NaN");if(r.s<1)throw Error(ja+(r.s?"NaN":"-Infinity"));return r.eq(Qn)?new n(0):(Qt=!1,e=Gi(Mh(r,i),Mh(t,i),i),Qt=!0,$t(e,a))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g4(e,t):d4(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ja+"NaN");return r.s?(Qt=!1,e=Gi(r,t,0,1).times(t),Qt=!0,r.minus(e)):$t(new n(r),a)};Ue.naturalExponential=Ue.exp=function(){return p4(this)};Ue.naturalLogarithm=Ue.ln=function(){return Mh(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d4(e,t):g4(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qo+t);if(e=Er(a)+1,n=a.d.length-1,r=n*Vt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ue.squareRoot=Ue.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ja+"NaN")}for(t=Er(o),Qt=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=yi(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Fu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Gi(o,i,s+2)).times(.5),yi(i.d).slice(0,s)===(e=yi(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if($t(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Qt=!0,$t(n,r)};Ue.times=Ue.mul=function(t){var e,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+e,i[a--]=o%Lr|0,e=o/Lr|0;i[a]=(i[a]+e)%Lr|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Qt?$t(t,f.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ai(t,0,Nu),e===void 0?e=n.rounding:Ai(e,0,8),$t(r,t+Er(r)+1,e))};Ue.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ll(n,!0):(Ai(t,0,Nu),e===void 0?e=a.rounding:Ai(e,0,8),n=$t(new a(n),t+1,e),r=ll(n,!0,t+1)),r};Ue.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ll(a):(Ai(t,0,Nu),e===void 0?e=i.rounding:Ai(e,0,8),n=$t(new i(a),t+Er(a)+1,e),r=ll(n.abs(),!1,t+Er(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return $t(new e(t),Er(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Qn);if(o=new l(o),!o.s){if(t.s<1)throw Error(ja+"Infinity");return o}if(o.eq(Qn))return o;if(n=l.precision,t.eq(Qn))return $t(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=u<0?-u:u)<=h4){for(a=new l(Qn),e=Math.ceil(n/Vt+4),Qt=!1;r%2&&(a=a.times(o),LT(a.d,e)),r=Fu(r/2),r!==0;)o=o.times(o),LT(o.d,e);return Qt=!0,t.s<0?new l(Qn).div(a):$t(a,n)}}else if(i<0)throw Error(ja+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Qt=!1,a=t.times(Mh(o,n+c)),Qt=!0,a=p4(a),a.s=i,a};Ue.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Er(a),n=ll(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ai(t,1,Nu),e===void 0?e=i.rounding:Ai(e,0,8),a=$t(new i(a),t,e),r=Er(a),n=ll(a,t<=r||r<=i.toExpNeg,t)),n};Ue.toSignificantDigits=Ue.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ai(t,1,Nu),e===void 0?e=n.rounding:Ai(e,0,8)),$t(new n(r),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Er(t),r=t.constructor;return ll(t,e<=r.toExpNeg||e>=r.toExpPos)};function d4(t,e){var r,n,a,i,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Qt?$t(e,f):e;if(l=t.d,c=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Vt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Lr|0,l[i]%=Lr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,Qt?$t(e,f):e}function Ai(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qo+t)}function yi(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Vt-n.length,r&&(i+=Ts(r)),i+=n;s=t[e],n=s+"",r=Vt-n.length,r&&(i+=Ts(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Gi=function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Lr|0,s=i/Lr|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Lr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,g,p,m,v,y,b,S,w,_,k,A,E=n.constructor,C=n.s==a.s?1:-1,T=n.d,O=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(ja+"Division by zero");for(l=n.e-a.e,k=O.length,w=T.length,d=new E(C),g=d.d=[],c=0;O[c]==(T[c]||0);)++c;if(O[c]>(T[c]||0)&&--l,i==null?y=i=E.precision:s?y=i+(Er(n)-Er(a))+1:y=i,y<0)return new E(0);if(y=y/Vt+2|0,c=0,k==1)for(u=0,O=O[0],y++;(c<w||u)&&y--;c++)b=u*Lr+(T[c]||0),g[c]=b/O|0,u=b%O|0;else{for(u=Lr/(O[0]+1)|0,u>1&&(O=t(O,u),T=t(T,u),k=O.length,w=T.length),S=k,p=T.slice(0,k),m=p.length;m<k;)p[m++]=0;A=O.slice(),A.unshift(0),_=O[0],O[1]>=Lr/2&&++_;do u=0,o=e(O,p,k,m),o<0?(v=p[0],k!=m&&(v=v*Lr+(p[1]||0)),u=v/_|0,u>1?(u>=Lr&&(u=Lr-1),f=t(O,u),h=f.length,m=p.length,o=e(f,p,h,m),o==1&&(u--,r(f,k<h?A:O,h))):(u==0&&(o=u=1),f=O.slice()),h=f.length,h<m&&f.unshift(0),r(p,f,m),o==-1&&(m=p.length,o=e(O,p,k,m),o<1&&(u++,r(p,k<m?A:O,m))),m=p.length):o===0&&(u++,p=[0]),g[c++]=u,o&&p[0]?p[m++]=T[S]||0:(p=[T[S]],m=1);while((S++<w||p[0]!==void 0)&&y--)}return g[0]||g.shift(),d.e=l,$t(d,s?i+Er(d)+1:i)}}();function p4(t,e){var r,n,a,i,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Er(t)>16)throw Error(P_+Er(t));if(!t.s)return new u(Qn);for(Qt=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(To(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Qn),u.precision=o;;){if(a=$t(a.times(t),o),r=r.times(++l),s=i.plus(Gi(a,r,o)),yi(s.d).slice(0,o)===yi(i.d).slice(0,o)){for(;c--;)i=$t(i.times(i),o);return u.precision=f,e==null?(Qt=!0,$t(i,f)):i}i=s}}function Er(t){for(var e=t.e*Vt,r=t.d[0];r>=10;r/=10)e++;return e}function Dx(t,e,r){if(e>t.LN10.sd())throw Qt=!0,r&&(t.precision=r),Error(ja+"LN10 precision limit exceeded");return $t(new t(t.LN10),e)}function Ts(t){for(var e="";t--;)e+="0";return e}function Mh(t,e){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=t,g=d.d,p=d.constructor,m=p.precision;if(d.s<1)throw Error(ja+(d.s?"NaN":"-Infinity"));if(d.eq(Qn))return new p(0);if(e==null?(Qt=!1,c=m):c=e,d.eq(10))return e==null&&(Qt=!0),Dx(p,c);if(c+=h,p.precision=c,r=yi(g),n=r.charAt(0),i=Er(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(t),r=yi(d.d),n=r.charAt(0),f++;i=Er(d),n>1?(d=new p("0."+r),i++):d=new p(n+"."+r.slice(1))}else return l=Dx(p,c+2,m).times(i+""),d=Mh(new p(n+"."+r.slice(1)),c-h).plus(l),p.precision=m,e==null?(Qt=!0,$t(d,m)):d;for(o=s=d=Gi(d.minus(Qn),d.plus(Qn),c),u=$t(d.times(d),c),a=3;;){if(s=$t(s.times(u),c),l=o.plus(Gi(s,new p(a),c)),yi(l.d).slice(0,c)===yi(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Dx(p,c+2,m).times(i+""))),o=Gi(o,new p(f),c),p.precision=m,e==null?(Qt=!0,$t(o,m)):o;o=l,a+=2}}function RT(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Fu(r/Vt),t.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Vt;n<a;)t.d.push(+e.slice(n,n+=Vt));e=e.slice(n),n=Vt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Qt&&(t.e>Sg||t.e<-Sg))throw Error(P_+r)}else t.s=0,t.e=0,t.d=[0];return t}function $t(t,e,r){var n,a,i,s,o,l,c,u,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Vt,a=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Vt),i=f.length,u>=i)return t;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Vt,a=n-Vt+s}if(r!==void 0&&(i=To(10,s-a-1),o=c/i%10|0,l=e<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/To(10,s-a):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=Er(t),f.length=1,e=e-i-1,f[0]=To(10,(Vt-e%Vt)%Vt),t.e=Fu(-e/Vt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=To(10,Vt-n),f[u]=a>0?(c/To(10,s-a)%To(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Lr&&(f[0]=1,++t.e);break}else{if(f[u]+=i,f[u]!=Lr)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qt&&(t.e>Sg||t.e<-Sg))throw Error(P_+Er(t));return t}function g4(t,e){var r,n,a,i,s,o,l,c,u,f,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Qt?$t(e,d):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/Vt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Lr-1;--l[i],l[a]+=Lr}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Qt?$t(e,d):e):new h(0)}function ll(t,e,r){var n,a=Er(t),i=yi(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ts(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ts(-a-1)+i,r&&(n=r-s)>0&&(i+=Ts(n))):a>=s?(i+=Ts(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ts(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ts(n))),t.s<0?"-"+i:i}function LT(t,e){if(t.length>e)return t.length=e,!0}function m4(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return RT(s,i.toString())}else if(typeof i!="string")throw Error(qo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,xne.test(i))RT(s,i);else throw Error(qo+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=m4,a.config=a.set=yne,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function yne(t){if(!t||typeof t!="object")throw Error(ja+"Object expected");var e,r,n,a=["precision",1,Nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Fu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(qo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qo+r+": "+n);return this}var I_=m4(vne);Qn=new I_(1);const Mt=I_;function bne(t){return kne(t)||_ne(t)||Sne(t)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(t,e){if(t){if(typeof t=="string")return g1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(t,e)}}function _ne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kne(t){if(Array.isArray(t))return g1(t)}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ane=function(e){return e},v4={},x4=function(e){return e===v4},BT=function(e){return function r(){return arguments.length===0||arguments.length===1&&x4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ene=function t(e,r){return e===1?r:BT(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==v4}).length;return s>=e?r.apply(void 0,a):t(e-s,BT(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return x4(f)?l.shift():f});return r.apply(void 0,bne(u).concat(l))}))})},dv=function(e){return Ene(e.length,e)},m1=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Tne=dv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Cne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Ane;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},v1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},y4=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function One(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function Pne(t,e,r){for(var n=new Mt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ine=dv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Nne=dv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Fne=dv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const pv={rangeStep:Pne,getDigitCount:One,interpolateNumber:Ine,uninterpolateNumber:Nne,uninterpolateTruncation:Fne};function x1(t){return Dne(t)||Mne(t)||b4(t)||jne()}function jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Dne(t){if(Array.isArray(t))return y1(t)}function Dh(t,e){return Bne(t)||Lne(t,e)||b4(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){if(t){if(typeof t=="string")return y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(t,e)}}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Bne(t){if(Array.isArray(t))return t}function w4(t){var e=Dh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function S4(t,e,r){if(t.lte(0))return new Mt(0);var n=pv.getDigitCount(t.toNumber()),a=new Mt(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new Mt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?l:new Mt(Math.ceil(l))}function $ne(t,e,r){var n=1,a=new Mt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Mt(10).pow(pv.getDigitCount(t)-1),a=new Mt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Mt(Math.floor(t)))}else t===0?a=new Mt(Math.floor((e-1)/2)):r||(a=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),o=Cne(Tne(function(l){return a.add(new Mt(l-s).mul(n)).toNumber()}),m1);return o(0,e)}function _4(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var i=S4(new Mt(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Mt(0):(s=new Mt(t).add(e).div(2),s=s.sub(new Mt(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),l=Math.ceil(new Mt(e).sub(s).div(i).toNumber()),c=o+l+1;return c>r?_4(t,e,r,n,a+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Mt(o).mul(i)),tickMax:s.add(new Mt(l).mul(i))})}function zne(t){var e=Dh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=w4([r,n]),l=Dh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(x1(m1(0,a-1).map(function(){return 1/0}))):[].concat(x1(m1(0,a-1).map(function(){return-1/0})),[u]);return r>n?v1(f):f}if(c===u)return $ne(c,a,i);var h=_4(c,u,s,i),d=h.step,g=h.tickMin,p=h.tickMax,m=pv.rangeStep(g,p.add(new Mt(.1).mul(d)),d);return r>n?v1(m):m}function Wne(t,e){var r=Dh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=w4([n,a]),o=Dh(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(e,2),f=S4(new Mt(c).sub(l).div(u-1),i,0),h=[].concat(x1(pv.rangeStep(new Mt(l),new Mt(c).sub(new Mt(.99).mul(f)),f)),[c]);return n>a?v1(h):h}var Une=y4(zne),Hne=y4(Wne),Xne="Invariant failed";function cl(t,e){throw new Error(Xne)}var Yne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_g.apply(this,arguments)}function Vne(t,e){return Jne(t)||Kne(t,e)||qne(t,e)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(t,e){if(t){if(typeof t=="string")return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Jne(t){if(Array.isArray(t))return t}function Zne(t,e){if(t==null)return{};var r=Qne(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E4(n.key),n)}}function rae(t,e,r){return e&&tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nae(t,e,r){return e=kg(e),aae(t,k4()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function aae(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iae(t)}function iae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b1(t,e)}function A4(t,e,r){return e=E4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E4(t){var e=oae(t,"string");return Vc(e)=="symbol"?e:e+""}function oae(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $d=function(t){function e(){return eae(this,e),nae(this,e,arguments)}return sae(e,t),rae(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Zne(n,Yne),d=pt(h,!1);this.props.direction==="x"&&u.type!=="number"&&cl();var g=l.map(function(p){var m=c(p,o),v=m.x,y=m.y,b=m.value,S=m.errorVal;if(!S)return null;var w=[],_,k;if(Array.isArray(S)){var A=Vne(S,2);_=A[0],k=A[1]}else _=k=S;if(i==="vertical"){var E=u.scale,C=y+a,T=C+s,O=C-s,N=E(b-_),z=E(b+k);w.push({x1:z,y1:T,x2:z,y2:O}),w.push({x1:N,y1:C,x2:z,y2:C}),w.push({x1:N,y1:T,x2:N,y2:O})}else if(i==="horizontal"){var W=f.scale,F=v+a,L=F-s,H=F+s,I=W(b-_),X=W(b+k);w.push({x1:L,y1:X,x2:H,y2:X}),w.push({x1:F,y1:I,x2:F,y2:X}),w.push({x1:L,y1:I,x2:H,y2:I})}return ae.createElement(vr,_g({className:"recharts-errorBar",key:"bar-".concat(w.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},d),w.map(function(K){return ae.createElement("line",_g({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return ae.createElement(vr,{className:"recharts-errorBars"},g)}}])}(ae.Component);A4($d,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});A4($d,"displayName","ErrorBar");function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function zT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(r),!0).forEach(function(n){lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lae(t,e,r){return e=cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cae(t){var e=uae(t,"string");return Rh(e)=="symbol"?e:e+""}function uae(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T4=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=qn(r,Vi);if(!s)return null;var o=Vi.defaultProps,l=o!==void 0?wo(wo({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?wo(wo({},h),f.props):{},g=d.dataKey,p=d.name,m=d.legendType,v=d.hide;return{inactive:v,dataKey:g,type:l.iconType||m||"square",color:N_(f),value:p||g,payload:d}}),wo(wo(wo({},l),Vi.getWithHeight(s,a)),{},{payload:c,item:s})};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function WT(t){return pae(t)||dae(t)||hae(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function dae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pae(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(r),!0).forEach(function(n){Ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ac(t,e,r){return e=gae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gae(t){var e=mae(t,"string");return Lh(e)=="symbol"?e:e+""}function mae(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sa(t,e,r){return ht(t)||ht(e)?r:jr(e)?Ca(t,e,r):lt(e)?e(t):r}function Yf(t,e,r,n){var a=dne(t,function(o){return sa(o,e)});if(r==="number"){var i=a.filter(function(o){return Ie(o)||parseFloat(o)});return i.length?[fv(i),uv(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!ht(o)}):a;return s.map(function(o){return jr(o)||o instanceof Date?o:""})}var vae=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(Za(f-u)!==Za(h-f)){var g=[];if(Za(h-f)===Za(l[1]-l[0])){d=h;var p=f+l[1]-l[0];g[0]=Math.min(p,(p+u)/2),g[1]=Math.max(p,(p+u)/2)}else{d=u;var m=h+l[1]-l[0];g[0]=Math.min(f,(m+f)/2),g[1]=Math.max(f,(m+f)/2)}var v=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){s=a[c].index;break}}else{var y=Math.min(u,h),b=Math.max(u,h);if(e>(y+f)/2&&e<=(b+f)/2){s=a[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},N_=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?cr(cr({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},xae=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],p=g.items,m=g.cateAxisId,v=p.filter(function(k){return Xi(k.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,b=y!==void 0?cr(cr({},y),v[0].props):v[0].props,S=b.barSize,w=b[m];s[w]||(s[w]=[]);var _=ht(S)?r:S;s[w].push({item:v[0],stackList:v.slice(1),barSize:ht(_)?void 0:ol(_,n,0)})}}return s},yae=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ol(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,g=s.reduce(function(S,w){return S+w.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&d>0&&(h=!0,d*=.9,g=l*d);var p=(a-g)/2>>0,m={offset:p-c,size:0};u=s.reduce(function(S,w){var _={item:w.item,position:{offset:m.offset+m.size+c,size:h?d:w.barSize}},k=[].concat(WT(S),[_]);return m=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:m})}),k},f)}else{var v=ol(n,a,0,!0);a-2*v-(l-1)*c<=0&&(c=0);var y=(a-2*v-(l-1)*c)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;u=s.reduce(function(S,w,_){var k=[].concat(WT(S),[{item:w.item,position:{offset:v+(y+c)*_+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},f)}return u},bae=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=T4({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,g=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&d!=="center"&&Ie(e[d]))return cr(cr({},e),{},Ac({},d,e[d]+(f||0)));if((p==="horizontal"||p==="vertical"&&d==="center")&&g!=="middle"&&Ie(e[g]))return cr(cr({},e),{},Ac({},g,e[g]+(h||0)))}return e},wae=function(e,r,n){return ht(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},C4=function(e,r,n,a,i){var s=r.props.children,o=Oa(s,$d).filter(function(c){return wae(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=sa(u,n);if(ht(f))return c;var h=Array.isArray(f)?[fv(f),uv(f)]:[f,f],d=l.reduce(function(g,p){var m=sa(u,p,0),v=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(v,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},Sae=function(e,r,n,a,i){var s=r.map(function(o){return C4(e,o,n,i,a)}).filter(function(o){return!ht(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},O4=function(e,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&C4(e,l,c,a)||Yf(e,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},P4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},I4=function(e,r,n,a){if(a)return e.map(function(l){return l.coordinate});var i,s,o=e.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},$i=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Za(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Fd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},Rx=new WeakMap,D0=function(e,r){if(typeof r!="function")return e;Rx.has(e)||Rx.set(e,new WeakMap);var n=Rx.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},_ae=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Ph(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:xg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xf(),realScaleType:"point"}:i==="category"?{scale:Ph(),realScaleType:"band"}:{scale:xg(),realScaleType:"linear"};if(sl(a)){var l="scale".concat(Jm(a));return{scale:(DT[l]||Xf)(),realScaleType:DT[l]?l:"point"}}return lt(a)?{scale:a}:{scale:Xf(),realScaleType:"point"}},HT=1e-4,kae=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-HT,s=Math.max(a[0],a[1])+HT,o=e(r[0]),l=e(r[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([r[0],r[n-1]])}},Aae=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Eae=function(e,r){if(!r||r.length!==2||!Ie(r[0])||!Ie(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Ie(e[0])||e[0]<n)&&(i[0]=n),(!Ie(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Tae=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Fd(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},Cae=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Fd(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Oae={sign:Tae,expand:H9,none:Bc,silhouette:X9,wiggle:Y9,positive:Cae},Pae=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Oae[n],s=U9().keys(a).value(function(o,l){return+sa(o,l,0)}).order(Yb).offset(i);return s(e)},Iae=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?cr(cr({},h.type.defaultProps),h.props):h.props,p=g.stackId,m=g.hide;if(m)return f;var v=g[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(jr(p)){var b=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[p]=b}else y.stackGroups[jd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return cr(cr({},f),{},Ac({},v,y))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(p,m){var v=d.stackGroups[m];return cr(cr({},p),{},Ac({},m,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:Pae(e,v.items,i)}))},g)}return cr(cr({},f),{},Ac({},h,d))},u)},Nae=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Une(c,i,o);return e.domain([fv(u),uv(u)]),{niceTicks:u}}if(i&&a==="number"){var f=e.domain(),h=Hne(f,i,o);return{niceTicks:h}}return null};function XT(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(a[e.dataKey])){var o=Gp(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=sa(a,ht(s)?e.dataKey:s);return ht(l)?null:e.scale(l)}var YT=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=sa(s,r.dataKey,r.domain[o]);return ht(l)?null:r.scale(l)-i/2+a},Fae=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},jae=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?cr(cr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(jr(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Mae=function(e){return e.reduce(function(r,n){return[fv(n.concat([r[0]]).filter(Ie)),uv(n.concat([r[1]]).filter(Ie))]},[1/0,-1/0])},N4=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,l=o.reduce(function(c,u){var f=Mae(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S1=function(e,r,n){if(lt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ie(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(VT.test(e[0])){var i=+VT.exec(e[0])[1];a[0]=r[0]-i}else lt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ie(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(GT.test(e[1])){var s=+GT.exec(e[1])[1];a[1]=r[1]+s}else lt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Ag=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=s_(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},qT=function(e,r,n){return!e||!e.length||hv(e,Ca(n,"type.defaultProps.domain"))?r:e},F4=function(e,r){var n=e.type.defaultProps?cr(cr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return cr(cr({},pt(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:N_(e),value:sa(r,a),type:l,payload:r,chartType:c,hide:u})};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function KT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(r),!0).forEach(function(n){Dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dae(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Lae(t,"string");return Bh(e)=="symbol"?e:e+""}function Lae(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eg=Math.PI/180,Bae=function(e){return e*180/Math.PI},Jr=function(e,r,n,a){return{x:e+Math.cos(-Eg*a)*n,y:r+Math.sin(-Eg*a)*n}},$ae=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},zae=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=$ae({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:Bae(c),angleInRadian:c}},Wae=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Uae=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},ZT=function(e,r){var n=e.x,a=e.y,i=zae({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Wae(r),f=u.startAngle,h=u.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?JT(JT({},r),{},{radius:s,angle:Uae(d,r)}):null};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}var Hae=["offset"];function Xae(t){return qae(t)||Gae(t)||Vae(t)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vae(t,e){if(t){if(typeof t=="string")return _1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(t,e)}}function Gae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qae(t){if(Array.isArray(t))return _1(t)}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kae(t,e){if(t==null)return{};var r=Jae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(r),!0).forEach(function(n){Zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zae(t,e,r){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qae(t){var e=eie(t,"string");return $h(e)=="symbol"?e:e+""}function eie(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zh.apply(this,arguments)}var tie=function(e){var r=e.value,n=e.formatter,a=ht(e.children)?r:e.children;return lt(n)?n(a):a},rie=function(e,r){var n=Za(r-e),a=Math.min(Math.abs(r-e),360);return n*a},nie=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,p=l.clockWise,m=(f+h)/2,v=rie(d,g),y=v>=0?1:-1,b,S;a==="insideStart"?(b=d+y*s,S=p):a==="insideEnd"?(b=g-y*s,S=!p):a==="end"&&(b=g+y*s,S=p),S=v<=0?S:!S;var w=Jr(c,u,m,b),_=Jr(c,u,m,b+(S?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),A=ht(e.id)?jd("recharts-radial-line-"):e.id;return ae.createElement("text",zh({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",o)}),ae.createElement("defs",null,ae.createElement("path",{id:A,d:k})),ae.createElement("textPath",{xlinkHref:"#".concat(A)},r))},aie=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=Jr(s,o,c+n,h),g=d.x,p=d.y;return{x:g,y:p,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var m=(l+c)/2,v=Jr(s,o,m,h),y=v.x,b=v.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},iie=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",g=f>0?"start":"end",p=c>=0?1:-1,m=p*a,v=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return Cr(Cr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Cr(Cr({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var w={x:o-m,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Cr(Cr({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(i==="right"){var _={x:o+c+m,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Cr(Cr({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var k=n?{width:c,height:u}:{};return i==="insideLeft"?Cr({x:o+m,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?Cr({x:o+c-m,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideTop"?Cr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Cr({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},k):i==="insideTopLeft"?Cr({x:o+m,y:l+h,textAnchor:y,verticalAnchor:g},k):i==="insideTopRight"?Cr({x:o+c-m,y:l+h,textAnchor:v,verticalAnchor:g},k):i==="insideBottomLeft"?Cr({x:o+m,y:l+u-h,textAnchor:y,verticalAnchor:d},k):i==="insideBottomRight"?Cr({x:o+c-m,y:l+u-h,textAnchor:v,verticalAnchor:d},k):_u(i)&&(Ie(i.x)||Lo(i.x))&&(Ie(i.y)||Lo(i.y))?Cr({x:o+ol(i.x,c),y:l+ol(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Cr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},sie=function(e){return"cx"in e&&Ie(e.cx)};function fn(t){var e=t.offset,r=e===void 0?5:e,n=Kae(t,Hae),a=Cr({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||ht(o)&&ht(l)&&!U.isValidElement(c)&&!lt(c))return null;if(U.isValidElement(c))return U.cloneElement(c,a);var d;if(lt(c)){if(d=U.createElement(c,a),U.isValidElement(d))return d}else d=tie(a);var g=sie(i),p=pt(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return nie(a,d,p);var m=g?aie(a):iie(a);return ae.createElement(fg,zh({className:yt("recharts-label",f)},p,m,{breakAll:h}),d)}fn.displayName="Label";var j4=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,d=e.top,g=e.left,p=e.width,m=e.height,v=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ie(p)&&Ie(m)){if(Ie(f)&&Ie(h))return{x:f,y:h,width:p,height:m};if(Ie(d)&&Ie(g))return{x:d,y:g,width:p,height:m}}return Ie(f)&&Ie(h)?{x:f,y:h,width:0,height:0}:Ie(r)&&Ie(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},oie=function(e,r){return e?e===!0?ae.createElement(fn,{key:"label-implicit",viewBox:r}):jr(e)?ae.createElement(fn,{key:"label-implicit",viewBox:r,value:e}):U.isValidElement(e)?e.type===fn?U.cloneElement(e,{key:"label-implicit",viewBox:r}):ae.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):lt(e)?ae.createElement(fn,{key:"label-implicit",content:e,viewBox:r}):_u(e)?ae.createElement(fn,zh({viewBox:r},e,{key:"label-implicit"})):null:null},lie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=j4(e),s=Oa(a,fn).map(function(l,c){return U.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=oie(e.label,r||i);return[o].concat(Xae(s))};fn.parseViewBox=j4;fn.renderCallByParent=lie;function cie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uie=cie;const fie=Lt(uie);function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}var hie=["valueAccessor"],die=["data","dataKey","clockWise","id","textBreakAll"];function pie(t){return xie(t)||vie(t)||mie(t)||gie()}function gie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return k1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(t,e)}}function vie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xie(t){if(Array.isArray(t))return k1(t)}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function eC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(r),!0).forEach(function(n){yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yie(t,e,r){return e=bie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bie(t){var e=wie(t,"string");return Wh(e)=="symbol"?e:e+""}function wie(t,e){if(Wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rC(t,e){if(t==null)return{};var r=Sie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _ie=function(e){return Array.isArray(e.value)?fie(e.value):e.value};function Gs(t){var e=t.valueAccessor,r=e===void 0?_ie:e,n=rC(t,hie),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=rC(n,die);return!a||!a.length?null:ae.createElement(vr,{className:"recharts-label-list"},a.map(function(u,f){var h=ht(i)?r(u,f):sa(u&&u.payload,i),d=ht(o)?{}:{id:"".concat(o,"-").concat(f)};return ae.createElement(fn,Tg({},pt(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:fn.parseViewBox(ht(s)?u:tC(tC({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Gs.displayName="LabelList";function kie(t,e){return t?t===!0?ae.createElement(Gs,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||lt(t)?ae.createElement(Gs,{key:"labelList-implicit",data:e,content:t}):_u(t)?ae.createElement(Gs,Tg({data:e},t,{key:"labelList-implicit"})):null:null}function Aie(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Oa(n,Gs).map(function(s,o){return U.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=kie(t.label,e);return[i].concat(pie(a))}Gs.renderCallByParent=Aie;function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}function nC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(r),!0).forEach(function(n){Eie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eie(t,e,r){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tie(t){var e=Cie(t,"string");return Uh(e)=="symbol"?e:e+""}function Cie(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oie=function(e,r){var n=Za(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},R0=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/Eg,h=c?i:i+s*f,d=Jr(r,n,u,h),g=Jr(r,n,a,h),p=c?i-s*f:i,m=Jr(r,n,u*Math.cos(f*Eg),p);return{center:d,circleTangency:g,lineTangency:m,theta:f}},M4=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Oie(s,o),c=s+l,u=Jr(r,n,i,s),f=Jr(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=Jr(r,n,a,s),g=Jr(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Pie=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Za(u-c),h=R0({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,p=h.theta,m=R0({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=m.circleTangency,y=m.lineTangency,b=m.theta,S=l?Math.abs(c-u):Math.abs(c-u)-p-b;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):M4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=R0({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=_.circleTangency,A=_.lineTangency,E=_.theta,C=R0({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=C.circleTangency,O=C.lineTangency,N=C.theta,z=l?Math.abs(c-u):Math.abs(c-u)-E-N;if(z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Iie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D4=function(e){var r=aC(aC({},Iie),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=yt("recharts-sector",h),g=s-i,p=ol(o,g,0,!0),m;return p>0&&Math.abs(u-f)<360?m=Pie({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):m=M4({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),ae.createElement("path",A1({},pt(r,!0),{className:d,d:m,role:"img"}))};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){Nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e,r){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fie(t){var e=jie(t,"string");return Hh(e)=="symbol"?e:e+""}function jie(t,e){if(Hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oC={curveBasisClosed:N9,curveBasisOpen:F9,curveBasis:I9,curveBumpX:v9,curveBumpY:x9,curveLinearClosed:j9,curveLinear:Qm,curveMonotoneX:M9,curveMonotoneY:D9,curveNatural:R9,curveStep:L9,curveStepAfter:$9,curveStepBefore:B9},L0=function(e){return e.x===+e.x&&e.y===+e.y},ff=function(e){return e.x},hf=function(e){return e.y},Mie=function(e,r){if(lt(e))return e;var n="curve".concat(Jm(e));return(n==="curveMonotone"||n==="curveBump")&&r?oC["".concat(n).concat(r==="vertical"?"Y":"X")]:oC[n]||Qm},Die=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Mie(n,o),f=c?i.filter(function(p){return L0(p)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(p){return L0(p)}):s,g=f.map(function(p,m){return sC(sC({},p),{},{base:d[m]})});return o==="vertical"?h=C0().y(hf).x1(ff).x0(function(p){return p.base.x}):h=C0().x(ff).y1(hf).y0(function(p){return p.base.y}),h.defined(L0).curve(u),h(g)}return o==="vertical"&&Ie(s)?h=C0().y(hf).x1(ff).x0(s):Ie(s)?h=C0().x(ff).y1(hf).y0(s):h=Dj().x(ff).y(hf),h.defined(L0).curve(u),h(f)},T1=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Die(e):a;return U.createElement("path",E1({},pt(e,!1),qp(e),{className:yt("recharts-curve",r),d:s,ref:i}))},R4={exports:{}},Rie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lie=Rie,Bie=Lie;function L4(){}function B4(){}B4.resetWarningCache=L4;var $ie=function(){function t(n,a,i,s,o,l){if(l!==Bie){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:B4,resetWarningCache:L4};return r.PropTypes=r,r};R4.exports=$ie();var $4=R4.exports;const At=Lt($4);var zie=Object.getOwnPropertyNames,Wie=Object.getOwnPropertySymbols,Uie=Object.prototype.hasOwnProperty;function lC(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function B0(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function cC(t){return zie(t).concat(Wie(t))}var Hie=Object.hasOwn||function(t,e){return Uie.call(t,e)};function El(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Xie="__v",Yie="__o",Vie="_owner",uC=Object.getOwnPropertyDescriptor,fC=Object.keys;function Gie(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qie(t,e){return El(t.getTime(),e.getTime())}function Kie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Jie(t,e){return t===e}function hC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,t,e,r)&&r.equals(h[1],d[1],h[0],d[0],t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Zie=El;function Qie(t,e,r){var n=fC(t),a=n.length;if(fC(e).length!==a)return!1;for(;a-- >0;)if(!z4(t,e,r,n[a]))return!1;return!0}function df(t,e,r){var n=cC(t),a=n.length;if(cC(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!z4(t,e,r,i)||(s=uC(t,i),o=uC(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function ese(t,e){return El(t.valueOf(),e.valueOf())}function tse(t,e){return t.source===e.source&&t.flags===e.flags}function dC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,o;(s=i.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function rse(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function nse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function z4(t,e,r,n){return(n===Vie||n===Yie||n===Xie)&&(t.$$typeof||e.$$typeof)?!0:Hie(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ase="[object Arguments]",ise="[object Boolean]",sse="[object Date]",ose="[object Error]",lse="[object Map]",cse="[object Number]",use="[object Object]",fse="[object RegExp]",hse="[object Set]",dse="[object String]",pse="[object URL]",gse=Array.isArray,pC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gC=Object.assign,mse=Object.prototype.toString.call.bind(Object.prototype.toString);function vse(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,p,m){if(g===p)return!0;if(g==null||p==null)return!1;var v=typeof g;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?s(g,p,m):v==="function"?a(g,p,m):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return o(g,p,m);if(gse(g))return e(g,p,m);if(pC!=null&&pC(g))return f(g,p,m);if(y===Date)return r(g,p,m);if(y===RegExp)return c(g,p,m);if(y===Map)return i(g,p,m);if(y===Set)return u(g,p,m);var b=mse(g);return b===sse?r(g,p,m):b===fse?c(g,p,m):b===lse?i(g,p,m):b===hse?u(g,p,m):b===use?typeof g.then!="function"&&typeof p.then!="function"&&o(g,p,m):b===pse?h(g,p,m):b===ose?n(g,p,m):b===ase?o(g,p,m):b===ise||b===cse||b===dse?l(g,p,m):!1}}function xse(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?df:Gie,areDatesEqual:qie,areErrorsEqual:Kie,areFunctionsEqual:Jie,areMapsEqual:n?lC(hC,df):hC,areNumbersEqual:Zie,areObjectsEqual:n?df:Qie,arePrimitiveWrappersEqual:ese,areRegExpsEqual:tse,areSetsEqual:n?lC(dC,df):dC,areTypedArraysEqual:n?df:rse,areUrlsEqual:nse};if(r&&(a=gC({},a,r(a))),e){var i=B0(a.areArraysEqual),s=B0(a.areMapsEqual),o=B0(a.areObjectsEqual),l=B0(a.areSetsEqual);a=gC({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function yse(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function bse(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var wse=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:function(){return El}});po({strict:!0,createInternalComparator:function(){return El}});po({circular:!0,createInternalComparator:function(){return El}});po({circular:!0,createInternalComparator:function(){return El},strict:!0});function po(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=xse(t),l=vse(o),c=n?n(l):yse(l);return bse({circular:r,comparator:l,createState:a,equals:c,strict:s})}function Sse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Sse(a)};requestAnimationFrame(n)}function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function _se(t){return Tse(t)||Ese(t)||Ase(t)||kse()}function kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return vC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(t,e)}}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ese(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tse(t){if(Array.isArray(t))return t}function Cse(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=_se(s),l=o[0],c=o.slice(1);if(typeof l=="number"){mC(a.bind(null,c),l);return}a(l),mC(a.bind(null,c));return}C1(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function xC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(r),!0).forEach(function(n){W4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W4(t,e,r){return e=Ose(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ose(t){var e=Pse(t,"string");return Xh(e)==="symbol"?e:String(e)}function Pse(t,e){if(Xh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ise=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Nse=function(e){return e},Fse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vf=function(e,r){return Object.keys(r).reduce(function(n,a){return yC(yC({},n),{},W4({},a,e(a,r[a])))},{})},bC=function(e,r,n){return e.map(function(a){return"".concat(Fse(a)," ").concat(r,"ms ").concat(n)}).join(",")};function jse(t,e){return Rse(t)||Dse(t,e)||U4(t,e)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Rse(t){if(Array.isArray(t))return t}function Lse(t){return zse(t)||$se(t)||U4(t)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function $se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cg=1e-4,H4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},X4=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},wC=function(e,r){return function(n){var a=H4(e,r);return X4(a,n)}},Wse=function(e,r){return function(n){var a=H4(e,r),i=[].concat(Lse(a.map(function(s,o){return s*o}).slice(1)),[0]);return X4(i,n)}},SC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),u=jse(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=wC(a,s),h=wC(i,o),d=Wse(a,s),g=function(v){return v>1?1:v<0?0:v},p=function(v){for(var y=v>1?1:v,b=y,S=0;S<8;++S){var w=f(b)-y,_=d(b);if(Math.abs(w-y)<Cg||_<Cg)return h(b);b=g(b-w/_)}return h(b)};return p.isStepper=!1,p},Use=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*i,p=h+(d-g)*o/1e3,m=h*o/1e3+u;return Math.abs(m-f)<Cg&&Math.abs(p)<Cg?[f,0]:[m,p]};return l.isStepper=!0,l.dt=o,l},Hse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SC(a);case"spring":return Use();default:if(a.split("(")[0]==="cubic-bezier")return SC(a)}return typeof a=="function"?a:null};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function _C(t){return Vse(t)||Yse(t)||Y4(t)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vse(t){if(Array.isArray(t))return I1(t)}function kC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(r),!0).forEach(function(n){P1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P1(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=qse(t,"string");return Yh(e)==="symbol"?e:String(e)}function qse(t,e){if(Yh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kse(t,e){return Qse(t)||Zse(t,e)||Y4(t,e)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4(t,e){if(t){if(typeof t=="string")return I1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(t,e)}}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Qse(t){if(Array.isArray(t))return t}var Og=function(e,r,n){return e+(r-e)*n},N1=function(e){var r=e.from,n=e.to;return r!==n},eoe=function t(e,r,n){var a=Vf(function(i,s){if(N1(s)){var o=e(s.from,s.to,s.velocity),l=Kse(o,2),c=l[0],u=l[1];return Yr(Yr({},s),{},{from:c,velocity:u})}return s},r);return n<1?Vf(function(i,s){return N1(s)?Yr(Yr({},s),{},{velocity:Og(s.velocity,a[i].velocity,n),from:Og(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const toe=function(t,e,r,n,a){var i=Ise(t,e),s=i.reduce(function(m,v){return Yr(Yr({},m),{},P1({},v,[t[v],e[v]]))},{}),o=i.reduce(function(m,v){return Yr(Yr({},m),{},P1({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Vf(function(v,y){return y.from},o)},d=function(){return!Object.values(o).filter(N1).length},g=function(v){c||(c=v);var y=v-c,b=y/r.dt;o=eoe(r,o,b),a(Yr(Yr(Yr({},t),e),h())),c=v,d()||(l=requestAnimationFrame(f))},p=function(v){u||(u=v);var y=(v-u)/n,b=Vf(function(w,_){return Og.apply(void 0,_C(_).concat([r(y)]))},s);if(a(Yr(Yr(Yr({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var S=Vf(function(w,_){return Og.apply(void 0,_C(_).concat([r(1)]))},s);a(Yr(Yr(Yr({},t),e),S))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}var roe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function noe(t,e){if(t==null)return{};var r=aoe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aoe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Lx(t){return loe(t)||ooe(t)||soe(t)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return F1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(t,e)}}function ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function loe(t){if(Array.isArray(t))return F1(t)}function F1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(r),!0).forEach(function(n){Tf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tf(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function foe(t,e,r){return e&&uoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V4(t){var e=hoe(t,"string");return Gc(e)==="symbol"?e:String(e)}function hoe(t,e){if(Gc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j1(t,e)}function poe(t){var e=goe();return function(){var n=Pg(t),a;if(e){var i=Pg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return M1(this,a)}}function M1(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D1(t)}function D1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function goe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}var is=function(t){doe(r,t);var e=poe(r);function r(n,a){var i;coe(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(D1(i)),i.changeStyle=i.changeStyle.bind(D1(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),M1(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},M1(i);i.state={style:l?Tf({},l,c):c}}else i.state={style:{}};return i}return foe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?Tf({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(wse(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||c?f:a.to;if(this.state&&h){var m={style:l?Tf({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(m)}this.runAnimation($a($a({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=toe(s,o,Hse(c),l,this.changeStyle),g=function(){i.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(p,m,v){if(v===0)return p;var y=m.duration,b=m.easing,S=b===void 0?"ease":b,w=m.style,_=m.properties,k=m.onAnimationEnd,A=v>0?s[v-1]:m,E=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Lx(p),[i.runJSAnimation.bind(i,{from:A.style,to:w,duration:y,easing:S}),y]);var C=bC(E,y,S),T=$a($a($a({},A.style),w),{},{transition:C});return[].concat(Lx(p),[T,y,k]).filter(Nse)};return this.manager.start([l].concat(Lx(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Cse());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=o?Tf({},o,l):l,m=bC(Object.keys(p),s,c);g.start([u,i,$a($a({},p),{},{transition:m}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=noe(a,roe),c=U.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var g=d.props,p=g.style,m=p===void 0?{}:p,v=g.className,y=U.cloneElement(d,$a($a({},l),{},{style:$a($a({},m),u),className:v}));return y};return c===1?f(U.Children.only(i)):ae.createElement("div",null,U.Children.map(i,function(h){return f(h)}))}}]),r}(U.PureComponent);is.displayName="Animate";is.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};is.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function moe(t,e){return boe(t)||yoe(t,e)||xoe(t,e)||voe()}function voe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t,e){if(t){if(typeof t=="string")return EC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(t,e)}}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function boe(t){if(Array.isArray(t))return t}function TC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(r),!0).forEach(function(n){woe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function woe(t,e,r){return e=Soe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Soe(t){var e=_oe(t,"string");return Vh(e)=="symbol"?e:e+""}function _oe(t,e){if(Vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OC=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+a)),u+="L ".concat(e+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+a,`
            L `).concat(e+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+a-o*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},koe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},Aoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F_=function(e){var r=CC(CC({},Aoe),e),n=U.useRef(),a=U.useState(-1),i=moe(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,g=r.animationEasing,p=r.animationDuration,m=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=yt("recharts-rectangle",d);return y?ae.createElement(is,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:p,animationEasing:g,isActive:y},function(S){var w=S.width,_=S.height,k=S.x,A=S.y;return ae.createElement(is,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:v,easing:g},ae.createElement("path",Ig({},pt(r,!0),{className:b,d:OC(k,A,w,_,h),ref:n})))}):ae.createElement("path",Ig({},pt(r,!0),{className:b,d:OC(l,c,u,f,h)}))};function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}var j_=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=yt("recharts-dot",i);return r===+r&&n===+n&&a===+a?U.createElement("circle",R1({},pt(e,!1),qp(e),{className:s,cx:r,cy:n,r:a})):null};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var Eoe=["x","y","top","left","width","height","className"];function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(this,arguments)}function PC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Toe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(r),!0).forEach(function(n){Coe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Coe(t,e,r){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ooe(t){var e=Poe(t,"string");return Gh(e)=="symbol"?e:e+""}function Poe(t,e){if(Gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ioe(t,e){if(t==null)return{};var r=Noe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Noe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Foe=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},joe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,d=h===void 0?0:h,g=e.className,p=Ioe(e,Eoe),m=Toe({x:n,y:i,top:o,left:c,width:f,height:d},p);return!Ie(n)||!Ie(i)||!Ie(f)||!Ie(d)||!Ie(o)||!Ie(c)?null:ae.createElement("path",L1({},pt(m,!0),{className:yt("recharts-cross",g),d:Foe(n,i,f,d,o,c)}))},Moe=sM,Doe=Moe(Object.getPrototypeOf,Object),Roe=Doe,Loe=cs,Boe=Roe,$oe=us,zoe="[object Object]",Woe=Function.prototype,Uoe=Object.prototype,G4=Woe.toString,Hoe=Uoe.hasOwnProperty,Xoe=G4.call(Object);function Yoe(t){if(!$oe(t)||Loe(t)!=zoe)return!1;var e=Boe(t);if(e===null)return!0;var r=Hoe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&G4.call(r)==Xoe}var Voe=Yoe;const Goe=Lt(Voe);var qoe=cs,Koe=us,Joe="[object Boolean]";function Zoe(t){return t===!0||t===!1||Koe(t)&&qoe(t)==Joe}var Qoe=Zoe;const ele=Lt(Qoe);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function tle(t,e){return ile(t)||ale(t,e)||nle(t,e)||rle()}function rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(t,e){if(t){if(typeof t=="string")return IC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(t,e)}}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ale(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ile(t){if(Array.isArray(t))return t}function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){sle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sle(t,e,r){return e=ole(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ole(t){var e=lle(t,"string");return qh(e)=="symbol"?e:e+""}function lle(t,e){if(qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jC=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},cle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ule=function(e){var r=FC(FC({},cle),e),n=U.useRef(),a=U.useState(-1),i=tle(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,g=r.animationEasing,p=r.animationDuration,m=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=yt("recharts-trapezoid",d);return v?ae.createElement(is,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:p,animationEasing:g,isActive:v},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,k=b.x,A=b.y;return ae.createElement(is,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:g},ae.createElement("path",Ng({},pt(r,!0),{className:y,d:jC(k,A,S,w,_),ref:n})))}):ae.createElement("g",null,ae.createElement("path",Ng({},pt(r,!0),{className:y,d:jC(l,c,u,f,h)})))},fle=["option","shapeType","propTransformer","activeClassName","isActive"];function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function hle(t,e){if(t==null)return{};var r=dle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ple(t,e,r){return e=gle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gle(t){var e=mle(t,"string");return Kh(e)=="symbol"?e:e+""}function mle(t,e){if(Kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t,e){return Fg(Fg({},e),t)}function xle(t,e){return t==="symbols"}function DC(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ae.createElement(F_,r);case"trapezoid":return ae.createElement(ule,r);case"sector":return ae.createElement(D4,r);case"symbols":if(xle(e))return ae.createElement(ZS,r);break;default:return null}}function yle(t){return U.isValidElement(t)?t.props:t}function ble(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?vle:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,l=hle(t,fle),c;if(U.isValidElement(e))c=U.cloneElement(e,Fg(Fg({},l),yle(e)));else if(lt(e))c=e(l);else if(Goe(e)&&!ele(e)){var u=a(e,l);c=ae.createElement(DC,{shapeType:r,elementProps:u})}else{var f=l;c=ae.createElement(DC,{shapeType:r,elementProps:f})}return o?ae.createElement(vr,{className:s},c):c}function gv(t,e){return e!=null&&"trapezoids"in t.props}function mv(t,e){return e!=null&&"sectors"in t.props}function Jh(t,e){return e!=null&&"points"in t.props}function wle(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function Sle(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function _le(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function kle(t,e){var r;return gv(t,e)?r=wle:mv(t,e)?r=Sle:Jh(t,e)&&(r=_le),r}function Ale(t,e){var r;return gv(t,e)?r="trapezoids":mv(t,e)?r="sectors":Jh(t,e)&&(r="points"),r}function Ele(t,e){if(gv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jh(t,e)?e.payload:{}}function Tle(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Ale(r,e),i=Ele(r,e),s=n.filter(function(l,c){var u=hv(i,l),f=r.props[a].filter(function(g){var p=kle(r,e);return p(g,e)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var Cle=Math.ceil,Ole=Math.max;function Ple(t,e,r,n){for(var a=-1,i=Ole(Cle((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var Ile=Ple,Nle=AM,RC=1/0,Fle=17976931348623157e292;function jle(t){if(!t)return t===0?t:0;if(t=Nle(t),t===RC||t===-RC){var e=t<0?-1:1;return e*Fle}return t===t?t:0}var q4=jle,Mle=Ile,Dle=nv,Bx=q4;function Rle(t){return function(e,r,n){return n&&typeof n!="number"&&Dle(e,r,n)&&(r=n=void 0),e=Bx(e),r===void 0?(r=e,e=0):r=Bx(r),n=n===void 0?e<r?1:-1:Bx(n),Mle(e,r,n,t)}}var Lle=Rle,Ble=Lle,$le=Ble(),zle=$le;const jg=Lt(zle);function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){K4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4(t,e,r){return e=Wle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wle(t){var e=Ule(t,"string");return Zh(e)=="symbol"?e:e+""}function Ule(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle=["Webkit","Moz","O","ms"],Xle=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Hle.reduce(function(i,s){return BC(BC({},i),{},K4({},s+n,r))},{});return a[e]=r,a};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){Vn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z4(n.key),n)}}function Vle(t,e,r){return e&&zC(t.prototype,e),r&&zC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gle(t,e,r){return e=Dg(e),qle(t,J4()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function qle(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(t)}function Kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(t,e)}function Vn(t,e,r){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4(t){var e=Zle(t,"string");return qc(e)=="symbol"?e:e+""}function Zle(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qle=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Xf().domain(jg(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},WC=function(e){return e.changedTouches&&!!e.changedTouches.length},Kc=function(t){function e(r){var n;return Yle(this,e),n=Gle(this,e,[r]),Vn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Vn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Vn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Vn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vn(n,"handleSlideDragStart",function(a){var i=WC(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jle(e,t),Vle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=e.getIndexInRange(s,f),g=e.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=sa(i[n],o,n);return lt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,p=n.pageX-i;p>0?p=Math.min(p,c+u-f-o,c+u-f-s):p<0&&(p=Math.max(p,c-s,c-o));var m=this.getIndex({startX:s+p,endX:o+p});(m.startIndex!==h||m.endIndex!==d)&&g&&g(m),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=WC(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,p=u.gap,m=u.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-d-c):y<0&&(y=Math.max(y,f-c)),v[s]=c+y;var b=this.getIndex(v),S=b.startIndex,w=b.endIndex,_=function(){var A=m.length-1;return s==="startX"&&(o>l?S%p===0:w%p===0)||o<l&&w===A||s==="endX"&&(o>l?w%p===0:S%p===0)||o>l&&w===A};this.setState(Vn(Vn({},s,c+y),"brushMoveStartX",n.pageX),function(){g&&_()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Vn({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ae.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=U.Children.only(c);return f?ae.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,p=l.startIndex,m=l.endIndex,v=Math.max(n,this.props.x),y=$x($x({},pt(this.props,!1)),{},{x:v,y:c,width:u,height:f}),b=d||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[m])===null||s===void 0?void 0:s.name);return ae.createElement(vr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:c};return ae.createElement(vr,{className:"recharts-brush-texts"},ae.createElement(fg,Mg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(a)),ae.createElement(fg,Mg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,p=h.isTextActive,m=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Ie(o)||!Ie(l)||!Ie(c)||!Ie(u)||c<=0||u<=0)return null;var b=yt("recharts-brush",i),S=ae.Children.count(s)===1,w=Xle("userSelect","none");return ae.createElement(vr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(p||m||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),ae.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ae.isValidElement(n)?i=ae.cloneElement(n,a):lt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return $x({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?Qle({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(U.PureComponent);Vn(Kc,"displayName","Brush");Vn(Kc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ece=i_;function tce(t,e){var r;return ece(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var rce=tce,nce=Zj,ace=uo,ice=rce,sce=Xn,oce=nv;function lce(t,e,r){var n=sce(t)?nce:ice;return r&&oce(t,e,r)&&(e=void 0),n(t,ace(e))}var cce=lce;const uce=Lt(cce);var ki=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},UC=bM;function fce(t,e,r){e=="__proto__"&&UC?UC(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var hce=fce,dce=hce,pce=xM,gce=uo;function mce(t,e){var r={};return e=gce(e),pce(t,function(n,a,i){dce(r,a,e(n,a,i))}),r}var vce=mce;const xce=Lt(vce);function yce(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var bce=yce,wce=i_;function Sce(t,e){var r=!0;return wce(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var _ce=Sce,kce=bce,Ace=_ce,Ece=uo,Tce=Xn,Cce=nv;function Oce(t,e,r){var n=Tce(t)?kce:Ace;return r&&Cce(t,e,r)&&(e=void 0),n(t,Ece(e))}var Pce=Oce;const Q4=Lt(Pce);var Ice=["x","y"];function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$1.apply(this,arguments)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){Nce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nce(t,e,r){return e=Fce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fce(t){var e=jce(t,"string");return Qh(e)=="symbol"?e:e+""}function jce(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mce(t,e){if(t==null)return{};var r=Dce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rce(t,e){var r=t.x,n=t.y,a=Mce(t,Ice),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||a.height),u=parseInt(c,10),f="".concat(e.width||a.width),h=parseInt(f,10);return pf(pf(pf(pf(pf({},e),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function XC(t){return ae.createElement(ble,$1({shapeType:"rectangle",propTransformer:Rce,activeClassName:"recharts-active-bar"},t))}var Lce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Ie(n)||r7(n);return i?e(n,a):(i||cl(),r)}},Bce=["value","background"],eD;function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function $ce(t,e){if(t==null)return{};var r=zce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rg.apply(this,arguments)}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){Ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rD(n.key),n)}}function Uce(t,e,r){return e&&VC(t.prototype,e),r&&VC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t,e,r){return e=Lg(e),Xce(t,tD()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function Xce(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yce(t)}function Yce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(t,e)}function Ds(t,e,r){return e=rD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rD(t){var e=Gce(t,"string");return Jc(e)=="symbol"?e:e+""}function Gce(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=function(t){function e(){var r;Wce(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Hce(this,e,[].concat(a)),Ds(r,"state",{isAnimationFinished:!1}),Ds(r,"id",jd("recharts-bar-")),Ds(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ds(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Vce(e,t),Uce(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=pt(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?c:s,p=Sr(Sr(Sr({},u),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ae.createElement(vr,Rg({className:"recharts-bar-rectangle"},Kp(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ae.createElement(XC,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return ae.createElement(is,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,p=i.map(function(m,v){var y=h&&h[v];if(y){var b=qa(y.x,m.x),S=qa(y.y,m.y),w=qa(y.width,m.width),_=qa(y.height,m.height);return Sr(Sr({},m),{},{x:b(g),y:S(g),width:w(g),height:_(g)})}if(s==="horizontal"){var k=qa(0,m.height),A=k(g);return Sr(Sr({},m),{},{y:m.y+m.height-A,height:A})}var E=qa(0,m.width),C=E(g);return Sr(Sr({},m),{},{width:C})});return ae.createElement(vr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!hv(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=pt(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=$ce(c,Bce);if(!f)return null;var d=Sr(Sr(Sr(Sr(Sr({},h),{},{fill:"#eee"},f),l),Kp(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ae.createElement(XC,Rg({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Oa(u,$d);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(m,v){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:sa(m,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(vr,g,f.map(function(p){return ae.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var m=this.state.isAnimationFinished,v=yt("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,S=y||b,w=ht(p)?this.id:p;return ae.createElement(vr,{className:v},y||b?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(w)},ae.createElement("rect",{x:y?c:c-f/2,y:b?u:u-h/2,width:y?f:f*2,height:b?h:h*2}))):null,ae.createElement(vr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!d||m)&&Gs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(U.PureComponent);eD=zd;Ds(zd,"displayName","Bar");Ds(zd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ds(zd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,d=Aae(n,r);if(!d)return null;var g=e.layout,p=r.type.defaultProps,m=p!==void 0?Sr(Sr({},p),r.props):r.props,v=m.dataKey,y=m.children,b=m.minPointSize,S=g==="horizontal"?s:i,w=c?S.scale.domain():null,_=Fae({numericAxis:S}),k=Oa(y,TM),A=f.map(function(E,C){var T,O,N,z,W,F;c?T=Eae(c[u+C],w):(T=sa(E,v),Array.isArray(T)||(T=[_,T]));var L=Lce(b,eD.defaultProps.minPointSize)(T[1],C);if(g==="horizontal"){var H,I=[s.scale(T[0]),s.scale(T[1])],X=I[0],K=I[1];O=YT({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:E,index:C}),N=(H=K??X)!==null&&H!==void 0?H:void 0,z=d.size;var P=X-K;if(W=Number.isNaN(P)?0:P,F={x:O,y:s.y,width:z,height:s.height},Math.abs(L)>0&&Math.abs(W)<Math.abs(L)){var Y=Za(W||L)*(Math.abs(L)-Math.abs(W));N-=Y,W+=Y}}else{var B=[i.scale(T[0]),i.scale(T[1])],G=B[0],te=B[1];if(O=G,N=YT({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:E,index:C}),z=te-G,W=d.size,F={x:i.x,y:N,width:i.width,height:W},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var oe=Za(z||L)*(Math.abs(L)-Math.abs(z));z+=oe}}return Sr(Sr(Sr({},E),{},{x:O,y:N,width:z,height:W,value:c?T:T[1],payload:E,background:F},k&&k[C]&&k[C].props),{},{tooltipPayload:[F4(r,E)],tooltipPosition:{x:O+z/2,y:N+W/2}})});return Sr({data:A,layout:g},h)});function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function Kce(t,e,r){return e&&GC(t.prototype,e),r&&GC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vv(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=Jce(t,"string");return ed(e)=="symbol"?e:e+""}function Jce(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zce=function(e,r,n,a,i){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!qn(c,zd);return u.reduce(function(d,g){var p=r[g],m=p.orientation,v=p.domain,y=p.padding,b=y===void 0?{}:y,S=p.mirror,w=p.reversed,_="".concat(m).concat(S?"Mirror":""),k,A,E,C,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=v[1]-v[0],N=1/0,z=p.categoricalDomain.sort(i7);if(z.forEach(function(B,G){G>0&&(N=Math.min((B||0)-(z[G-1]||0),N))}),Number.isFinite(N)){var W=N/O,F=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=W*F/2),p.padding==="no-gap"){var L=ol(e.barCategoryGap,W*F),H=W*F/2;k=H-L-(H-L)/F*L}}}a==="xAxis"?A=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:A=p.range,w&&(A=[A[1],A[0]]);var I=_ae(p,i,h),X=I.scale,K=I.realScaleType;X.domain(v).range(A),kae(X);var P=Nae(X,Ya(Ya({},p),{},{realScaleType:K}));a==="xAxis"?(T=m==="top"&&!S||m==="bottom"&&S,E=n.left,C=f[_]-T*p.height):a==="yAxis"&&(T=m==="left"&&!S||m==="right"&&S,E=f[_]-T*p.width,C=n.top);var Y=Ya(Ya(Ya({},p),P),{},{realScaleType:K,x:E,y:C,scale:X,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return Y.bandSize=Ag(Y,P),!p.hide&&a==="xAxis"?f[_]+=(T?-1:1)*Y.height:p.hide||(f[_]+=(T?-1:1)*Y.width),Ya(Ya({},d),{},vv({},g,Y))},{})},aD=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Qce=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return aD({x:r,y:n},{x:a,y:i})},iD=function(){function t(e){qce(this,t),this.scale=e}return Kce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();vv(iD,"EPS",1e-4);var M_=function(e){var r=Object.keys(e).reduce(function(n,a){return Ya(Ya({},n),{},vv({},a,iD.create(e[a])))},{});return Ya(Ya({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return xce(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return Q4(a,function(i,s){return r[s].isInRange(i)})}})};function eue(t){return(t%180+180)%180}var tue=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eue(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},rue=uo,nue=Md,aue=tv;function iue(t){return function(e,r,n){var a=Object(e);if(!nue(e)){var i=rue(r);e=aue(e),r=function(o){return i(a[o],o,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var sue=iue,oue=q4;function lue(t){var e=oue(t),r=e%1;return e===e?r?e-r:e:0}var cue=lue,uue=hM,fue=uo,hue=cue,due=Math.max;function pue(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:hue(r);return a<0&&(a=due(n+a,0)),uue(t,fue(e),a)}var gue=pue,mue=sue,vue=gue,xue=mue(vue),yue=xue;const bue=Lt(yue);var wue=lH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),D_=U.createContext(void 0),R_=U.createContext(void 0),sD=U.createContext(void 0),oD=U.createContext({}),lD=U.createContext(void 0),cD=U.createContext(0),uD=U.createContext(0),KC=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=wue(i);return ae.createElement(D_.Provider,{value:n},ae.createElement(R_.Provider,{value:a},ae.createElement(oD.Provider,{value:i},ae.createElement(sD.Provider,{value:u},ae.createElement(lD.Provider,{value:s},ae.createElement(cD.Provider,{value:c},ae.createElement(uD.Provider,{value:l},o)))))))},Sue=function(){return U.useContext(lD)},fD=function(e){var r=U.useContext(D_);r==null&&cl();var n=r[e];return n==null&&cl(),n},_ue=function(){var e=U.useContext(D_);return Is(e)},kue=function(){var e=U.useContext(R_),r=bue(e,function(n){return Q4(n.domain,Number.isFinite)});return r||Is(e)},hD=function(e){var r=U.useContext(R_);r==null&&cl();var n=r[e];return n==null&&cl(),n},Aue=function(){var e=U.useContext(sD);return e},Eue=function(){return U.useContext(oD)},L_=function(){return U.useContext(uD)},B_=function(){return U.useContext(cD)};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pD(n.key),n)}}function Oue(t,e,r){return e&&Cue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,r){return e=Bg(e),Iue(t,dD()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function Iue(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(t)}function Nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W1(t,e)}function W1(t,e){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(t,e)}function JC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(r),!0).forEach(function(n){$_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $_(t,e,r){return e=pD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pD(t){var e=jue(t,"string");return Zc(e)=="symbol"?e:e+""}function jue(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mue(t,e){return Bue(t)||Lue(t,e)||Rue(t,e)||Due()}function Due(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return QC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Bue(t){if(Array.isArray(t))return t}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}var $ue=function(e,r){var n;return ae.isValidElement(e)?n=ae.cloneElement(e,r):lt(e)?n=e(r):n=ae.createElement("line",U1({},r,{className:"recharts-reference-line-line"})),n},zue=function(e,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var g=c.y,p=e.y.apply(g,{position:s});if(ki(c,"discard")&&!e.y.isInRange(p))return null;var m=[{x:u+h,y:p},{x:u,y:p}];return l==="left"?m.reverse():m}if(r){var v=c.x,y=e.x.apply(v,{position:s});if(ki(c,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+d},{x:y,y:f}];return o==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(_){return e.apply(_,{position:s})});return ki(c,"discard")&&uce(w,function(_){return!e.isInRange(_)})?null:w}return null};function Wue(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Sue(),u=fD(a),f=hD(i),h=Aue();if(!c||!h)return null;Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=M_({x:u.scale,y:f.scale}),g=jr(e),p=jr(r),m=n&&n.length===2,v=zue(d,g,p,m,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var y=Mue(v,2),b=y[0],S=b.x,w=b.y,_=y[1],k=_.x,A=_.y,E=ki(t,"hidden")?"url(#".concat(c,")"):void 0,C=ZC(ZC({clipPath:E},pt(t,!0)),{},{x1:S,y1:w,x2:k,y2:A});return ae.createElement(vr,{className:yt("recharts-reference-line",o)},$ue(s,C),fn.renderCallByParent(t,Qce({x1:S,y1:w,x2:k,y2:A})))}var z_=function(t){function e(){return Tue(this,e),Pue(this,e,arguments)}return Fue(e,t),Oue(e,[{key:"render",value:function(){return ae.createElement(Wue,this.props)}}])}(ae.Component);$_(z_,"displayName","ReferenceLine");$_(z_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mD(n.key),n)}}function Xue(t,e,r){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yue(t,e,r){return e=$g(e),Vue(t,gD()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function Vue(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(t)}function Gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X1(t,e)}function xv(t,e,r){return e=mD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mD(t){var e=Kue(t,"string");return Qc(e)=="symbol"?e:e+""}function Kue(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jue=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=M_({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ki(e,"discard")&&!s.isInRange(o)?null:o},yv=function(t){function e(){return Uue(this,e),Yue(this,e,arguments)}return que(e,t),Xue(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=jr(a),u=jr(i);if(Yi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Jue(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,p=g.shape,m=g.className,v=ki(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=tO(tO({clipPath:v},pt(this.props,!0)),{},{cx:h,cy:d});return ae.createElement(vr,{className:yt("recharts-reference-dot",m)},e.renderDot(p,y),fn.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(ae.Component);xv(yv,"displayName","ReferenceDot");xv(yv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xv(yv,"renderDot",function(t,e){var r;return ae.isValidElement(t)?r=ae.cloneElement(t,e):lt(t)?r=t(e):r=ae.createElement(j_,H1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y1.apply(this,arguments)}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Que(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xD(n.key),n)}}function efe(t,e,r){return e&&Que(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tfe(t,e,r){return e=zg(e),rfe(t,vD()?Reflect.construct(e,r||[],zg(t).constructor):e.apply(t,r))}function rfe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nfe(t)}function nfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(t)}function afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V1(t,e)}function V1(t,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V1(t,e)}function bv(t,e,r){return e=xD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xD(t){var e=ife(t,"string");return eu(e)=="symbol"?e:e+""}function ife(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sfe=function(e,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=M_({x:u.scale,y:f.scale}),d={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ki(i,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:aD(d,g)},wv=function(t){function e(){return Zue(this,e),tfe(this,e,arguments)}return afe(e,t),efe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jr(a),h=jr(i),d=jr(s),g=jr(o),p=this.props.shape;if(!f&&!h&&!d&&!g&&!p)return null;var m=sfe(f,h,d,g,this.props);if(!m&&!p)return null;var v=ki(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ae.createElement(vr,{className:yt("recharts-reference-area",l)},e.renderRect(p,nO(nO({clipPath:v},pt(this.props,!0)),m)),fn.renderCallByParent(this.props,m))}}])}(ae.Component);bv(wv,"displayName","ReferenceArea");bv(wv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bv(wv,"renderRect",function(t,e){var r;return ae.isValidElement(t)?r=ae.cloneElement(t,e):lt(t)?r=t(e):r=ae.createElement(F_,Y1({},e,{className:"recharts-reference-area-rect"})),r});function yD(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function ofe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tue(n,r)}function lfe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Wg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function cfe(t,e){return yD(t,e+1)}function ufe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:yD(n,c)};var p=l,m,v=function(){return m===void 0&&(m=r(g,p)),m},y=g.coordinate,b=l===0||Wg(t,y,v,u,o);b||(l=0,u=s,c+=1),b&&(u=y+t*(v()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ffe(t,e,r){return e=hfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hfe(t){var e=dfe(t,"string");return td(e)=="symbol"?e:e+""}function dfe(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,l=e.end,c=function(h){var d=i[h],g,p=function(){return g===void 0&&(g=r(d,h)),g};if(h===s-1){var m=t*(d.coordinate+t*p()/2-l);i[h]=d=on(on({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate})}else i[h]=d=on(on({},d),{},{tickCoord:d.coordinate});var v=Wg(t,d.tickCoord,p,o,l);v&&(l=d.tickCoord-t*(p()/2+a),i[h]=on(on({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function gfe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(i){var u=n[o-1],f=r(u,o-1),h=t*(u.coordinate+t*f/2-c);s[o-1]=u=on(on({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var d=Wg(t,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-t*(f/2+a),s[o-1]=on(on({},u),{},{isShow:!0}))}for(var g=i?o-1:o,p=function(y){var b=s[y],S,w=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var _=t*(b.coordinate-t*w()/2-l);s[y]=b=on(on({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else s[y]=b=on(on({},b),{},{tickCoord:b.coordinate});var k=Wg(t,b.tickCoord,w,l,c);k&&(l=b.tickCoord+t*(w()/2+a),s[y]=on(on({},b),{},{isShow:!0}))},m=0;m<g;m++)p(m);return s}function W_(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Ie(l)||Pu.isSsr)return cfe(a,typeof l=="number"&&Ie(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=u&&d==="width"?Hf(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(b,S){var w=lt(c)?c(b.value,S):b.value;return d==="width"?ofe(Hf(w,{fontSize:e,letterSpacing:r}),g,f):Hf(w,{fontSize:e,letterSpacing:r})[d]},m=a.length>=2?Za(a[1].coordinate-a[0].coordinate):1,v=lfe(i,m,d);return l==="equidistantPreserveStart"?ufe(m,v,p,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=gfe(m,v,p,a,s,l==="preserveStartEnd"):h=pfe(m,v,p,a,s),h.filter(function(y){return y.isShow}))}var mfe=["viewBox"],vfe=["viewBox"],xfe=["ticks"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){U_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zx(t,e){if(t==null)return{};var r=yfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wD(n.key),n)}}function wfe(t,e,r){return e&&sO(t.prototype,e),r&&sO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,r){return e=Ug(e),_fe(t,bD()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function _fe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kfe(t)}function kfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G1(t,e)}function U_(t,e,r){return e=wD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wD(t){var e=Efe(t,"string");return tu(e)=="symbol"?e:e+""}function Efe(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ju=function(t){function e(r){var n;return bfe(this,e),n=Sfe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Afe(e,t),wfe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=zx(n,mfe),o=this.props,l=o.viewBox,c=zx(o,vfe);return!_c(i,l)||!_c(s,c)||!_c(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,g,p,m,v,y,b=f?-1:1,S=n.tickSize||u,w=Ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=g=n.coordinate,m=s+ +!f*l,p=m-b*S,y=p-b*h,v=w;break;case"left":p=m=n.coordinate,g=i+ +!f*o,d=g-b*S,v=d-b*h,y=w;break;case"right":p=m=n.coordinate,g=i+ +f*o,d=g+b*S,v=d+b*h,y=w;break;default:d=g=n.coordinate,m=s+ +f*l,p=m+b*S,y=p+b*h,v=w;break}return{line:{x1:d,y1:p,x2:g,y2:m},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Tr(Tr(Tr({},pt(this.props,!1)),pt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Tr(Tr({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Tr(Tr({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return ae.createElement("line",dc({},f,{className:yt("recharts-cartesian-axis-line",Ca(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=W_(Tr(Tr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=pt(this.props,!1),v=pt(u,!1),y=Tr(Tr({},m),{},{fill:"none"},pt(l,!1)),b=d.map(function(S,w){var _=s.getTickLineCoord(S),k=_.line,A=_.tick,E=Tr(Tr(Tr(Tr({textAnchor:g,verticalAnchor:p},m),{},{stroke:"none",fill:c},v),A),{},{index:w,payload:S,visibleTicksCount:d.length,tickFormatter:f});return ae.createElement(vr,dc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Kp(s.props,S,w)),l&&ae.createElement("line",dc({},y,k,{className:yt("recharts-cartesian-axis-tick-line",Ca(l,"className"))})),u&&e.renderTickItem(u,E,"".concat(lt(f)?f(S.value,w):S.value).concat(h||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=zx(f,xfe),g=h;return lt(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:ae.createElement(vr,{className:yt("recharts-cartesian-axis",c),ref:function(m){n.layerReference=m}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=yt(a.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(n)?s=ae.cloneElement(n,Tr(Tr({},a),{},{className:o})):lt(n)?s=n(Tr(Tr({},a),{},{className:o})):s=ae.createElement(fg,dc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(U.Component);U_(ju,"displayName","CartesianAxis");U_(ju,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tfe=["x1","y1","x2","y2","key"],Cfe=["offset"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){Ofe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ofe(t,e,r){return e=Pfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pfe(t){var e=Ife(t,"string");return ul(e)=="symbol"?e:e+""}function Ife(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(this,arguments)}function lO(t,e){if(t==null)return{};var r=Nfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ffe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return ae.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SD(t,e){var r;if(ae.isValidElement(t))r=ae.cloneElement(t,e);else if(lt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,l=lO(e,Tfe),c=pt(l,!1);c.offset;var u=lO(c,Cfe);r=ae.createElement("line",zo({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function jfe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=hn(hn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return SD(a,c)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Mfe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=hn(hn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return SD(a,c)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Dfe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],p=g?a+s-h:u[d+1]-h;if(p<=0)return null;var m=d%e.length;return ae.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:p,width:i,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Rfe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],p=g?i+o-h:u[d+1]-h;if(p<=0)return null;var m=d%n.length;return ae.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:p,height:l,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Lfe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return I4(W_(hn(hn(hn({},ju.defaultProps),n),{},{ticks:$i(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Bfe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return I4(W_(hn(hn(hn({},ju.defaultProps),n),{},{ticks:$i(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Wl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hg(t){var e,r,n,a,i,s,o=L_(),l=B_(),c=Eue(),u=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Wl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Wl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Wl.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Wl.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Wl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Wl.verticalFill,x:Ie(t.x)?t.x:c.left,y:Ie(t.y)?t.y:c.top,width:Ie(t.width)?t.width:c.width,height:Ie(t.height)?t.height:c.height}),f=u.x,h=u.y,d=u.width,g=u.height,p=u.syncWithTicks,m=u.horizontalValues,v=u.verticalValues,y=_ue(),b=kue();if(!Ie(d)||d<=0||!Ie(g)||g<=0||!Ie(f)||f!==+f||!Ie(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||Lfe,w=u.horizontalCoordinatesGenerator||Bfe,_=u.horizontalPoints,k=u.verticalPoints;if((!_||!_.length)&&lt(w)){var A=m&&m.length,E=w({yAxis:b?hn(hn({},b),{},{ticks:A?m:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:p);Yi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ul(E),"]")),Array.isArray(E)&&(_=E)}if((!k||!k.length)&&lt(S)){var C=v&&v.length,T=S({xAxis:y?hn(hn({},y),{},{ticks:C?v:y.ticks}):void 0,width:o,height:l,offset:c},C?!0:p);Yi(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ul(T),"]")),Array.isArray(T)&&(k=T)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(Ffe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ae.createElement(jfe,zo({},u,{offset:c,horizontalPoints:_,xAxis:y,yAxis:b})),ae.createElement(Mfe,zo({},u,{offset:c,verticalPoints:k,xAxis:y,yAxis:b})),ae.createElement(Dfe,zo({},u,{horizontalPoints:_})),ae.createElement(Rfe,zo({},u,{verticalPoints:k})))}Hg.displayName="CartesianGrid";var $fe=["type","layout","connectNulls","ref"],zfe=["key"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function cO(t,e){if(t==null)return{};var r=Wfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ul(t){return Yfe(t)||Xfe(t)||Hfe(t)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(t,e){if(t){if(typeof t=="string")return q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(t,e)}}function Xfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yfe(t){if(Array.isArray(t))return q1(t)}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kD(n.key),n)}}function Gfe(t,e,r){return e&&fO(t.prototype,e),r&&fO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qfe(t,e,r){return e=Xg(e),Kfe(t,_D()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function Kfe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jfe(t)}function Jfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function Zfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K1(t,e)}function Va(t,e,r){return e=kD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kD(t){var e=Qfe(t,"string");return ru(e)=="symbol"?e:e+""}function Qfe(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ss=function(t){function e(){var r;Vfe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qfe(this,e,[].concat(a)),Va(r,"state",{isAnimationFinished:!0,totalLength:0}),Va(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Va(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,y){return v+y});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],g=0,p=0;g<l.length;p+=l[g],++g)if(p+l[g]>f){d=[].concat(Ul(l.slice(0,g)),[f-p]);break}var m=d.length%2===0?[0,h]:[h];return[].concat(Ul(e.repeat(l,u)),Ul(d),m).map(function(v){return"".concat(v,"px")}).join(", ")}),Va(r,"id",jd("recharts-line-")),Va(r,"pathRef",function(s){r.mainCurve=s}),Va(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Va(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Zfe(e,t),Gfe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Oa(u,$d);if(!f)return null;var h=function(p,m){return{x:p.x,y:p.y,value:p.value,errorVal:sa(p.payload,m)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(vr,d,f.map(function(g){return ae.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=pt(this.props,!1),h=pt(l,!0),d=c.map(function(p,m){var v=Yn(Yn(Yn({key:"dot-".concat(m),r:3},f),h),{},{index:m,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ae.createElement(vr,Gf({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=cO(o,$fe),h=Yn(Yn(Yn({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return ae.createElement(T1,Gf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,p=s.width,m=s.height,v=this.state,y=v.prevPoints,b=v.totalLength;return ae.createElement(is,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/o.length,k=o.map(function(O,N){var z=Math.floor(N*_);if(y[z]){var W=y[z],F=qa(W.x,O.x),L=qa(W.y,O.y);return Yn(Yn({},O),{},{x:F(w),y:L(w)})}if(g){var H=qa(p*2,O.x),I=qa(m/2,O.y);return Yn(Yn({},O),{},{x:H(w),y:I(w)})}return Yn(Yn({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(k,n,a)}var A=qa(0,b),E=A(w),C;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});C=i.getStrokeDasharray(E,b,T)}else C=i.generateSimpleStrokeDasharray(b,E);return i.renderCurveStatically(o,n,a,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!hv(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,g=a.height,p=a.isAnimationActive,m=a.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=o.length===1,b=yt("recharts-line",l),S=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,_=S||w,k=ht(m)?this.id:m,A=(n=pt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=A.r,C=E===void 0?3:E,T=A.strokeWidth,O=T===void 0?2:T,N=p7(s)?s:{},z=N.clipDot,W=z===void 0?!0:z,F=C*2+O;return ae.createElement(vr,{className:b},S||w?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(k)},ae.createElement("rect",{x:S?h:h-d/2,y:w?f:f-g/2,width:S?d:d*2,height:w?g:g*2})),!W&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ae.createElement("rect",{x:h-F/2,y:f-F/2,width:d+F,height:g+F}))):null,!y&&this.renderCurve(_,k),this.renderErrorBar(_,k),(y||s)&&this.renderDots(_,W,k),(!p||v)&&Gs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ul(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Ul(s),Ul(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(ae.isValidElement(n))i=ae.cloneElement(n,a);else if(lt(n))i=n(a);else{var s=a.key,o=cO(a,zfe),l=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ae.createElement(j_,Gf({key:s},o,{className:l}))}return i}}])}(U.PureComponent);Va(ss,"displayName","Line");Va(ss,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Va(ss,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(h,d){var g=sa(h,s);return u==="horizontal"?{x:XT({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:ht(g)?null:n.scale(g),value:g,payload:h}:{x:ht(g)?null:r.scale(g),y:XT({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:g,payload:h}});return Yn({points:f,layout:u},c)});function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function the(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TD(n.key),n)}}function rhe(t,e,r){return e&&the(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nhe(t,e,r){return e=Yg(e),ahe(t,AD()?Reflect.construct(e,r||[],Yg(t).constructor):e.apply(t,r))}function ahe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(t)}function she(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J1(t,e)}function J1(t,e){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(t,e)}function ED(t,e,r){return e=TD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TD(t){var e=ohe(t,"string");return nu(e)=="symbol"?e:e+""}function ohe(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z1.apply(this,arguments)}function lhe(t){var e=t.xAxisId,r=L_(),n=B_(),a=fD(e);return a==null?null:U.createElement(ju,Z1({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return $i(s,!0)}}))}var au=function(t){function e(){return ehe(this,e),nhe(this,e,arguments)}return she(e,t),rhe(e,[{key:"render",value:function(){return U.createElement(lhe,this.props)}}])}(U.Component);ED(au,"displayName","XAxis");ED(au,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PD(n.key),n)}}function fhe(t,e,r){return e&&uhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hhe(t,e,r){return e=Vg(e),dhe(t,CD()?Reflect.construct(e,r||[],Vg(t).constructor):e.apply(t,r))}function dhe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(t)}function ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(t,e)}function OD(t,e,r){return e=PD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PD(t){var e=mhe(t,"string");return iu(e)=="symbol"?e:e+""}function mhe(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(this,arguments)}var vhe=function(e){var r=e.yAxisId,n=L_(),a=B_(),i=hD(r);return i==null?null:U.createElement(ju,ew({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return $i(o,!0)}}))},su=function(t){function e(){return che(this,e),hhe(this,e,arguments)}return ghe(e,t),fhe(e,[{key:"render",value:function(){return U.createElement(vhe,this.props)}}])}(U.Component);OD(su,"displayName","YAxis");OD(su,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hO(t){return whe(t)||bhe(t)||yhe(t)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(t,e){if(t){if(typeof t=="string")return tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(t,e)}}function bhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function whe(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rw=function(e,r,n,a,i){var s=Oa(e,z_),o=Oa(e,yv),l=[].concat(hO(s),hO(o)),c=Oa(e,wv),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(p,m){if(m.props[u]===n&&ki(m.props,"extendDomain")&&Ie(m.props[f])){var v=m.props[f];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},h)),c.length){var d="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(p,m){if(m.props[u]===n&&ki(m.props,"extendDomain")&&Ie(m.props[d])&&Ie(m.props[g])){var v=m.props[d],y=m.props[g];return[Math.min(p[0],v,y),Math.max(p[1],v,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,m){return Ie(m)?[Math.min(p[0],m),Math.max(p[1],m)]:p},h)),h},ID={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,g){var p=r?r+c:c;if(!this._events[p])return!1;var m=this._events[p],v=arguments.length,y,b;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,d),!0;case 6:return m.fn.call(m.context,u,f,h,d,g),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];m.fn.apply(m.context,y)}else{var S=m.length,w;for(b=0;b<S;b++)switch(m[b].once&&this.removeListener(c,m[b].fn,void 0,!0),v){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,u);break;case 3:m[b].fn.call(m[b].context,u,f);break;case 4:m[b].fn.call(m[b].context,u,f,h);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];m[b].fn.apply(m[b].context,y)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var p=0,m=[],v=g.length;p<v;p++)(g[p].fn!==u||h&&!g[p].once||f&&g[p].context!==f)&&m.push(g[p]);m.length?this._events[d]=m.length===1?m[0]:m:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(ID);var She=ID.exports;const _he=Lt(She);var Wx=new _he,Ux="recharts.syncMouseEvents";function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ahe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ND(n.key),n)}}function Ehe(t,e,r){return e&&Ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hx(t,e,r){return e=ND(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ND(t){var e=The(t,"string");return rd(e)=="symbol"?e:e+""}function The(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Che=function(){function t(){khe(this,t),Hx(this,"activeIndex",0),Hx(this,"coordinateList",[]),Hx(this,"layout","horizontal")}return Ehe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ohe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Ie(n)&&Ie(a))return!0}return!1}function Phe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function FD(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=Jr(e,r,n,a),o=Jr(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Ihe(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Jr(o,l,c,f),d=Jr(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return FD(e);return[{x:n,y:a},{x:i,y:s}]}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){Nhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nhe(t,e,r){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fhe(t){var e=jhe(t,"string");return nd(e)=="symbol"?e:e+""}function jhe(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mhe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,d=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,p=T1;if(h==="ScatterChart")g=s,p=joe;else if(h==="BarChart")g=Phe(f,s,l,u),p=F_;else if(f==="radial"){var m=FD(s),v=m.cx,y=m.cy,b=m.radius,S=m.startAngle,w=m.endAngle;g={cx:v,cy:y,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},p=D4}else g={points:Ihe(f,s,l)},p=T1;var _=$0($0($0($0({stroke:"#ccc",pointerEvents:"none"},l),g),pt(d,!1)),{},{payload:o,payloadIndex:c,className:yt("recharts-tooltip-cursor",d.className)});return U.isValidElement(d)?U.cloneElement(d,_):U.createElement(p,_)}var Dhe=["item"],Rhe=["children","className","width","height","style","compact","title","desc"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pc.apply(this,arguments)}function pO(t,e){return $he(t)||Bhe(t,e)||MD(t,e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function $he(t){if(Array.isArray(t))return t}function gO(t,e){if(t==null)return{};var r=zhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DD(n.key),n)}}function Hhe(t,e,r){return e&&Uhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xhe(t,e,r){return e=Gg(e),Yhe(t,jD()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function Yhe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vhe(t)}function Vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function Ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(t,e)}function lu(t){return Jhe(t)||Khe(t)||MD(t)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MD(t,e){if(t){if(typeof t=="string")return aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(t,e)}}function Khe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jhe(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ke(t,e,r){return e=DD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DD(t){var e=Zhe(t,"string");return ou(e)=="symbol"?e:e+""}function Zhe(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qhe={xAxis:["bottom","top"],yAxis:["left","right"]},ede={width:"100%",height:"100%"},RD={x:0,y:0};function z0(t){return t}var tde=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},rde=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return me(me(me({},a),Jr(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return me(me(me({},a),Jr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return RD},Sv=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(lu(o),lu(c)):o},[]);return s.length>0?s:e&&e.length&&Ie(a)&&Ie(i)?e.slice(a,i+1):[]};function LD(t){return t==="number"?[0,"auto"]:void 0}var iw=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=Sv(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=Gp(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(lu(l),[F4(c,h)]):l},[])},vO=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=tde(i,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=vae(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=iw(e,r,u,f),d=rde(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},nde=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,d=P4(u,i);return n.reduce(function(g,p){var m,v=p.type.defaultProps!==void 0?me(me({},p.type.defaultProps),p.props):p.props,y=v.type,b=v.dataKey,S=v.allowDataOverflow,w=v.allowDuplicatedCategory,_=v.scale,k=v.ticks,A=v.includeHidden,E=v[s];if(g[E])return g;var C=Sv(e.data,{graphicalItems:a.filter(function(P){var Y,B=s in P.props?P.props[s]:(Y=P.type.defaultProps)===null||Y===void 0?void 0:Y[s];return B===E}),dataStartIndex:l,dataEndIndex:c}),T=C.length,O,N,z;Ohe(v.domain,S,y)&&(O=S1(v.domain,null,S),d&&(y==="number"||_!=="auto")&&(z=Yf(C,b,"category")));var W=LD(y);if(!O||O.length===0){var F,L=(F=v.domain)!==null&&F!==void 0?F:W;if(b){if(O=Yf(C,b,y),y==="category"&&d){var H=a7(O);w&&H?(N=O,O=jg(0,T)):w||(O=qT(L,O,p).reduce(function(P,Y){return P.indexOf(Y)>=0?P:[].concat(lu(P),[Y])},[]))}else if(y==="category")w?O=O.filter(function(P){return P!==""&&!ht(P)}):O=qT(L,O,p).reduce(function(P,Y){return P.indexOf(Y)>=0||Y===""||ht(Y)?P:[].concat(lu(P),[Y])},[]);else if(y==="number"){var I=Sae(C,a.filter(function(P){var Y,B,G=s in P.props?P.props[s]:(Y=P.type.defaultProps)===null||Y===void 0?void 0:Y[s],te="hide"in P.props?P.props.hide:(B=P.type.defaultProps)===null||B===void 0?void 0:B.hide;return G===E&&(A||!te)}),b,i,u);I&&(O=I)}d&&(y==="number"||_!=="auto")&&(z=Yf(C,b,"category"))}else d?O=jg(0,T):o&&o[E]&&o[E].hasStack&&y==="number"?O=h==="expand"?[0,1]:N4(o[E].stackGroups,l,c):O=O4(C,a.filter(function(P){var Y=s in P.props?P.props[s]:P.type.defaultProps[s],B="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return Y===E&&(A||!B)}),y,u,!0);if(y==="number")O=rw(f,O,E,i,k),L&&(O=S1(L,O,S));else if(y==="category"&&L){var X=L,K=O.every(function(P){return X.indexOf(P)>=0});K&&(O=X)}}return me(me({},g),{},Ke({},E,me(me({},v),{},{axisType:i,domain:O,categoricalDomain:z,duplicateDomain:N,originalDomain:(m=v.domain)!==null&&m!==void 0?m:W,isCategorical:d,layout:u})))},{})},ade=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=Sv(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,g=P4(u,i),p=-1;return n.reduce(function(m,v){var y=v.type.defaultProps!==void 0?me(me({},v.type.defaultProps),v.props):v.props,b=y[s],S=LD("number");if(!m[b]){p++;var w;return g?w=jg(0,d):o&&o[b]&&o[b].hasStack?(w=N4(o[b].stackGroups,l,c),w=rw(f,w,b,i)):(w=S1(S,O4(h,n.filter(function(_){var k,A,E=s in _.props?_.props[s]:(k=_.type.defaultProps)===null||k===void 0?void 0:k[s],C="hide"in _.props?_.props.hide:(A=_.type.defaultProps)===null||A===void 0?void 0:A.hide;return E===b&&!C}),"number",u),a.defaultProps.allowDataOverflow),w=rw(f,w,b,i)),me(me({},m),{},Ke({},b,me(me({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ca(Qhe,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:S,isCategorical:g,layout:u})))}return m},{})},ide=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(a,"Id"),h=Oa(u,i),d={};return h&&h.length?d=nde(e,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=ade(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},sde=function(e){var r=Is(e),n=$i(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:s_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ag(r,n)}},xO=function(e){var r=e.children,n=e.defaultShowTooltip,a=qn(r,Kc),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},ode=function(e){return!e||!e.length?!1:e.some(function(r){var n=Xi(r&&r.type);return n&&n.indexOf("Bar")>=0})},yO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lde=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=qn(f,Kc),g=qn(f,Vi),p=Object.keys(l).reduce(function(w,_){var k=l[_],A=k.orientation;return!k.mirror&&!k.hide?me(me({},w),{},Ke({},A,w[A]+k.width)):w},{left:h.left||0,right:h.right||0}),m=Object.keys(s).reduce(function(w,_){var k=s[_],A=k.orientation;return!k.mirror&&!k.hide?me(me({},w),{},Ke({},A,Ca(w,"".concat(A))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=me(me({},m),p),y=v.bottom;d&&(v.bottom+=d.props.height||Kc.defaultProps.height),g&&r&&(v=bae(v,a,n,r));var b=c-v.left-v.right,S=u-v.top-v.bottom;return me(me({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(S,0)})},cde=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ude=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,y){var b=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,k=y.dataStartIndex,A=y.dataEndIndex,E=v.barSize,C=v.layout,T=v.barGap,O=v.barCategoryGap,N=v.maxBarSize,z=yO(C),W=z.numericAxisName,F=z.cateAxisName,L=ode(b),H=[];return b.forEach(function(I,X){var K=Sv(v.data,{graphicalItems:[I],dataStartIndex:k,dataEndIndex:A}),P=I.type.defaultProps!==void 0?me(me({},I.type.defaultProps),I.props):I.props,Y=P.dataKey,B=P.maxBarSize,G=P["".concat(W,"Id")],te=P["".concat(F,"Id")],oe={},le=l.reduce(function(Z,ue){var pe=y["".concat(ue.axisType,"Map")],Se=P["".concat(ue.axisType,"Id")];pe&&pe[Se]||ue.axisType==="zAxis"||cl();var Ge=pe[Se];return me(me({},Z),{},Ke(Ke({},ue.axisType,Ge),"".concat(ue.axisType,"Ticks"),$i(Ge)))},oe),re=le[F],se=le["".concat(F,"Ticks")],xe=S&&S[G]&&S[G].hasStack&&jae(I,S[G].stackGroups),D=Xi(I.type).indexOf("Bar")>=0,Ce=Ag(re,se),Ee=[],$e=L&&xae({barSize:E,stackGroups:S,totalSize:cde(le,F)});if(D){var ze,ie,Me=ht(B)?N:B,Qe=(ze=(ie=Ag(re,se,!0))!==null&&ie!==void 0?ie:Me)!==null&&ze!==void 0?ze:0;Ee=yae({barGap:T,barCategoryGap:O,bandSize:Qe!==Ce?Qe:Ce,sizeList:$e[te],maxBarSize:Me}),Qe!==Ce&&(Ee=Ee.map(function(Z){return me(me({},Z),{},{position:me(me({},Z.position),{},{offset:Z.position.offset-Qe/2})})}))}var M=I&&I.type&&I.type.getComposedData;M&&H.push({props:me(me({},M(me(me({},le),{},{displayedData:K,props:v,dataKey:Y,item:I,bandSize:Ce,barPosition:Ee,offset:w,stackedData:xe,layout:C,dataStartIndex:k,dataEndIndex:A}))),{},Ke(Ke(Ke({key:I.key||"item-".concat(X)},W,le[W]),F,le[F]),"animationId",_)),childIndex:v7(I,v.children),item:I})}),H},d=function(v,y){var b=v.props,S=v.dataStartIndex,w=v.dataEndIndex,_=v.updateId;if(!WA({props:b}))return null;var k=b.children,A=b.layout,E=b.stackOffset,C=b.data,T=b.reverseStackOrder,O=yO(A),N=O.numericAxisName,z=O.cateAxisName,W=Oa(k,n),F=Iae(C,W,"".concat(N,"Id"),"".concat(z,"Id"),E,T),L=l.reduce(function(P,Y){var B="".concat(Y.axisType,"Map");return me(me({},P),{},Ke({},B,ide(b,me(me({},Y),{},{graphicalItems:W,stackGroups:Y.axisType===N&&F,dataStartIndex:S,dataEndIndex:w}))))},{}),H=lde(me(me({},L),{},{props:b,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(L).forEach(function(P){L[P]=u(b,L[P],H,P.replace("Map",""),r)});var I=L["".concat(z,"Map")],X=sde(I),K=h(b,me(me({},L),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:W,stackGroups:F,offset:H}));return me(me({formattedGraphicalItems:K,graphicalItems:W,offset:H,stackGroups:F},X),L)},g=function(m){function v(y){var b,S,w;return Whe(this,v),w=Xhe(this,v,[y]),Ke(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(w,"accessibilityManager",new Che),Ke(w,"handleLegendBBoxUpdate",function(_){if(_){var k=w.state,A=k.dataStartIndex,E=k.dataEndIndex,C=k.updateId;w.setState(me({legendBBox:_},d({props:w.props,dataStartIndex:A,dataEndIndex:E,updateId:C},me(me({},w.state),{},{legendBBox:_}))))}}),Ke(w,"handleReceiveSyncEvent",function(_,k,A){if(w.props.syncId===_){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),Ke(w,"handleBrushChange",function(_){var k=_.startIndex,A=_.endIndex;if(k!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return me({dataStartIndex:k,dataEndIndex:A},d({props:w.props,dataStartIndex:k,dataEndIndex:A,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),Ke(w,"handleMouseEnter",function(_){var k=w.getMouseInfo(_);if(k){var A=me(me({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var E=w.props.onMouseEnter;lt(E)&&E(A,_)}}),Ke(w,"triggeredAfterMouseMove",function(_){var k=w.getMouseInfo(_),A=k?me(me({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var E=w.props.onMouseMove;lt(E)&&E(A,_)}),Ke(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Ke(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ke(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),Ke(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var A=w.props.onMouseLeave;lt(A)&&A(k,_)}),Ke(w,"handleOuterEvent",function(_){var k=m7(_),A=Ca(w.props,"".concat(k));if(k&&lt(A)){var E,C;/.*touch.*/i.test(k)?C=w.getMouseInfo(_.changedTouches[0]):C=w.getMouseInfo(_),A((E=C)!==null&&E!==void 0?E:{},_)}}),Ke(w,"handleClick",function(_){var k=w.getMouseInfo(_);if(k){var A=me(me({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var E=w.props.onClick;lt(E)&&E(A,_)}}),Ke(w,"handleMouseDown",function(_){var k=w.props.onMouseDown;if(lt(k)){var A=w.getMouseInfo(_);k(A,_)}}),Ke(w,"handleMouseUp",function(_){var k=w.props.onMouseUp;if(lt(k)){var A=w.getMouseInfo(_);k(A,_)}}),Ke(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Ke(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),Ke(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),Ke(w,"handleDoubleClick",function(_){var k=w.props.onDoubleClick;if(lt(k)){var A=w.getMouseInfo(_);k(A,_)}}),Ke(w,"handleContextMenu",function(_){var k=w.props.onContextMenu;if(lt(k)){var A=w.getMouseInfo(_);k(A,_)}}),Ke(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&Wx.emit(Ux,w.props.syncId,_,w.eventEmitterSymbol)}),Ke(w,"applySyncEvent",function(_){var k=w.props,A=k.layout,E=k.syncMethod,C=w.state.updateId,T=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(me({dataStartIndex:T,dataEndIndex:O},d({props:w.props,dataStartIndex:T,dataEndIndex:O,updateId:C},w.state)));else if(_.activeTooltipIndex!==void 0){var N=_.chartX,z=_.chartY,W=_.activeTooltipIndex,F=w.state,L=F.offset,H=F.tooltipTicks;if(!L)return;if(typeof E=="function")W=E(H,_);else if(E==="value"){W=-1;for(var I=0;I<H.length;I++)if(H[I].value===_.activeLabel){W=I;break}}var X=me(me({},L),{},{x:L.left,y:L.top}),K=Math.min(N,X.x+X.width),P=Math.min(z,X.y+X.height),Y=H[W]&&H[W].value,B=iw(w.state,w.props.data,W),G=H[W]?{x:A==="horizontal"?H[W].coordinate:K,y:A==="horizontal"?P:H[W].coordinate}:RD;w.setState(me(me({},_),{},{activeLabel:Y,activeCoordinate:G,activePayload:B,activeTooltipIndex:W}))}else w.setState(_)}),Ke(w,"renderCursor",function(_){var k,A=w.state,E=A.isTooltipActive,C=A.activeCoordinate,T=A.activePayload,O=A.offset,N=A.activeTooltipIndex,z=A.tooltipAxisBandSize,W=w.getTooltipEventType(),F=(k=_.props.active)!==null&&k!==void 0?k:E,L=w.props.layout,H=_.key||"_recharts-cursor";return ae.createElement(Mhe,{key:H,activeCoordinate:C,activePayload:T,activeTooltipIndex:N,chartName:r,element:_,isActive:F,layout:L,offset:O,tooltipAxisBandSize:z,tooltipEventType:W})}),Ke(w,"renderPolarAxis",function(_,k,A){var E=Ca(_,"type.axisType"),C=Ca(w.state,"".concat(E,"Map")),T=_.type.defaultProps,O=T!==void 0?me(me({},T),_.props):_.props,N=C&&C[O["".concat(E,"Id")]];return U.cloneElement(_,me(me({},N),{},{className:yt(E,N.className),key:_.key||"".concat(k,"-").concat(A),ticks:$i(N,!0)}))}),Ke(w,"renderPolarGrid",function(_){var k=_.props,A=k.radialLines,E=k.polarAngles,C=k.polarRadius,T=w.state,O=T.radiusAxisMap,N=T.angleAxisMap,z=Is(O),W=Is(N),F=W.cx,L=W.cy,H=W.innerRadius,I=W.outerRadius;return U.cloneElement(_,{polarAngles:Array.isArray(E)?E:$i(W,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(C)?C:$i(z,!0).map(function(X){return X.coordinate}),cx:F,cy:L,innerRadius:H,outerRadius:I,key:_.key||"polar-grid",radialLines:A})}),Ke(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,k=w.props,A=k.children,E=k.width,C=k.height,T=w.props.margin||{},O=E-(T.left||0)-(T.right||0),N=T4({children:A,formattedGraphicalItems:_,legendWidth:O,legendContent:c});if(!N)return null;var z=N.item,W=gO(N,Dhe);return U.cloneElement(z,me(me({},W),{},{chartWidth:E,chartHeight:C,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ke(w,"renderTooltip",function(){var _,k=w.props,A=k.children,E=k.accessibilityLayer,C=qn(A,Kn);if(!C)return null;var T=w.state,O=T.isTooltipActive,N=T.activeCoordinate,z=T.activePayload,W=T.activeLabel,F=T.offset,L=(_=C.props.active)!==null&&_!==void 0?_:O;return U.cloneElement(C,{viewBox:me(me({},F),{},{x:F.left,y:F.top}),active:L,label:W,payload:L?z:[],coordinate:N,accessibilityLayer:E})}),Ke(w,"renderBrush",function(_){var k=w.props,A=k.margin,E=k.data,C=w.state,T=C.offset,O=C.dataStartIndex,N=C.dataEndIndex,z=C.updateId;return U.cloneElement(_,{key:_.key||"_recharts-brush",onChange:D0(w.handleBrushChange,_.props.onChange),data:E,x:Ie(_.props.x)?_.props.x:T.left,y:Ie(_.props.y)?_.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:Ie(_.props.width)?_.props.width:T.width,startIndex:O,endIndex:N,updateId:"brush-".concat(z)})}),Ke(w,"renderReferenceElement",function(_,k,A){if(!_)return null;var E=w,C=E.clipPathId,T=w.state,O=T.xAxisMap,N=T.yAxisMap,z=T.offset,W=_.type.defaultProps||{},F=_.props,L=F.xAxisId,H=L===void 0?W.xAxisId:L,I=F.yAxisId,X=I===void 0?W.yAxisId:I;return U.cloneElement(_,{key:_.key||"".concat(k,"-").concat(A),xAxis:O[H],yAxis:N[X],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:C})}),Ke(w,"renderActivePoints",function(_){var k=_.item,A=_.activePoint,E=_.basePoint,C=_.childIndex,T=_.isRange,O=[],N=k.props.key,z=k.item.type.defaultProps!==void 0?me(me({},k.item.type.defaultProps),k.item.props):k.item.props,W=z.activeDot,F=z.dataKey,L=me(me({index:C,dataKey:F,cx:A.x,cy:A.y,r:4,fill:N_(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},pt(W,!1)),qp(W));return O.push(v.renderActiveDot(W,L,"".concat(N,"-activePoint-").concat(C))),E?O.push(v.renderActiveDot(W,me(me({},L),{},{cx:E.x,cy:E.y}),"".concat(N,"-basePoint-").concat(C))):T&&O.push(null),O}),Ke(w,"renderGraphicChild",function(_,k,A){var E=w.filterFormatItem(_,k,A);if(!E)return null;var C=w.getTooltipEventType(),T=w.state,O=T.isTooltipActive,N=T.tooltipAxis,z=T.activeTooltipIndex,W=T.activeLabel,F=w.props.children,L=qn(F,Kn),H=E.props,I=H.points,X=H.isRange,K=H.baseLine,P=E.item.type.defaultProps!==void 0?me(me({},E.item.type.defaultProps),E.item.props):E.item.props,Y=P.activeDot,B=P.hide,G=P.activeBar,te=P.activeShape,oe=!!(!B&&O&&L&&(Y||G||te)),le={};C!=="axis"&&L&&L.props.trigger==="click"?le={onClick:D0(w.handleItemMouseEnter,_.props.onClick)}:C!=="axis"&&(le={onMouseLeave:D0(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:D0(w.handleItemMouseEnter,_.props.onMouseEnter)});var re=U.cloneElement(_,me(me({},E.props),le));function se(ue){return typeof N.dataKey=="function"?N.dataKey(ue.payload):null}if(oe)if(z>=0){var xe,D;if(N.dataKey&&!N.allowDuplicatedCategory){var Ce=typeof N.dataKey=="function"?se:"payload.".concat(N.dataKey.toString());xe=Gp(I,Ce,W),D=X&&K&&Gp(K,Ce,W)}else xe=I==null?void 0:I[z],D=X&&K&&K[z];if(te||G){var Ee=_.props.activeIndex!==void 0?_.props.activeIndex:z;return[U.cloneElement(_,me(me(me({},E.props),le),{},{activeIndex:Ee})),null,null]}if(!ht(xe))return[re].concat(lu(w.renderActivePoints({item:E,activePoint:xe,basePoint:D,childIndex:z,isRange:X})))}else{var $e,ze=($e=w.getItemByXY(w.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:re},ie=ze.graphicalItem,Me=ie.item,Qe=Me===void 0?_:Me,M=ie.childIndex,Z=me(me(me({},E.props),le),{},{activeIndex:M});return[U.cloneElement(Qe,Z),null,null]}return X?[re,null,null]:[re,null]}),Ke(w,"renderCustomized",function(_,k,A){return U.cloneElement(_,me(me({key:"recharts-customized-".concat(A)},w.props),w.state))}),Ke(w,"renderMap",{CartesianGrid:{handler:z0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:z0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:z0},YAxis:{handler:z0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:jd("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=EM(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return Ghe(v,m),Hhe(v,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,k=b.layout,A=qn(S,Kn);if(A){var E=A.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=iw(this.state,w,E,C),O=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+_)/2,z=k==="horizontal",W=z?{x:O,y:N}:{y:O,x:N},F=this.state.formattedGraphicalItems.find(function(H){var I=H.item;return I.type.name==="Scatter"});F&&(W=me(me({},W),F.props.points[E].tooltipPosition),T=F.props.points[E].tooltipPayload);var L={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:W};this.setState(L),this.renderCursor(A),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){Rb([qn(b.children,Kn)],[qn(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=qn(this.props.children,Kn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=UQ(w),k={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},A=w.width/S.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,A);if(!E)return null;var C=this.state,T=C.xAxisMap,O=C.yAxisMap,N=this.getTooltipEventType(),z=vO(this.state,this.props.data,this.props.layout,E);if(N!=="axis"&&T&&O){var W=Is(T).scale,F=Is(O).scale,L=W&&W.invert?W.invert(k.chartX):null,H=F&&F.invert?F.invert(k.chartY):null;return me(me({},k),{},{xValue:L,yValue:H},z)}return z?me(me({},k),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,k=b/w,A=S/w;if(_==="horizontal"||_==="vertical"){var E=this.state.offset,C=k>=E.left&&k<=E.left+E.width&&A>=E.top&&A<=E.top+E.height;return C?{x:k,y:A}:null}var T=this.state,O=T.angleAxisMap,N=T.radiusAxisMap;if(O&&N){var z=Is(O);return ZT({x:k,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=qn(b,Kn),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=qp(this.props,this.handleOuterEvent);return me(me({},k),_)}},{key:"addListener",value:function(){Wx.on(Ux,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wx.removeListener(Ux,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,k=0,A=_.length;k<A;k++){var E=_[k];if(E.item===b||E.props.key===b.key||S===Xi(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,k=S.height,A=S.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:b},ae.createElement("rect",{x:w,y:_,height:k,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=pO(w,2),k=_[0],A=_[1];return me(me({},S),{},Ke({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=pO(w,2),k=_[0],A=_[1];return me(me({},S),{},Ke({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var k=0,A=w.length;k<A;k++){var E=w[k],C=E.props,T=E.item,O=T.type.defaultProps!==void 0?me(me({},T.type.defaultProps),T.props):T.props,N=Xi(T.type);if(N==="Bar"){var z=(C.data||[]).find(function(H){return koe(b,H)});if(z)return{graphicalItem:E,payload:z}}else if(N==="RadialBar"){var W=(C.data||[]).find(function(H){return ZT(b,H)});if(W)return{graphicalItem:E,payload:W}}else if(gv(E,_)||mv(E,_)||Jh(E,_)){var F=Tle({graphicalItem:E,activeTooltipItem:_,itemData:O.data}),L=O.activeIndex===void 0?F:O.activeIndex;return{graphicalItem:me(me({},E),{},{childIndex:L}),payload:Jh(E,_)?O.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!WA(this))return null;var S=this.props,w=S.children,_=S.className,k=S.width,A=S.height,E=S.style,C=S.compact,T=S.title,O=S.desc,N=gO(S,Rhe),z=pt(N,!1);if(C)return ae.createElement(KC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(Bb,pc({},z,{width:k,height:A,title:T,desc:O}),this.renderClipPath(),HA(w,this.renderMap)));if(this.props.accessibilityLayer){var W,F;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(F=this.props.role)!==null&&F!==void 0?F:"application",z.onKeyDown=function(H){b.accessibilityManager.keyboardEvent(H)},z.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return ae.createElement(KC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",pc({className:yt("recharts-wrapper",_),style:me({position:"relative",cursor:"default",width:k,height:A},E)},L,{ref:function(I){b.container=I}}),ae.createElement(Bb,pc({},z,{width:k,height:A,title:T,desc:O,style:ede}),this.renderClipPath(),HA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Ke(g,"displayName",r),Ke(g,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ke(g,"getDerivedStateFromProps",function(m,v){var y=m.dataKey,b=m.data,S=m.children,w=m.width,_=m.height,k=m.layout,A=m.stackOffset,E=m.margin,C=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var O=xO(m);return me(me(me({},O),{},{updateId:0},d(me(me({props:m},O),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:k,prevStackOffset:A,prevMargin:E,prevChildren:S})}if(y!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||_!==v.prevHeight||k!==v.prevLayout||A!==v.prevStackOffset||!_c(E,v.prevMargin)){var N=xO(m),z={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},W=me(me({},vO(v,b,k)),{},{updateId:v.updateId+1}),F=me(me(me({},N),z),W);return me(me(me({},F),d(me({props:m},F),v)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:k,prevStackOffset:A,prevMargin:E,prevChildren:S})}if(!Rb(S,v.prevChildren)){var L,H,I,X,K=qn(S,Kc),P=K&&(L=(H=K.props)===null||H===void 0?void 0:H.startIndex)!==null&&L!==void 0?L:C,Y=K&&(I=(X=K.props)===null||X===void 0?void 0:X.endIndex)!==null&&I!==void 0?I:T,B=P!==C||Y!==T,G=!ht(b),te=G&&!B?v.updateId:v.updateId+1;return me(me({updateId:te},d(me(me({props:m},v),{},{updateId:te,dataStartIndex:P,dataEndIndex:Y}),v)),{},{prevChildren:S,dataStartIndex:P,dataEndIndex:Y})}return null}),Ke(g,"renderActiveDot",function(m,v,y){var b;return U.isValidElement(m)?b=U.cloneElement(m,v):lt(m)?b=m(v):b=ae.createElement(j_,v),ae.createElement(vr,{className:"recharts-active-dot",key:y},b)});var p=U.forwardRef(function(v,y){return ae.createElement(g,pc({},v,{ref:y}))});return p.displayName=g.displayName,p},qg=ude({chartName:"LineChart",GraphicalChild:ss,axisComponents:[{axisType:"xAxis",AxisComp:au},{axisType:"yAxis",AxisComp:su}],formatAxisMap:Zce});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kg={};Kg.version="0.18.5";var BD=1252,fde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],H_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},X_=function(t){fde.indexOf(t)!=-1&&(BD=H_[0]=t)};function hde(){X_(1252)}var Qa=function(t){X_(t)};function Y_(){Qa(1200),hde()}function bO(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function dde(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function $D(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Cf=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?dde(t.slice(2)):e==254&&r==255?$D(t.slice(2)):e==65279?t.slice(1):t},W0=function(e){return String.fromCharCode(e)},wO=function(e){return String.fromCharCode(e)},ad,Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function id(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),i=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,a=t.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),e+=Rs.charAt(i)+Rs.charAt(s)+Rs.charAt(o)+Rs.charAt(l);return e}function oa(t){var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)i=Rs.indexOf(t.charAt(c++)),s=Rs.indexOf(t.charAt(c++)),r=i<<2|s>>4,e+=String.fromCharCode(r),o=Rs.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Rs.indexOf(t.charAt(c++)),a=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(a));return e}var ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hs=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Zs(t){return ct?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function SO(t){return ct?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ea=function(e){return ct?hs(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function _v(t){if(typeof ArrayBuffer>"u")return ea(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function go(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function pde(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function V_(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return V_(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var zr=ct?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:hs(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function gde(t){for(var e=[],r=0,n=t.length+250,a=Zs(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Zs(65535),n=65530)}return e.push(a.slice(0,r)),zr(e)}var On=/\u0000/g,Of=/[\u0001-\u0006]/g;function Ec(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ei(t,e){var r=""+t;return r.length>=e?r:ur("0",e-r.length)+r}function G_(t,e){var r=""+t;return r.length>=e?r:ur(" ",e-r.length)+r}function Jg(t,e){var r=""+t;return r.length>=e?r:r+ur(" ",e-r.length)}function mde(t,e){var r=""+Math.round(t);return r.length>=e?r:ur("0",e-r.length)+r}function vde(t,e){var r=""+t;return r.length>=e?r:ur("0",e-r.length)+r}var _O=Math.pow(2,32);function Hl(t,e){if(t>_O||t<-_O)return mde(t,e);var r=Math.round(t);return vde(r,e)}function Zg(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var kO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xde(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Je={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},AO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qg(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<e&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Wo(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Ade(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var zD=new Date(1899,11,31,0,0,0),bde=zD.getTime(),wde=new Date(1900,2,1,0,0,0);function WD(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=wde&&(r+=24*60*60*1e3),(r-(bde+(t.getTimezoneOffset()-zD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function q_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Sde(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _de(t){var e=t<0?12:11,r=q_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function kde(t){var e=q_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function sd(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=_de(t):e===10?r=t.toFixed(10).substr(0,12):r=kde(t),q_(Sde(r.toUpperCase()))}function fl(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):sd(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ma(14,WD(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Ade(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Ede(t,e,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Xx[r.m-1][1];case 5:return Xx[r.m-1][0];default:return Xx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return kO[r.q][0];default:return kO[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ei(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=ei(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ei(l,c):"";return u}function Ls(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var UD=/%/g;function Tde(t,e,r){var n=e.replace(UD,""),a=e.length-n.length;return qi(t,n,r*Math.pow(10,2*a))+ur("%",a)}function Cde(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return qi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function HD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+HD(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var XD=/# (\?+)( ?)\/( ?)(\d+)/;function Ode(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ur(" ",t[1].length+1+t[4].length):G_(s,t[1].length)+t[2]+"/"+t[3]+ei(o,t[4].length))}function Pde(t,e,r){return r+(e===0?"":""+e)+ur(" ",t[1].length+2+t[4].length)}var YD=/^#*0*\.([0#]+)/,VD=/\).*[0#]/,GD=/\(###\) ###\\?-####/;function _n(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function EO(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function TO(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Ide(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Nde(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ma(t,e,r){if(t.charCodeAt(0)===40&&!e.match(VD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ma("n",n,r):"("+ma("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Cde(t,e,r);if(e.indexOf("%")!==-1)return Tde(t,e,r);if(e.indexOf("E")!==-1)return HD(e,r);if(e.charCodeAt(0)===36)return"$"+ma(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Hl(l,e.length);if(e.match(/^[#?]+$/))return a=Hl(r,0),a==="0"&&(a=""),a.length>e.length?a:_n(e.substr(0,e.length-a.length))+a;if(i=e.match(XD))return Ode(i,l,c);if(e.match(/^#+0+$/))return c+Hl(l,e.length-e.indexOf("0"));if(i=e.match(YD))return a=EO(r,i[1].length).replace(/^([^\.]+)$/,"$1."+_n(i[1])).replace(/\.$/,"."+_n(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+ur("0",_n(i[1]).length-p.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+EO(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Ls(Hl(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ma(t,e,-r):Ls(""+(Math.floor(r)+Ide(r,i[1].length)))+"."+ei(TO(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ma(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ec(ma(t,e.replace(/[\\-]/g,""),r)),s=0,Ec(Ec(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(e.match(GD))return a=ma(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Qg(l,Math.pow(10,s)-1,!1),a=""+c,u=qi("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Jg(o[2],s),u.length<i[4].length&&(u=_n(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Qg(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?G_(o[1],s)+i[2]+"/"+i[3]+Jg(o[2],s):ur(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Hl(r,0),e.length<=a.length?a:_n(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,h=e.length-a.length-f;return _n(e.substr(0,f)+a+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=TO(r,i[1].length),r<0?"-"+ma(t,e,-r):Ls(Nde(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ei(0,3-g.length):"")+g})+"."+ei(s,i[1].length);switch(e){case"###,##0.00":return ma(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Ls(Hl(l,0));return d!=="0"?c+d:"";case"###,###.00":return ma(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ma(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Fde(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return qi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function jde(t,e,r){var n=e.replace(UD,""),a=e.length-n.length;return qi(t,n,r*Math.pow(10,2*a))+ur("%",a)}function qD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qD(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function pi(t,e,r){if(t.charCodeAt(0)===40&&!e.match(VD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pi("n",n,r):"("+pi("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Fde(t,e,r);if(e.indexOf("%")!==-1)return jde(t,e,r);if(e.indexOf("E")!==-1)return qD(e,r);if(e.charCodeAt(0)===36)return"$"+pi(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+ei(l,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:_n(e.substr(0,e.length-a.length))+a;if(i=e.match(XD))return Pde(i,l,c);if(e.match(/^#+0+$/))return c+ei(l,e.length-e.indexOf("0"));if(i=e.match(YD))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_n(i[1])).replace(/\.$/,"."+_n(i[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+ur("0",_n(i[1]).length-p.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Ls(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pi(t,e,-r):Ls(""+r)+"."+ur("0",i[1].length);if(i=e.match(/^#,#*,#0/))return pi(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ec(pi(t,e.replace(/[\\-]/g,""),r)),s=0,Ec(Ec(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(e.match(GD))return a=pi(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Qg(l,Math.pow(10,s)-1,!1),a=""+c,u=qi("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Jg(o[2],s),u.length<i[4].length&&(u=_n(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Qg(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?G_(o[1],s)+i[2]+"/"+i[3]+Jg(o[2],s):ur(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:_n(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,h=e.length-a.length-f;return _n(e.substr(0,f)+a+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+pi(t,e,-r):Ls(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ei(0,3-g.length):"")+g})+"."+ei(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=Ls(""+l);return d!=="0"?c+d:"";default:if(e.match(/\.[0#?]*$/))return pi(t,e.slice(0,e.lastIndexOf(".")),r)+_n(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function qi(t,e,r){return(r|0)===r?pi(t,e,r):ma(t,e,r)}function Mde(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var KD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Mu(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Zg(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(KD))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Dde(t,e,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!Zg(t,s))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=t.charAt(++s),g=d==="("||d===")"?d:"t";a[a.length]={t:g,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Wo(e,r,t.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Wo(e,r),c==null))return"";for(i=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(c==null&&(c=Wo(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",h="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(p.v=c.H>=12?"":""),p.t="T",s+=5,h="h"):(p.t="t",++s),c==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(i=o;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(KD)){if(c==null&&(c=Wo(e,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Mu(t)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<t.length&&(o=t.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++s;break}var m=0,v=0,y;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",m<1&&(m=1);break;case"s":(y=a[s].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&a[s].v.match(/[Hh]/)&&(m=1),m<2&&a[s].v.match(/[Mm]/)&&(m=2),m<3&&a[s].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",S;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Ede(a[s].t.charCodeAt(0),a[s].v,c,v),a[s].t="t";break;case"n":case"?":for(S=s+1;a[S]!=null&&((o=a[S].t)==="?"||o==="D"||(o===" "||o==="t")&&a[S+1]!=null&&(a[S+1].t==="?"||a[S+1].t==="t"&&a[S+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[S].v==="/"||a[S].v===" "&&a[S+1]!=null&&a[S+1].t=="?"));)a[s].v+=a[S].v,a[S]={v:"",t:";"},++S;b+=a[s].v,s=S-1;break;case"G":a[s].t="t",a[s].v=fl(e,r);break}var w="",_,k;if(b.length>0){b.charCodeAt(0)==40?(_=e<0&&b.charCodeAt(0)===45?-e:e,k=qi("n",b,_)):(_=e<0&&n>1?-e:e,k=qi("n",b,_),_<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),S=k.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var E=a.length;if(A===a.length&&k.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(S>=a[s].v.length-1?(S-=a[s].v.length,a[s].v=k.substr(S+1,a[s].v.length)):S<0?a[s].v="":(a[s].v=k.substr(0,S+1),S=-1),a[s].t="t",E=s);S>=0&&E<a.length&&(a[E].v=k.substr(0,S+1)+a[E].v)}else if(A!==a.length&&k.indexOf("E")===-1){for(S=k.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,w=a[s].v.substr(u+1);u>=0;--u)S>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(w=k.charAt(S--)+w);a[s].v=w,a[s].t="t",E=s}for(S>=0&&E<a.length&&(a[E].v=k.substr(0,S+1)+a[E].v),S=k.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,w=a[s].v.substr(0,u);u<a[s].v.length;++u)S<k.length&&(w+=k.charAt(S++));a[s].v=w,a[s].t="t",E=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(_=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=qi(a[s].t,a[s].v,_),a[s].t="t");var C="";for(s=0;s!==a.length;++s)a[s]!=null&&(C+=a[s].v);return C}var CO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function OO(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Rde(t,e){var r=Mde(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(CO),o=r[1].match(CO);return OO(e,s)?[n,r[0]]:OO(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Ma(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Je)[t],n==null&&(n=r.table&&r.table[AO[t]]||Je[AO[t]]),n==null&&(n=yde[t]||"General");break}if(Zg(n,0))return fl(e,r);e instanceof Date&&(e=WD(e,r.date1904));var a=Rde(n,e);if(Zg(a[1]))return fl(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Dde(a[1],e,r,a[0])}function Ki(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Je[r]==null){e<0&&(e=r);continue}if(Je[r]==t){e=r;break}}e<0&&(e=391)}return Je[e]=t,e}function kv(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Ki(t[e],e)}function Du(){Je=xde()}var Lde={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},JD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Bde(t){var e=typeof t=="number"?Je[t]:t;return e=e.replace(JD,"(\\d+)"),new RegExp("^"+e+"$")}function $de(t,e,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(e.match(JD)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var zde=function(){var t={};t.version="1.2.0";function e(){for(var k=0,A=new Array(256),E=0;E!=256;++E)k=E,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,A[E]=k;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(k){var A=0,E=0,C=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)T[C]=k[C];for(C=0;C!=256;++C)for(E=k[C],A=256+C;A<4096;A+=256)E=T[A]=E>>>8^k[E&255];var O=[];for(C=1;C!=16;++C)O[C-1]=typeof Int32Array<"u"?T.subarray(C*256,C*256+256):T.slice(C*256,C*256+256);return O}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],g=a[9],p=a[10],m=a[11],v=a[12],y=a[13],b=a[14];function S(k,A){for(var E=A^-1,C=0,T=k.length;C<T;)E=E>>>8^r[(E^k.charCodeAt(C++))&255];return~E}function w(k,A){for(var E=A^-1,C=k.length-15,T=0;T<C;)E=b[k[T++]^E&255]^y[k[T++]^E>>8&255]^v[k[T++]^E>>16&255]^m[k[T++]^E>>>24]^p[k[T++]]^g[k[T++]]^d[k[T++]]^h[k[T++]]^f[k[T++]]^u[k[T++]]^c[k[T++]]^l[k[T++]]^o[k[T++]]^s[k[T++]]^i[k[T++]]^r[k[T++]];for(C+=15;T<C;)E=E>>>8^r[(E^k[T++])&255];return~E}function _(k,A){for(var E=A^-1,C=0,T=k.length,O=0,N=0;C<T;)O=k.charCodeAt(C++),O<128?E=E>>>8^r[(E^O)&255]:O<2048?(E=E>>>8^r[(E^(192|O>>6&31))&255],E=E>>>8^r[(E^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,N=k.charCodeAt(C++)&1023,E=E>>>8^r[(E^(240|O>>8&7))&255],E=E>>>8^r[(E^(128|O>>2&63))&255],E=E>>>8^r[(E^(128|N>>6&15|(O&3)<<4))&255],E=E>>>8^r[(E^(128|N&63))&255]):(E=E>>>8^r[(E^(224|O>>12&15))&255],E=E>>>8^r[(E^(128|O>>6&63))&255],E=E>>>8^r[(E^(128|O&63))&255]);return~E}return t.table=r,t.bstr=S,t.buf=w,t.str=_,t}(),Ve=function(){var e={};e.version="1.2.1";function r(R,J){for(var V=R.split("/"),q=J.split("/"),Q=0,ee=0,fe=Math.min(V.length,q.length);Q<fe;++Q){if(ee=V[Q].length-q[Q].length)return ee;if(V[Q]!=q[Q])return V[Q]<q[Q]?-1:1}return V.length-q.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var J=R.lastIndexOf("/");return J===-1?R:R.slice(0,J+1)}function a(R){if(R.charAt(R.length-1)=="/")return a(R.slice(0,-1));var J=R.lastIndexOf("/");return J===-1?R:R.slice(J+1)}function i(R,J){typeof J=="string"&&(J=new Date(J));var V=J.getHours();V=V<<6|J.getMinutes(),V=V<<5|J.getSeconds()>>>1,R.write_shift(2,V);var q=J.getFullYear()-1980;q=q<<4|J.getMonth()+1,q=q<<5|J.getDate(),R.write_shift(2,q)}function s(R){var J=R.read_shift(2)&65535,V=R.read_shift(2)&65535,q=new Date,Q=V&31;V>>>=5;var ee=V&15;V>>>=4,q.setMilliseconds(0),q.setFullYear(V+1980),q.setMonth(ee-1),q.setDate(Q);var fe=J&31;J>>>=5;var ve=J&63;return J>>>=6,q.setHours(J),q.setMinutes(ve),q.setSeconds(fe<<1),q}function o(R){Gr(R,0);for(var J={},V=0;R.l<=R.length-4;){var q=R.read_shift(2),Q=R.read_shift(2),ee=R.l+Q,fe={};switch(q){case 21589:V=R.read_shift(1),V&1&&(fe.mtime=R.read_shift(4)),Q>5&&(V&2&&(fe.atime=R.read_shift(4)),V&4&&(fe.ctime=R.read_shift(4))),fe.mtime&&(fe.mt=new Date(fe.mtime*1e3));break}R.l=ee,J[q]=fe}return J}var l;function c(){return l||(l={})}function u(R,J){if(R[0]==80&&R[1]==75)return e2(R,J);if((R[0]|32)==109&&(R[1]|32)==105)return f6(R,J);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var V=3,q=512,Q=0,ee=0,fe=0,ve=0,ce=0,he=[],de=R.slice(0,512);Gr(de,0);var _e=f(de);switch(V=_e[0],V){case 3:q=512;break;case 4:q=4096;break;case 0:if(_e[1]==0)return e2(R,J);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}q!==512&&(de=R.slice(0,q),Gr(de,28));var Fe=R.slice(0,q);h(de,V);var Be=de.read_shift(4,"i");if(V===3&&Be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Be);de.l+=4,fe=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),ve=de.read_shift(4,"i"),Q=de.read_shift(4,"i"),ce=de.read_shift(4,"i"),ee=de.read_shift(4,"i");for(var Te=-1,Le=0;Le<109&&(Te=de.read_shift(4,"i"),!(Te<0));++Le)he[Le]=Te;var nt=d(R,q);m(ce,ee,nt,q,he);var er=y(nt,fe,he,q);er[fe].name="!Directory",Q>0&&ve!==N&&(er[ve].name="!MiniFAT"),er[he[0]].name="!FAT",er.fat_addrs=he,er.ssz=q;var tr={},rn=[],Xu=[],Yu=[];b(fe,er,nt,rn,Q,tr,Xu,ve),g(Xu,Yu,rn),rn.shift();var Vu={FileIndex:Xu,FullPaths:Yu};return J&&J.raw&&(Vu.raw={header:Fe,sectors:nt}),Vu}function f(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(z,"Header Signature: "),R.l+=16;var J=R.read_shift(2,"u");return[R.read_shift(2,"u"),J]}function h(R,J){var V=9;switch(R.l+=2,V=R.read_shift(2)){case 9:if(J!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(J!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function d(R,J){for(var V=Math.ceil(R.length/J)-1,q=[],Q=1;Q<V;++Q)q[Q-1]=R.slice(Q*J,(Q+1)*J);return q[V-1]=R.slice(V*J),q}function g(R,J,V){for(var q=0,Q=0,ee=0,fe=0,ve=0,ce=V.length,he=[],de=[];q<ce;++q)he[q]=de[q]=q,J[q]=V[q];for(;ve<de.length;++ve)q=de[ve],Q=R[q].L,ee=R[q].R,fe=R[q].C,he[q]===q&&(Q!==-1&&he[Q]!==Q&&(he[q]=he[Q]),ee!==-1&&he[ee]!==ee&&(he[q]=he[ee])),fe!==-1&&(he[fe]=q),Q!==-1&&q!=he[q]&&(he[Q]=he[q],de.lastIndexOf(Q)<ve&&de.push(Q)),ee!==-1&&q!=he[q]&&(he[ee]=he[q],de.lastIndexOf(ee)<ve&&de.push(ee));for(q=1;q<ce;++q)he[q]===q&&(ee!==-1&&he[ee]!==ee?he[q]=he[ee]:Q!==-1&&he[Q]!==Q&&(he[q]=he[Q]));for(q=1;q<ce;++q)if(R[q].type!==0){if(ve=q,ve!=he[ve])do ve=he[ve],J[q]=J[ve]+"/"+J[q];while(ve!==0&&he[ve]!==-1&&ve!=he[ve]);he[q]=-1}for(J[0]+="/",q=1;q<ce;++q)R[q].type!==2&&(J[q]+="/")}function p(R,J,V){for(var q=R.start,Q=R.size,ee=[],fe=q;V&&Q>0&&fe>=0;)ee.push(J.slice(fe*O,fe*O+O)),Q-=O,fe=Fo(V,fe*4);return ee.length===0?ge(0):zr(ee).slice(0,R.size)}function m(R,J,V,q,Q){var ee=N;if(R===N){if(J!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var fe=V[R],ve=(q>>>2)-1;if(!fe)return;for(var ce=0;ce<ve&&(ee=Fo(fe,ce*4))!==N;++ce)Q.push(ee);m(Fo(fe,q-4),J-1,V,q,Q)}}function v(R,J,V,q,Q){var ee=[],fe=[];Q||(Q=[]);var ve=q-1,ce=0,he=0;for(ce=J;ce>=0;){Q[ce]=!0,ee[ee.length]=ce,fe.push(R[ce]);var de=V[Math.floor(ce*4/q)];if(he=ce*4&ve,q<4+he)throw new Error("FAT boundary crossed: "+ce+" 4 "+q);if(!R[de])break;ce=Fo(R[de],he)}return{nodes:ee,data:zO([fe])}}function y(R,J,V,q){var Q=R.length,ee=[],fe=[],ve=[],ce=[],he=q-1,de=0,_e=0,Fe=0,Be=0;for(de=0;de<Q;++de)if(ve=[],Fe=de+J,Fe>=Q&&(Fe-=Q),!fe[Fe]){ce=[];var Te=[];for(_e=Fe;_e>=0;){Te[_e]=!0,fe[_e]=!0,ve[ve.length]=_e,ce.push(R[_e]);var Le=V[Math.floor(_e*4/q)];if(Be=_e*4&he,q<4+Be)throw new Error("FAT boundary crossed: "+_e+" 4 "+q);if(!R[Le]||(_e=Fo(R[Le],Be),Te[_e]))break}ee[Fe]={nodes:ve,data:zO([ce])}}return ee}function b(R,J,V,q,Q,ee,fe,ve){for(var ce=0,he=q.length?2:0,de=J[R].data,_e=0,Fe=0,Be;_e<de.length;_e+=128){var Te=de.slice(_e,_e+128);Gr(Te,64),Fe=Te.read_shift(2),Be=rk(Te,0,Fe-he),q.push(Be);var Le={name:Be,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},nt=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);nt!==0&&(Le.ct=S(Te,Te.l-8));var er=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);er!==0&&(Le.mt=S(Te,Te.l-8)),Le.start=Te.read_shift(4,"i"),Le.size=Te.read_shift(4,"i"),Le.size<0&&Le.start<0&&(Le.size=Le.type=0,Le.start=N,Le.name=""),Le.type===5?(ce=Le.start,Q>0&&ce!==N&&(J[ce].name="!StreamData")):Le.size>=4096?(Le.storage="fat",J[Le.start]===void 0&&(J[Le.start]=v(V,Le.start,J.fat_addrs,J.ssz)),J[Le.start].name=Le.name,Le.content=J[Le.start].data.slice(0,Le.size)):(Le.storage="minifat",Le.size<0?Le.size=0:ce!==N&&Le.start!==N&&J[ce]&&(Le.content=p(Le,J[ce].data,(J[ve]||{}).data))),Le.content&&Gr(Le.content,0),ee[Be]=Le,fe.push(Le)}}function S(R,J){return new Date((Zn(R,J+4)/1e7*Math.pow(2,32)+Zn(R,J)/1e7-11644473600)*1e3)}function w(R,J){return c(),u(l.readFileSync(R),J)}function _(R,J){var V=J&&J.type;switch(V||ct&&Buffer.isBuffer(R)&&(V="buffer"),V||"base64"){case"file":return w(R,J);case"base64":return u(ea(oa(R)),J);case"binary":return u(ea(R),J)}return u(R,J)}function k(R,J){var V=J||{},q=V.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=q+"/",R.FileIndex[0]={name:q,type:5}),V.CLSID&&(R.FileIndex[0].clsid=V.CLSID),A(R)}function A(R){var J="Sh33tJ5";if(!Ve.find(R,"/"+J)){var V=ge(4);V[0]=55,V[1]=V[3]=50,V[2]=54,R.FileIndex.push({name:J,type:2,content:V,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+J),E(R)}}function E(R,J){k(R);for(var V=!1,q=!1,Q=R.FullPaths.length-1;Q>=0;--Q){var ee=R.FileIndex[Q];switch(ee.type){case 0:q?V=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(ee.R*ee.L*ee.C)&&(V=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!J)){var fe=new Date(1987,1,19),ve=0,ce=Object.create?Object.create(null):{},he=[];for(Q=0;Q<R.FullPaths.length;++Q)ce[R.FullPaths[Q]]=!0,R.FileIndex[Q].type!==0&&he.push([R.FullPaths[Q],R.FileIndex[Q]]);for(Q=0;Q<he.length;++Q){var de=n(he[Q][0]);q=ce[de],q||(he.push([de,{name:a(de).replace("/",""),type:1,clsid:F,ct:fe,mt:fe,content:null}]),ce[de]=!0)}for(he.sort(function(Be,Te){return r(Be[0],Te[0])}),R.FullPaths=[],R.FileIndex=[],Q=0;Q<he.length;++Q)R.FullPaths[Q]=he[Q][0],R.FileIndex[Q]=he[Q][1];for(Q=0;Q<he.length;++Q){var _e=R.FileIndex[Q],Fe=R.FullPaths[Q];if(_e.name=a(Fe).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||F,Q===0)_e.C=he.length>1?1:-1,_e.size=0,_e.type=5;else if(Fe.slice(-1)=="/"){for(ve=Q+1;ve<he.length&&n(R.FullPaths[ve])!=Fe;++ve);for(_e.C=ve>=he.length?-1:ve,ve=Q+1;ve<he.length&&n(R.FullPaths[ve])!=n(Fe);++ve);_e.R=ve>=he.length?-1:ve,_e.type=1}else n(R.FullPaths[Q+1]||"")==n(Fe)&&(_e.R=Q+1),_e.type=2}}}function C(R,J){var V=J||{};if(V.fileType=="mad")return h6(R,V);switch(E(R),V.fileType){case"zip":return i6(R,V)}var q=function(Be){for(var Te=0,Le=0,nt=0;nt<Be.FileIndex.length;++nt){var er=Be.FileIndex[nt];if(er.content){var tr=er.content.length;tr>0&&(tr<4096?Te+=tr+63>>6:Le+=tr+511>>9)}}for(var rn=Be.FullPaths.length+3>>2,Xu=Te+7>>3,Yu=Te+127>>7,Vu=Xu+Le+rn+Yu,xo=Vu+127>>7,Dv=xo<=109?0:Math.ceil((xo-109)/127);Vu+xo+Dv+127>>7>xo;)Dv=++xo<=109?0:Math.ceil((xo-109)/127);var Oi=[1,Dv,xo,Yu,rn,Le,Te,0];return Be.FileIndex[0].size=Te<<6,Oi[7]=(Be.FileIndex[0].start=Oi[0]+Oi[1]+Oi[2]+Oi[3]+Oi[4]+Oi[5])+(Oi[6]+7>>3),Oi}(R),Q=ge(q[7]<<9),ee=0,fe=0;{for(ee=0;ee<8;++ee)Q.write_shift(1,W[ee]);for(ee=0;ee<8;++ee)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),ee=0;ee<3;++ee)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,q[2]),Q.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:N),Q.write_shift(4,q[3]),Q.write_shift(-4,q[1]?q[0]-1:N),Q.write_shift(4,q[1]),ee=0;ee<109;++ee)Q.write_shift(-4,ee<q[2]?q[1]+ee:-1)}if(q[1])for(fe=0;fe<q[1];++fe){for(;ee<236+fe*127;++ee)Q.write_shift(-4,ee<q[2]?q[1]+ee:-1);Q.write_shift(-4,fe===q[1]-1?N:fe+1)}var ve=function(Be){for(fe+=Be;ee<fe-1;++ee)Q.write_shift(-4,ee+1);Be&&(++ee,Q.write_shift(-4,N))};for(fe=ee=0,fe+=q[1];ee<fe;++ee)Q.write_shift(-4,L.DIFSECT);for(fe+=q[2];ee<fe;++ee)Q.write_shift(-4,L.FATSECT);ve(q[3]),ve(q[4]);for(var ce=0,he=0,de=R.FileIndex[0];ce<R.FileIndex.length;++ce)de=R.FileIndex[ce],de.content&&(he=de.content.length,!(he<4096)&&(de.start=fe,ve(he+511>>9)));for(ve(q[6]+7>>3);Q.l&511;)Q.write_shift(-4,L.ENDOFCHAIN);for(fe=ee=0,ce=0;ce<R.FileIndex.length;++ce)de=R.FileIndex[ce],de.content&&(he=de.content.length,!(!he||he>=4096)&&(de.start=fe,ve(he+63>>6)));for(;Q.l&511;)Q.write_shift(-4,L.ENDOFCHAIN);for(ee=0;ee<q[4]<<2;++ee){var _e=R.FullPaths[ee];if(!_e||_e.length===0){for(ce=0;ce<17;++ce)Q.write_shift(4,0);for(ce=0;ce<3;++ce)Q.write_shift(4,-1);for(ce=0;ce<12;++ce)Q.write_shift(4,0);continue}de=R.FileIndex[ee],ee===0&&(de.start=de.size?de.start-1:N);var Fe=ee===0&&V.root||de.name;if(he=2*(Fe.length+1),Q.write_shift(64,Fe,"utf16le"),Q.write_shift(2,he),Q.write_shift(1,de.type),Q.write_shift(1,de.color),Q.write_shift(-4,de.L),Q.write_shift(-4,de.R),Q.write_shift(-4,de.C),de.clsid)Q.write_shift(16,de.clsid,"hex");else for(ce=0;ce<4;++ce)Q.write_shift(4,0);Q.write_shift(4,de.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,de.start),Q.write_shift(4,de.size),Q.write_shift(4,0)}for(ee=1;ee<R.FileIndex.length;++ee)if(de=R.FileIndex[ee],de.size>=4096)if(Q.l=de.start+1<<9,ct&&Buffer.isBuffer(de.content))de.content.copy(Q,Q.l,0,de.size),Q.l+=de.size+511&-512;else{for(ce=0;ce<de.size;++ce)Q.write_shift(1,de.content[ce]);for(;ce&511;++ce)Q.write_shift(1,0)}for(ee=1;ee<R.FileIndex.length;++ee)if(de=R.FileIndex[ee],de.size>0&&de.size<4096)if(ct&&Buffer.isBuffer(de.content))de.content.copy(Q,Q.l,0,de.size),Q.l+=de.size+63&-64;else{for(ce=0;ce<de.size;++ce)Q.write_shift(1,de.content[ce]);for(;ce&63;++ce)Q.write_shift(1,0)}if(ct)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function T(R,J){var V=R.FullPaths.map(function(ce){return ce.toUpperCase()}),q=V.map(function(ce){var he=ce.split("/");return he[he.length-(ce.slice(-1)=="/"?2:1)]}),Q=!1;J.charCodeAt(0)===47?(Q=!0,J=V[0].slice(0,-1)+J):Q=J.indexOf("/")!==-1;var ee=J.toUpperCase(),fe=Q===!0?V.indexOf(ee):q.indexOf(ee);if(fe!==-1)return R.FileIndex[fe];var ve=!ee.match(Of);for(ee=ee.replace(On,""),ve&&(ee=ee.replace(Of,"!")),fe=0;fe<V.length;++fe)if((ve?V[fe].replace(Of,"!"):V[fe]).replace(On,"")==ee||(ve?q[fe].replace(Of,"!"):q[fe]).replace(On,"")==ee)return R.FileIndex[fe];return null}var O=64,N=-2,z="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],F="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:F,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(R,J,V){c();var q=C(R,V);l.writeFileSync(J,q)}function I(R){for(var J=new Array(R.length),V=0;V<R.length;++V)J[V]=String.fromCharCode(R[V]);return J.join("")}function X(R,J){var V=C(R,J);switch(J&&J.type||"buffer"){case"file":return c(),l.writeFileSync(J.filename,V),V;case"binary":return typeof V=="string"?V:I(V);case"base64":return id(typeof V=="string"?V:I(V));case"buffer":if(ct)return Buffer.isBuffer(V)?V:hs(V);case"array":return typeof V=="string"?ea(V):V}return V}var K;function P(R){try{var J=R.InflateRaw,V=new J;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)K=R;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function Y(R,J){if(!K)return Zk(R,J);var V=K.InflateRaw,q=new V,Q=q._processChunk(R.slice(R.l),q._finishFlushFlag);return R.l+=q.bytesRead,Q}function B(R){return K?K.deflateRawSync(R):je(R)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(R){var J=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(J>>16|J>>8|J)&255}for(var re=typeof Uint8Array<"u",se=re?new Uint8Array(256):[],xe=0;xe<256;++xe)se[xe]=le(xe);function D(R,J){var V=se[R&255];return J<=8?V>>>8-J:(V=V<<8|se[R>>8&255],J<=16?V>>>16-J:(V=V<<8|se[R>>16&255],V>>>24-J))}function Ce(R,J){var V=J&7,q=J>>>3;return(R[q]|(V<=6?0:R[q+1]<<8))>>>V&3}function Ee(R,J){var V=J&7,q=J>>>3;return(R[q]|(V<=5?0:R[q+1]<<8))>>>V&7}function $e(R,J){var V=J&7,q=J>>>3;return(R[q]|(V<=4?0:R[q+1]<<8))>>>V&15}function ze(R,J){var V=J&7,q=J>>>3;return(R[q]|(V<=3?0:R[q+1]<<8))>>>V&31}function ie(R,J){var V=J&7,q=J>>>3;return(R[q]|(V<=1?0:R[q+1]<<8))>>>V&127}function Me(R,J,V){var q=J&7,Q=J>>>3,ee=(1<<V)-1,fe=R[Q]>>>q;return V<8-q||(fe|=R[Q+1]<<8-q,V<16-q)||(fe|=R[Q+2]<<16-q,V<24-q)||(fe|=R[Q+3]<<24-q),fe&ee}function Qe(R,J,V){var q=J&7,Q=J>>>3;return q<=5?R[Q]|=(V&7)<<q:(R[Q]|=V<<q&255,R[Q+1]=(V&7)>>8-q),J+3}function M(R,J,V){var q=J&7,Q=J>>>3;return V=(V&1)<<q,R[Q]|=V,J+1}function Z(R,J,V){var q=J&7,Q=J>>>3;return V<<=q,R[Q]|=V&255,V>>>=8,R[Q+1]=V,J+8}function ue(R,J,V){var q=J&7,Q=J>>>3;return V<<=q,R[Q]|=V&255,V>>>=8,R[Q+1]=V&255,R[Q+2]=V>>>8,J+16}function pe(R,J){var V=R.length,q=2*V>J?2*V:J+5,Q=0;if(V>=J)return R;if(ct){var ee=SO(q);if(R.copy)R.copy(ee);else for(;Q<R.length;++Q)ee[Q]=R[Q];return ee}else if(re){var fe=new Uint8Array(q);if(fe.set)fe.set(R);else for(;Q<V;++Q)fe[Q]=R[Q];return fe}return R.length=q,R}function Se(R){for(var J=new Array(R),V=0;V<R;++V)J[V]=0;return J}function Ge(R,J,V){var q=1,Q=0,ee=0,fe=0,ve=0,ce=R.length,he=re?new Uint16Array(32):Se(32);for(ee=0;ee<32;++ee)he[ee]=0;for(ee=ce;ee<V;++ee)R[ee]=0;ce=R.length;var de=re?new Uint16Array(ce):Se(ce);for(ee=0;ee<ce;++ee)he[Q=R[ee]]++,q<Q&&(q=Q),de[ee]=0;for(he[0]=0,ee=1;ee<=q;++ee)he[ee+16]=ve=ve+he[ee-1]<<1;for(ee=0;ee<ce;++ee)ve=R[ee],ve!=0&&(de[ee]=he[ve+16]++);var _e=0;for(ee=0;ee<ce;++ee)if(_e=R[ee],_e!=0)for(ve=D(de[ee],q)>>q-_e,fe=(1<<q+4-_e)-1;fe>=0;--fe)J[ve|fe<<_e]=_e&15|ee<<4;return q}var He=re?new Uint16Array(512):Se(512),Ne=re?new Uint16Array(32):Se(32);if(!re){for(var Xe=0;Xe<512;++Xe)He[Xe]=0;for(Xe=0;Xe<32;++Xe)Ne[Xe]=0}(function(){for(var R=[],J=0;J<32;J++)R.push(5);Ge(R,Ne,32);var V=[];for(J=0;J<=143;J++)V.push(8);for(;J<=255;J++)V.push(9);for(;J<=279;J++)V.push(7);for(;J<=287;J++)V.push(8);Ge(V,He,288)})();var wt=function(){for(var J=re?new Uint8Array(32768):[],V=0,q=0;V<oe.length-1;++V)for(;q<oe[V+1];++q)J[q]=V;for(;q<32768;++q)J[q]=29;var Q=re?new Uint8Array(259):[];for(V=0,q=0;V<te.length-1;++V)for(;q<te[V+1];++q)Q[q]=V;function ee(ve,ce){for(var he=0;he<ve.length;){var de=Math.min(65535,ve.length-he),_e=he+de==ve.length;for(ce.write_shift(1,+_e),ce.write_shift(2,de),ce.write_shift(2,~de&65535);de-- >0;)ce[ce.l++]=ve[he++]}return ce.l}function fe(ve,ce){for(var he=0,de=0,_e=re?new Uint16Array(32768):[];de<ve.length;){var Fe=Math.min(65535,ve.length-de);if(Fe<10){for(he=Qe(ce,he,+(de+Fe==ve.length)),he&7&&(he+=8-(he&7)),ce.l=he/8|0,ce.write_shift(2,Fe),ce.write_shift(2,~Fe&65535);Fe-- >0;)ce[ce.l++]=ve[de++];he=ce.l*8;continue}he=Qe(ce,he,+(de+Fe==ve.length)+2);for(var Be=0;Fe-- >0;){var Te=ve[de];Be=(Be<<5^Te)&32767;var Le=-1,nt=0;if((Le=_e[Be])&&(Le|=de&-32768,Le>de&&(Le-=32768),Le<de))for(;ve[Le+nt]==ve[de+nt]&&nt<250;)++nt;if(nt>2){Te=Q[nt],Te<=22?he=Z(ce,he,se[Te+1]>>1)-1:(Z(ce,he,3),he+=5,Z(ce,he,se[Te-23]>>5),he+=3);var er=Te<8?0:Te-4>>2;er>0&&(ue(ce,he,nt-te[Te]),he+=er),Te=J[de-Le],he=Z(ce,he,se[Te]>>3),he-=3;var tr=Te<4?0:Te-2>>1;tr>0&&(ue(ce,he,de-Le-oe[Te]),he+=tr);for(var rn=0;rn<nt;++rn)_e[Be]=de&32767,Be=(Be<<5^ve[de])&32767,++de;Fe-=nt-1}else Te<=143?Te=Te+48:he=M(ce,he,1),he=Z(ce,he,se[Te]),_e[Be]=de&32767,++de}he=Z(ce,he,0)-1}return ce.l=(he+7)/8|0,ce.l}return function(ce,he){return ce.length<8?ee(ce,he):fe(ce,he)}}();function je(R){var J=ge(50+Math.floor(R.length*1.1)),V=wt(R,J);return J.slice(0,V)}var tt=re?new Uint16Array(32768):Se(32768),br=re?new Uint16Array(32768):Se(32768),jt=re?new Uint16Array(128):Se(128),fi=1,Hu=1;function n0(R,J){var V=ze(R,J)+257;J+=5;var q=ze(R,J)+1;J+=5;var Q=$e(R,J)+4;J+=4;for(var ee=0,fe=re?new Uint8Array(19):Se(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,he=re?new Uint8Array(8):Se(8),de=re?new Uint8Array(8):Se(8),_e=fe.length,Fe=0;Fe<Q;++Fe)fe[G[Fe]]=ee=Ee(R,J),ce<ee&&(ce=ee),he[ee]++,J+=3;var Be=0;for(he[0]=0,Fe=1;Fe<=ce;++Fe)de[Fe]=Be=Be+he[Fe-1]<<1;for(Fe=0;Fe<_e;++Fe)(Be=fe[Fe])!=0&&(ve[Fe]=de[Be]++);var Te=0;for(Fe=0;Fe<_e;++Fe)if(Te=fe[Fe],Te!=0){Be=se[ve[Fe]]>>8-Te;for(var Le=(1<<7-Te)-1;Le>=0;--Le)jt[Be|Le<<Te]=Te&7|Fe<<3}var nt=[];for(ce=1;nt.length<V+q;)switch(Be=jt[ie(R,J)],J+=Be&7,Be>>>=3){case 16:for(ee=3+Ce(R,J),J+=2,Be=nt[nt.length-1];ee-- >0;)nt.push(Be);break;case 17:for(ee=3+Ee(R,J),J+=3;ee-- >0;)nt.push(0);break;case 18:for(ee=11+ie(R,J),J+=7;ee-- >0;)nt.push(0);break;default:nt.push(Be),ce<Be&&(ce=Be);break}var er=nt.slice(0,V),tr=nt.slice(V);for(Fe=V;Fe<286;++Fe)er[Fe]=0;for(Fe=q;Fe<30;++Fe)tr[Fe]=0;return fi=Ge(er,tt,286),Hu=Ge(tr,br,30),J}function a0(R,J){if(R[0]==3&&!(R[1]&3))return[Zs(J),2];for(var V=0,q=0,Q=SO(J||1<<18),ee=0,fe=Q.length>>>0,ve=0,ce=0;!(q&1);){if(q=Ee(R,V),V+=3,q>>>1)q>>1==1?(ve=9,ce=5):(V=n0(R,V),ve=fi,ce=Hu);else{V&7&&(V+=8-(V&7));var he=R[V>>>3]|R[(V>>>3)+1]<<8;if(V+=32,he>0)for(!J&&fe<ee+he&&(Q=pe(Q,ee+he),fe=Q.length);he-- >0;)Q[ee++]=R[V>>>3],V+=8;continue}for(;;){!J&&fe<ee+32767&&(Q=pe(Q,ee+32767),fe=Q.length);var de=Me(R,V,ve),_e=q>>>1==1?He[de]:tt[de];if(V+=_e&15,_e>>>=4,!(_e>>>8&255))Q[ee++]=_e;else{if(_e==256)break;_e-=257;var Fe=_e<8?0:_e-4>>2;Fe>5&&(Fe=0);var Be=ee+te[_e];Fe>0&&(Be+=Me(R,V,Fe),V+=Fe),de=Me(R,V,ce),_e=q>>>1==1?Ne[de]:br[de],V+=_e&15,_e>>>=4;var Te=_e<4?0:_e-2>>1,Le=oe[_e];for(Te>0&&(Le+=Me(R,V,Te),V+=Te),!J&&fe<Be&&(Q=pe(Q,Be+100),fe=Q.length);ee<Be;)Q[ee]=Q[ee-Le],++ee}}}return J?[Q,V+7>>>3]:[Q.slice(0,ee),V+7>>>3]}function Zk(R,J){var V=R.slice(R.l||0),q=a0(V,J);return R.l+=q[1],q[0]}function Qk(R,J){if(R)typeof console<"u"&&console.error(J);else throw new Error(J)}function e2(R,J){var V=R;Gr(V,0);var q=[],Q=[],ee={FileIndex:q,FullPaths:Q};k(ee,{root:J.root});for(var fe=V.length-4;(V[fe]!=80||V[fe+1]!=75||V[fe+2]!=5||V[fe+3]!=6)&&fe>=0;)--fe;V.l=fe+4,V.l+=4;var ve=V.read_shift(2);V.l+=6;var ce=V.read_shift(4);for(V.l=ce,fe=0;fe<ve;++fe){V.l+=20;var he=V.read_shift(4),de=V.read_shift(4),_e=V.read_shift(2),Fe=V.read_shift(2),Be=V.read_shift(2);V.l+=8;var Te=V.read_shift(4),Le=o(V.slice(V.l+_e,V.l+_e+Fe));V.l+=_e+Fe+Be;var nt=V.l;V.l=Te+4,a6(V,he,de,ee,Le),V.l=nt}return ee}function a6(R,J,V,q,Q){R.l+=2;var ee=R.read_shift(2),fe=R.read_shift(2),ve=s(R);if(ee&8257)throw new Error("Unsupported ZIP encryption");for(var ce=R.read_shift(4),he=R.read_shift(4),de=R.read_shift(4),_e=R.read_shift(2),Fe=R.read_shift(2),Be="",Te=0;Te<_e;++Te)Be+=String.fromCharCode(R[R.l++]);if(Fe){var Le=o(R.slice(R.l,R.l+Fe));(Le[21589]||{}).mt&&(ve=Le[21589].mt),((Q||{})[21589]||{}).mt&&(ve=Q[21589].mt)}R.l+=Fe;var nt=R.slice(R.l,R.l+he);switch(fe){case 8:nt=Y(R,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+fe)}var er=!1;ee&8&&(ce=R.read_shift(4),ce==134695760&&(ce=R.read_shift(4),er=!0),he=R.read_shift(4),de=R.read_shift(4)),he!=J&&Qk(er,"Bad compressed size: "+J+" != "+he),de!=V&&Qk(er,"Bad uncompressed size: "+V+" != "+de),Mv(q,Be,nt,{unsafe:!0,mt:ve})}function i6(R,J){var V=J||{},q=[],Q=[],ee=ge(1),fe=V.compression?8:0,ve=0,ce=0,he=0,de=0,_e=0,Fe=R.FullPaths[0],Be=Fe,Te=R.FileIndex[0],Le=[],nt=0;for(ce=1;ce<R.FullPaths.length;++ce)if(Be=R.FullPaths[ce].slice(Fe.length),Te=R.FileIndex[ce],!(!Te.size||!Te.content||Be=="Sh33tJ5")){var er=de,tr=ge(Be.length);for(he=0;he<Be.length;++he)tr.write_shift(1,Be.charCodeAt(he)&127);tr=tr.slice(0,tr.l),Le[_e]=zde.buf(Te.content,0);var rn=Te.content;fe==8&&(rn=B(rn)),ee=ge(30),ee.write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,fe),Te.mt?i(ee,Te.mt):ee.write_shift(4,0),ee.write_shift(-4,Le[_e]),ee.write_shift(4,rn.length),ee.write_shift(4,Te.content.length),ee.write_shift(2,tr.length),ee.write_shift(2,0),de+=ee.length,q.push(ee),de+=tr.length,q.push(tr),de+=rn.length,q.push(rn),ee=ge(46),ee.write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,ve),ee.write_shift(2,fe),ee.write_shift(4,0),ee.write_shift(-4,Le[_e]),ee.write_shift(4,rn.length),ee.write_shift(4,Te.content.length),ee.write_shift(2,tr.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,er),nt+=ee.l,Q.push(ee),nt+=tr.length,Q.push(tr),++_e}return ee=ge(22),ee.write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,_e),ee.write_shift(2,_e),ee.write_shift(4,nt),ee.write_shift(4,de),ee.write_shift(2,0),zr([zr(q),zr(Q),ee])}var i0={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function s6(R,J){if(R.ctype)return R.ctype;var V=R.name||"",q=V.match(/\.([^\.]+)$/);return q&&i0[q[1]]||J&&(q=(V=J).match(/[\.\\]([^\.\\])+$/),q&&i0[q[1]])?i0[q[1]]:"application/octet-stream"}function o6(R){for(var J=id(R),V=[],q=0;q<J.length;q+=76)V.push(J.slice(q,q+76));return V.join(`\r
`)+`\r
`}function l6(R){var J=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var de=he.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});J=J.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),J.charAt(0)==`
`&&(J="=0D"+J.slice(1)),J=J.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],q=J.split(`\r
`),Q=0;Q<q.length;++Q){var ee=q[Q];if(ee.length==0){V.push("");continue}for(var fe=0;fe<ee.length;){var ve=76,ce=ee.slice(fe,fe+ve);ce.charAt(ve-1)=="="?ve--:ce.charAt(ve-2)=="="?ve-=2:ce.charAt(ve-3)=="="&&(ve-=3),ce=ee.slice(fe,fe+ve),fe+=ve,fe<ee.length&&(ce+="="),V.push(ce)}}return V.join(`\r
`)}function c6(R){for(var J=[],V=0;V<R.length;++V){for(var q=R[V];V<=R.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+R[++V];J.push(q)}for(var Q=0;Q<J.length;++Q)J[Q]=J[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return ea(J.join(`\r
`))}function u6(R,J,V){for(var q="",Q="",ee="",fe,ve=0;ve<10;++ve){var ce=J[ve];if(!ce||ce.match(/^\s*$/))break;var he=ce.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":q=he[2].trim();break;case"content-type":ee=he[2].trim();break;case"content-transfer-encoding":Q=he[2].trim();break}}switch(++ve,Q.toLowerCase()){case"base64":fe=ea(oa(J.slice(ve).join("")));break;case"quoted-printable":fe=c6(J.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var de=Mv(R,q.slice(V.length),fe,{unsafe:!0});ee&&(de.ctype=ee)}function f6(R,J){if(I(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=J&&J.root||"",q=(ct&&Buffer.isBuffer(R)?R.toString("binary"):I(R)).split(`\r
`),Q=0,ee="";for(Q=0;Q<q.length;++Q)if(ee=q[Q],!!/^Content-Location:/i.test(ee)&&(ee=ee.slice(ee.indexOf("file")),V||(V=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),ee.slice(0,V.length)!=V););var fe=(q[1]||"").match(/boundary="(.*?)"/);if(!fe)throw new Error("MAD cannot find boundary");var ve="--"+(fe[1]||""),ce=[],he=[],de={FileIndex:ce,FullPaths:he};k(de);var _e,Fe=0;for(Q=0;Q<q.length;++Q){var Be=q[Q];Be!==ve&&Be!==ve+"--"||(Fe++&&u6(de,q.slice(_e,Q),V),_e=Q)}return de}function h6(R,J){var V=J||{},q=V.boundary||"SheetJS";q="------="+q;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],ee=R.FullPaths[0],fe=ee,ve=R.FileIndex[0],ce=1;ce<R.FullPaths.length;++ce)if(fe=R.FullPaths[ce].slice(ee.length),ve=R.FileIndex[ce],!(!ve.size||!ve.content||fe=="Sh33tJ5")){fe=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nt){return"_x"+nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nt){return"_u"+nt.charCodeAt(0).toString(16)+"_"});for(var he=ve.content,de=ct&&Buffer.isBuffer(he)?he.toString("binary"):I(he),_e=0,Fe=Math.min(1024,de.length),Be=0,Te=0;Te<=Fe;++Te)(Be=de.charCodeAt(Te))>=32&&Be<128&&++_e;var Le=_e>=Fe*4/5;Q.push(q),Q.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+fe),Q.push("Content-Transfer-Encoding: "+(Le?"quoted-printable":"base64")),Q.push("Content-Type: "+s6(ve,fe)),Q.push(""),Q.push(Le?l6(de):o6(de))}return Q.push(q+`--\r
`),Q.join(`\r
`)}function d6(R){var J={};return k(J,R),J}function Mv(R,J,V,q){var Q=q&&q.unsafe;Q||k(R);var ee=!Q&&Ve.find(R,J);if(!ee){var fe=R.FullPaths[0];J.slice(0,fe.length)==fe?fe=J:(fe.slice(-1)!="/"&&(fe+="/"),fe=(fe+J).replace("//","/")),ee={name:a(J),type:2},R.FileIndex.push(ee),R.FullPaths.push(fe),Q||Ve.utils.cfb_gc(R)}return ee.content=V,ee.size=V?V.length:0,q&&(q.CLSID&&(ee.clsid=q.CLSID),q.mt&&(ee.mt=q.mt),q.ct&&(ee.ct=q.ct)),ee}function p6(R,J){k(R);var V=Ve.find(R,J);if(V){for(var q=0;q<R.FileIndex.length;++q)if(R.FileIndex[q]==V)return R.FileIndex.splice(q,1),R.FullPaths.splice(q,1),!0}return!1}function g6(R,J,V){k(R);var q=Ve.find(R,J);if(q){for(var Q=0;Q<R.FileIndex.length;++Q)if(R.FileIndex[Q]==q)return R.FileIndex[Q].name=a(V),R.FullPaths[Q]=V,!0}return!1}function m6(R){E(R,!0)}return e.find=T,e.read=_,e.parse=u,e.write=X,e.writeFile=H,e.utils={cfb_new:d6,cfb_add:Mv,cfb_del:p6,cfb_mov:g6,cfb_gc:m6,ReadShift:qf,CheckField:yR,prep_blob:Gr,bconcat:zr,use_zlib:P,_deflateRaw:je,_inflateRaw:Zk,consts:L},e}();function Wde(t){return typeof t=="string"?_v(t):Array.isArray(t)?pde(t):t}function Wd(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=_v(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?bi(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([Wde(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=go(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Ude(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function pr(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function PO(t,e){for(var r=[],n=pr(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function Av(t){for(var e=[],r=pr(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Ev(t){for(var e=[],r=pr(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Hde(t){for(var e=[],r=pr(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var em=new Date(1899,11,30,0,0,0);function Dr(t,e){var r=t.getTime(),n=em.getTime()+(t.getTimezoneOffset()-em.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var ZD=new Date,Xde=em.getTime()+(ZD.getTimezoneOffset()-em.getTimezoneOffset())*6e4,IO=ZD.getTimezoneOffset();function Tv(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Xde),e.getTimezoneOffset()!==IO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-IO)*6e4),e}function Yde(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var NO=new Date("2017-02-19T19:06:09.000Z"),QD=isNaN(NO.getFullYear())?new Date("2/19/17"):NO,Vde=QD.getFullYear()==2017;function Kt(t,e){var r=new Date(t);if(Vde)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(QD.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function hl(t,e){if(ct&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return bi(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return bi($D(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return bi(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return bi(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function Jt(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Jt(t[r]));return e}function ur(t,e){for(var r="";r.length<e;)r+=t;return r}function ii(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var Gde=["january","february","march","april","may","june","july","august","september","october","november","december"];function cu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Gde.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var qde=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function eR(t){return t?t.content&&t.type?hl(t.content,!0):t.data?Cf(t.data):t.asNodeBuffer&&ct?Cf(t.asNodeBuffer().toString("binary")):t.asBinary?Cf(t.asBinary()):t._data&&t._data.getContent?Cf(hl(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function tR(t){if(!t)return null;if(t.data)return bO(t.data);if(t.asNodeBuffer&&ct)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?bO(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Kde(t){return t&&t.name.slice(-4)===".bin"?tR(t):eR(t)}function ya(t,e){for(var r=t.FullPaths||pr(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function K_(t,e){var r=ya(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function _r(t,e,r){if(!r)return Kde(K_(t,e));if(!e)return null;try{return _r(t,e)}catch{return null}}function ta(t,e,r){if(!r)return eR(K_(t,e));if(!e)return null;try{return ta(t,e)}catch{return null}}function Jde(t,e,r){return tR(K_(t,e))}function FO(t){for(var e=t.FullPaths||pr(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function st(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ct?n=hs(r):n=gde(r),Ve.utils.cfb_add(t,e,n)}Ve.utils.cfb_add(t,e,r)}else t.file(e,r)}function J_(){return Ve.utils.cfb_new()}function rR(t,e){switch(e.type){case"base64":return Ve.read(t,{type:"base64"});case"binary":return Ve.read(t,{type:"binary"});case"buffer":case"array":return Ve.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Pf(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var yr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Zde=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,jO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Qde=/<[^>]*>/g,yn=yr.match(jO)?jO:Qde,e0e=/<\w*:/,t0e=/<(\/?)\w+:/;function et(t,e,r){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var s=t.match(Zde),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Ti(t){return t.replace(t0e,"<$1")}var nR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Z_=Av(nR),xt=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(o,l){return nR[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Q_=/[&<>'"]/g,r0e=/[\u0000-\u0008\u000b-\u001f]/g;function It(t){var e=t+"";return e.replace(Q_,function(r){return Z_[r]}).replace(r0e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function MO(t){return It(t).replace(/ /g,"_x0020_")}var aR=/[\u0000-\u001f]/g;function ek(t){var e=t+"";return e.replace(Q_,function(r){return Z_[r]}).replace(/\n/g,"<br/>").replace(aR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function n0e(t){var e=t+"";return e.replace(Q_,function(r){return Z_[r]}).replace(aR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var DO=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function a0e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Gt(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Yx(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function RO(t){var e=Zs(2*t.length),r,n,a=1,i=0,s=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function LO(t){return hs(t,"binary").toString("utf8")}var U0="foo bar baz",Dt=ct&&(LO(U0)==Yx(U0)&&LO||RO(U0)==Yx(U0)&&RO)||Yx,bi=ct?function(t){return hs(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},od=function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),iR=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),i0e=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),s0e=/<\/?(?:vt:)?variant>/g,o0e=/<(?:vt:)([^>]*)>([\s\S]*)</;function BO(t,e){var r=et(t),n=t.match(i0e(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(s0e,"").match(o0e);s&&a.push({v:Dt(s[2]),t:s[1]})}),a}var sR=/(^\s|\s$|\n)/;function Kr(t,e){return"<"+t+(e.match(sR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function ld(t){return pr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Oe(t,e,r){return"<"+t+(r!=null?ld(r):"")+(e!=null?(e.match(sR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function sw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function l0e(t,e){switch(typeof t){case"string":var r=Oe("vt:lpwstr",It(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Oe((t|0)==t?"vt:i4":"vt:r8",It(String(t)));case"boolean":return Oe("vt:bool",t?"true":"false")}if(t instanceof Date)return Oe("vt:filetime",sw(t));throw new Error("Unable to serialize "+t)}function tk(t){if(ct&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Dt(go(V_(t)));throw new Error("Bad input format: expected Buffer or string")}var cd=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Nr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Tl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Jn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function c0e(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function u0e(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var $O=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},zO=ct?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:hs(e)})):$O(t)}:$O,WO=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(zi(t,a)));return n.join("").replace(On,"")},rk=ct?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(On,""):WO(t,e,r)}:WO,UO=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},oR=ct?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):UO(t,e,r)}:UO,HO=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(Zl(t,a)));return n.join("")},Ud=ct?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):HO(e,r,n)}:HO,lR=function(t,e){var r=Zn(t,e);return r>0?Ud(t,e+4,e+4+r-1):""},cR=lR,uR=function(t,e){var r=Zn(t,e);return r>0?Ud(t,e+4,e+4+r-1):""},fR=uR,hR=function(t,e){var r=2*Zn(t,e);return r>0?Ud(t,e+4,e+4+r-1):""},dR=hR,pR=function(e,r){var n=Zn(e,r);return n>0?rk(e,r+4,r+4+n):""},gR=pR,mR=function(t,e){var r=Zn(t,e);return r>0?Ud(t,e+4,e+4+r):""},vR=mR,xR=function(t,e){return c0e(t,e)},tm=xR,nk=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ct&&(cR=function(e,r){if(!Buffer.isBuffer(e))return lR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},fR=function(e,r){if(!Buffer.isBuffer(e))return uR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},dR=function(e,r){if(!Buffer.isBuffer(e))return hR(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},gR=function(e,r){if(!Buffer.isBuffer(e))return pR(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},vR=function(e,r){if(!Buffer.isBuffer(e))return mR(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},tm=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):xR(e,r)},nk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Zl=function(t,e){return t[e]},zi=function(t,e){return t[e+1]*256+t[e]},f0e=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Zn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Fo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},h0e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function qf(t,e){var r="",n,a,i=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,ct&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(zi(this,c)),c+=2;t*=2;break;case"utf8":r=Ud(this,this.l,this.l+t);break;case"utf16le":t*=2,r=rk(this,this.l,this.l+t);break;case"wstr":return qf.call(this,t,"dbcs");case"lpstr-ansi":r=cR(this,this.l),t=4+Zn(this,this.l);break;case"lpstr-cp":r=fR(this,this.l),t=4+Zn(this,this.l);break;case"lpwstr":r=dR(this,this.l),t=4+2*Zn(this,this.l);break;case"lpp4":t=4+Zn(this,this.l),r=gR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Zn(this,this.l),r=vR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Zl(this,this.l+t++))!==0;)i.push(W0(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=zi(this,this.l+t))!==0;)i.push(W0(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Zl(this,c),this.l=c+1,o=qf.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(W0(zi(this,c))),c+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Zl(this,c),this.l=c+1,o=qf.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(W0(Zl(this,c))),c+=1}r=i.join("");break;default:switch(t){case 1:return n=Zl(this,this.l),this.l++,n;case 2:return n=(e==="i"?f0e:zi)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Fo:h0e)(this,this.l),this.l+=4,n):(a=Zn(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=tm(this,this.l):a=tm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=oR(this,this.l,t);break}}return this.l+=t,r}var d0e=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},p0e=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},g0e=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function m0e(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)g0e(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,d0e(this,e,this.l);break;case 8:if(n=8,r==="f"){u0e(this,e,this.l);break}case 16:break;case-4:n=4,p0e(this,e,this.l);break}return this.l+=n,this}function yR(t,e){var r=oR(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Gr(t,e){t.l=e,t.read_shift=qf,t.chk=yR,t.write_shift=m0e}function xn(t,e){t.l+=e}function ge(t){var e=Zs(t);return Gr(e,0),e}function ds(t,e,r){if(t){var n,a,i;Gr(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=gd[o]||gd[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;l=t.l+i;var u=c.f&&c.f(t,i,r);if(t.l=l,e(u,c,o))return}}}function Un(){var t=[],e=ct?256:2048,r=function(c){var u=ge(c);return Gr(u,0),u},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,e)))},s=function(){return a(),zr(t)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:t}}function we(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=gd[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&nk(r)&&t.push(r)}}function Kf(t,e,r){var n=Jt(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function XO(t,e,r){var n=Jt(t);return n.s=Kf(n.s,e.s,r),n.e=Kf(n.e,e.s,r),n}function Jf(t,e){if(t.cRel&&t.c<0)for(t=Jt(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Jt(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ze(t);return!t.cRel&&t.cRel!=null&&(r=y0e(r)),!t.rRel&&t.rRel!=null&&(r=v0e(r)),r}function Vx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+nr(t.s.c)+":"+(t.e.cRel?"":"$")+nr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xr(t.s.r)+":"+(t.e.rRel?"":"$")+xr(t.e.r):Jf(t.s,e.biff)+":"+Jf(t.e,e.biff)}function ak(t){return parseInt(x0e(t),10)-1}function xr(t){return""+(t+1)}function v0e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function x0e(t){return t.replace(/\$(\d+)$/,"$1")}function ik(t){for(var e=b0e(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function nr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function y0e(t){return t.replace(/^([A-Z])/,"$$$1")}function b0e(t){return t.replace(/^\$([A-Z])/,"$1")}function w0e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ar(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Ze(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Hn(t){var e=t.indexOf(":");return e==-1?{s:ar(t),e:ar(t)}:{s:ar(t.slice(0,e)),e:ar(t.slice(e+1))}}function it(t,e){return typeof e>"u"||typeof e=="number"?it(t.s,t.e):(typeof t!="string"&&(t=Ze(t)),typeof e!="string"&&(e=Ze(e)),t==e?t:t+":"+e)}function bt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function YO(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ma(t.z,r?Dr(e):e)}catch{}try{return t.w=Ma((t.XF||{}).numFmtId||(r?14:0),r?Dr(e):e)}catch{return""+e}}function os(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ps[t.v]||t.v:e==null?YO(t,t.v):YO(t,e))}function mo(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function bR(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ar(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=bt(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var d={v:e[f][h]},g=s+f,p=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>p&&(c.s.c=p),c.e.r<g&&(c.e.r=g),c.e.c<p&&(c.e.c=p),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))d=e[f][h];else if(Array.isArray(d.v)&&(d.f=e[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||Je[14],n.cellDates?(d.t="d",d.w=Ma(d.z,Dr(d.v))):(d.t="n",d.v=Dr(d.v),d.w=Ma(d.z,d.v))):d.t="s";if(a)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(d.z=i[g][p].z),i[g][p]=d;else{var m=Ze({c:p,r:g});i[m]&&i[m].z&&(d.z=i[m].z),i[m]=d}}}return c.s.c<1e7&&(i["!ref"]=it(c)),i}function Ru(t,e){return bR(null,t,e)}function S0e(t){return t.read_shift(4,"i")}function si(t,e){return e||(e=ge(4)),e.write_shift(4,t),e}function mn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Wr(t,e){var r=!1;return e==null&&(r=!0,e=ge(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function _0e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function k0e(t,e){return e||(e=ge(4)),e.write_shift(2,0),e.write_shift(2,0),e}function sk(t,e){var r=t.l,n=t.read_shift(1),a=mn(t),i=[],s={t:a,h:a};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)i.push(_0e(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function A0e(t,e){var r=!1;return e==null&&(r=!0,e=ge(15+4*t.t.length)),e.write_shift(1,0),Wr(t.t,e),r?e.slice(0,e.l):e}var E0e=sk;function T0e(t,e){var r=!1;return e==null&&(r=!0,e=ge(23+4*t.t.length)),e.write_shift(1,1),Wr(t.t,e),e.write_shift(4,1),k0e({},e),r?e.slice(0,e.l):e}function La(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Cl(t,e){return e==null&&(e=ge(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ol(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Pl(t,e){return e==null&&(e=ge(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var C0e=mn,wR=Wr;function ok(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function rm(t,e){var r=!1;return e==null&&(r=!0,e=ge(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var O0e=mn,ow=ok,lk=rm;function ck(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?tm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Fo(e,0)>>2;return r?a/100:a}function SR(t,e){e==null&&(e=ge(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function _R(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function P0e(t,e){return e||(e=ge(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Il=_R,Lu=P0e;function pn(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function dl(t,e){return(e||ge(8)).write_shift(8,t,"f")}function I0e(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var c=Ko[a];c&&(e.rgb=fd(c));break;case 2:e.rgb=fd([s,o,l]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function nm(t,e){if(e||(e=ge(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function N0e(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function F0e(t,e){e||(e=ge(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function kR(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function j0e(t){return kR(t,1)}function M0e(t){return kR(t,2)}var uk=2,Mn=3,H0=11,VO=12,am=19,X0=64,D0e=65,R0e=71,L0e=4108,B0e=4126,Br=80,AR=81,$0e=[Br,AR],lw={1:{n:"CodePage",t:uk},2:{n:"Category",t:Br},3:{n:"PresentationFormat",t:Br},4:{n:"ByteCount",t:Mn},5:{n:"LineCount",t:Mn},6:{n:"ParagraphCount",t:Mn},7:{n:"SlideCount",t:Mn},8:{n:"NoteCount",t:Mn},9:{n:"HiddenCount",t:Mn},10:{n:"MultimediaClipCount",t:Mn},11:{n:"ScaleCrop",t:H0},12:{n:"HeadingPairs",t:L0e},13:{n:"TitlesOfParts",t:B0e},14:{n:"Manager",t:Br},15:{n:"Company",t:Br},16:{n:"LinksUpToDate",t:H0},17:{n:"CharacterCount",t:Mn},19:{n:"SharedDoc",t:H0},22:{n:"HyperlinksChanged",t:H0},23:{n:"AppVersion",t:Mn,p:"version"},24:{n:"DigSig",t:D0e},26:{n:"ContentType",t:Br},27:{n:"ContentStatus",t:Br},28:{n:"Language",t:Br},29:{n:"Version",t:Br},255:{},2147483648:{n:"Locale",t:am},2147483651:{n:"Behavior",t:am},1919054434:{}},cw={1:{n:"CodePage",t:uk},2:{n:"Title",t:Br},3:{n:"Subject",t:Br},4:{n:"Author",t:Br},5:{n:"Keywords",t:Br},6:{n:"Comments",t:Br},7:{n:"Template",t:Br},8:{n:"LastAuthor",t:Br},9:{n:"RevNumber",t:Br},10:{n:"EditTime",t:X0},11:{n:"LastPrinted",t:X0},12:{n:"CreatedDate",t:X0},13:{n:"ModifiedDate",t:X0},14:{n:"PageCount",t:Mn},15:{n:"WordCount",t:Mn},16:{n:"CharCount",t:Mn},17:{n:"Thumbnail",t:R0e},18:{n:"Application",t:Br},19:{n:"DocSecurity",t:Mn},255:{},2147483648:{n:"Locale",t:am},2147483651:{n:"Behavior",t:am},1919054434:{}},GO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},z0e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function W0e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var U0e=W0e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ko=Jt(U0e),ps={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ER={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Y0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function fk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H0e(t){var e=fk();if(!t||!t.match)return e;var r={};if((t.match(yn)||[]).forEach(function(n){var a=et(n);switch(a[0].replace(e0e,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[uw[a.ContentType]]!==void 0&&e[uw[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Nr.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function TR(t,e){var r=Hde(uw),n=[],a;n[n.length]=yr,n[n.length]=Oe("Types",null,{xmlns:Nr.CT,"xmlns:xsd":Nr.xsd,"xmlns:xsi":Nr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Oe("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(a=t[l][0],n[n.length]=Oe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Y0[l][e.bookType]||Y0[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Oe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Y0[l][e.bookType]||Y0[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Oe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ut={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ud(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Zf(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(yn)||[]).forEach(function(a){var i=et(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Pf(i.Target,e);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function Tc(t){var e=[yr,Oe("Relationships",null,{xmlns:Nr.RELS})];return pr(t["!id"]).forEach(function(r){e[e.length]=Oe("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Pt(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[ut.HLINK,ut.XPATH,ut.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}var X0e="application/vnd.oasis.opendocument.spreadsheet";function Y0e(t,e){for(var r=tk(t),n,a;n=cd.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=et(n[0],!1),a.path=="/"&&a.type!==X0e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function V0e(t){var e=[yr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function qO(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function G0e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function q0e(t){var e=[yr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(qO(t[r][0],t[r][1])),e.push(G0e("",t[r][0]));return e.push(qO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function CR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Kg.version+"</meta:generator></office:meta></office:document-meta>"}var Pa=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],K0e=function(){for(var t=new Array(Pa.length),e=0;e<Pa.length;++e){var r=Pa[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function OR(t){var e={};t=Dt(t);for(var r=0;r<Pa.length;++r){var n=Pa[r],a=t.match(K0e[r]);a!=null&&a.length>0&&(e[n[1]]=xt(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Kt(e[n[1]]))}return e}function Gx(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=It(e),n[n.length]=r?Oe(t,e,r):Kr(t,e))}function PR(t,e){var r=e||{},n=[yr,Oe("cp:coreProperties",null,{"xmlns:cp":Nr.CORE_PROPS,"xmlns:dc":Nr.dc,"xmlns:dcterms":Nr.dcterms,"xmlns:dcmitype":Nr.dcmitype,"xmlns:xsi":Nr.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Gx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:sw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&Gx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:sw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Pa.length;++i){var s=Pa[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Gx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Jo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],IR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NR(t,e,r,n){var a=[];if(typeof t=="string")a=BO(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var s=typeof e=="string"?BO(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function J0e(t,e,r){var n={};return e||(e={}),t=Dt(t),Jo.forEach(function(a){var i=(t.match(od(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=xt(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var s=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&NR(n.HeadingPairs,n.TitlesOfParts,e,r),e}function FR(t){var e=[],r=Oe;return t||(t={}),t.Application="SheetJS",e[e.length]=yr,e[e.length]=Oe("Properties",null,{xmlns:Nr.EXT_PROPS,"xmlns:vt":Nr.vt}),Jo.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=It(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+It(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Z0e=/<[^>]+>[^<]*/g;function Q0e(t,e){var r={},n="",a=t.match(Z0e);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=et(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=xt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=xt(u);break;case"bool":r[n]=Gt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Kt(u);break;case"cy":case"error":r[n]=xt(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function jR(t){var e=[yr,Oe("Properties",null,{xmlns:Nr.CUST_PROPS,"xmlns:vt":Nr.vt})];if(!t)return e.join("");var r=1;return pr(t).forEach(function(a){++r,e[e.length]=Oe("property",l0e(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:It(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var fw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},qx;function epe(t,e,r){qx||(qx=Av(fw)),e=qx[e]||e,t[e]=r}function tpe(t,e){var r=[];return pr(fw).map(function(n){for(var a=0;a<Pa.length;++a)if(Pa[a][1]==n)return Pa[a];for(a=0;a<Jo.length;++a)if(Jo[a][1]==n)return Jo[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Kr(fw[n[1]]||n[1],a))}}),Oe("DocumentProperties",r.join(""),{xmlns:Jn.o})}function rpe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&pr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<Pa.length;++s)if(i==Pa[s][1])return;for(s=0;s<Jo.length;++s)if(i==Jo[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(Oe(MO(i),o,{"dt:dt":l}))}}),e&&pr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(Oe(MO(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Jn.o+'">'+a.join("")+"</"+n+">"}function hk(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function npe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ge(8);return s.write_shift(4,n),s.write_shift(4,a),s}function MR(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function DR(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function RR(t,e,r){return e===31?DR(t):MR(t,e,r)}function hw(t,e,r){return RR(t,e,r===!1?0:4)}function ape(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return RR(t,e,0)}function ipe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(On,""),t.l-a&2&&(t.l+=2)}return r}function spe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(On,"");return r}function ope(t){var e=t.l,r=im(t,AR);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=im(t,Mn);return[r,n]}function lpe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(ope(t));return r}function KO(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var i=t.read_shift(4),s=t.read_shift(4);n[i]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(On,"").replace(Of,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function LR(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function cpe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function im(t,e,r){var n=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==VO&&n!==e&&$0e.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===VO?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return MR(t,n,4).replace(On,"");case 31:return DR(t);case 64:return hk(t);case 65:return LR(t);case 71:return cpe(t);case 80:return hw(t,n,!i.raw).replace(On,"");case 81:return ape(t,n).replace(On,"");case 4108:return lpe(t);case 4126:case 4127:return n==4127?ipe(t):spe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function JO(t,e){var r=ge(4),n=ge(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ge(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=npe(e);break;case 31:case 80:for(n=ge(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return zr([r,n])}function ZO(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=t.read_shift(4),f=t.read_shift(4);i[s]=[u,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(s=0;s!=a;++s){if(t.l!==i[s][1]){var d=!0;if(s>0&&e)switch(e[i[s-1][0]].t){case 2:t.l+2===i[s][1]&&(t.l+=2,d=!1);break;case 80:t.l<=i[s][1]&&(t.l=i[s][1],d=!1);break;case 4108:t.l<=i[s][1]&&(t.l=i[s][1],d=!1);break}if((!e||s==0)&&t.l<=i[s][1]&&(d=!1,t.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+t.l+" :"+s)}if(e){var g=e[i[s][0]];if(h[g.n]=im(t,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Qa(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=im(t,uk),Qa(o),l!==-1){var p=t.l;t.l=i[l][1],c=KO(t,o),t.l=p}}else if(i[s][0]===0){if(o===0){l=s,t.l=i[s+1][1];continue}c=KO(t,o)}else{var m=c[i[s][0]],v;switch(t[t.l]){case 65:t.l+=4,v=LR(t);break;case 30:t.l+=4,v=hw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,v=hw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,v=t.read_shift(4,"i");break;case 19:t.l+=4,v=t.read_shift(4);break;case 5:t.l+=4,v=t.read_shift(8,"f");break;case 11:t.l+=4,v=gr(t,4);break;case 64:t.l+=4,v=Kt(hk(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[m]=v}}return t.l=r+n,h}var BR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function upe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function QO(t,e,r){var n=ge(8),a=[],i=[],s=8,o=0,l=ge(8),c=ge(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!e){c=ge(8),c.write_shift(4,0),a.unshift(c);var u=[ge(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=ge(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=zr(u),i.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(BR.indexOf(t[o][0])>-1||IR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],d=0;if(e){d=+e[t[o][0]];var g=r[d];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=JO(g.t,h)}else{var m=upe(h);m==-1&&(m=31,h=String(h)),l=JO(m,h)}i.push(l),c=ge(8),c.write_shift(4,e?d:2+o),a.push(c),s+=8+l.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),zr([n].concat(a).concat(i))}function eP(t,e,r){var n=t.content;if(!n)return{};Gr(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ve.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=ZO(n,e),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=ZO(n,null)}catch{}for(d in g)h[d]=g[d];return h.FMTID=[i,s],h}function tP(t,e,r,n,a,i){var s=ge(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Ve.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var l=QO(t,r,n);if(o.push(l),a){var c=QO(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return zr(o)}function xs(t,e){return t.read_shift(e),null}function fpe(t,e){e||(e=ge(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function hpe(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function gr(t,e){return t.read_shift(e)===1}function kn(t,e){return e||(e=ge(2)),e.write_shift(2,+!!t),e}function kr(t){return t.read_shift(2,"u")}function ba(t,e){return e||(e=ge(2)),e.write_shift(2,t),e}function $R(t,e){return hpe(t,e,kr)}function dpe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function zR(t,e,r){return r||(r=ge(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Hd(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function ppe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return a&&(t.l+=4*s),n&&(t.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function gpe(t){var e=t.t||"",r=ge(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ge(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return zr(a)}function pl(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Xd(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):pl(t,n,r)}function Nl(t,e,r){if(r.biff>5)return Xd(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function WR(t,e,r){return r||(r=ge(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function mpe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function vpe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(On,"");return n&&(t.l+=24),a}function xpe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(i>>1,"utf16le").replace(On,"");return r+s}function ype(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return vpe(t);case"0303000000000000c000000000000046":return xpe(t);default:throw new Error("Unsupported Moniker "+r)}}function V0(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(On,""):"";return r}function rP(t,e){e||(e=ge(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function bpe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=V0(t,r-t.l)),a&128&&(s=V0(t,r-t.l)),(a&257)===257&&(o=V0(t,r-t.l)),(a&257)===1&&(l=ype(t,r-t.l)),a&8&&(c=V0(t,r-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(f=hk(t)),t.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function wpe(t){var e=ge(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),rP(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&rP(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function UR(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function HR(t,e){var r=UR(t);return r[3]=0,r}function Ci(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function gl(t,e,r,n){return n||(n=ge(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Spe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function _pe(t,e,r){return e===0?"":Nl(t,e,r)}function kpe(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function XR(t){var e=t.read_shift(2),r=ck(t);return[e,r]}function Ape(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=Hd(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function Cv(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function YR(t,e){return e||(e=ge(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function VR(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var Epe=VR;function GR(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function Tpe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Cpe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function sn(t){t.l+=2,t.l+=t.read_shift(2)}var Ope={0:sn,4:sn,5:sn,6:sn,7:Cpe,8:sn,9:sn,10:sn,11:sn,12:sn,13:Tpe,14:sn,15:sn,16:sn,17:sn,18:sn,19:sn,20:sn,21:GR};function Ppe(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(Ope[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function G0(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function dk(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ge(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Ipe(t,e){return e===0||t.read_shift(2),1200}function Npe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=Nl(t,0,r);return t.read_shift(e+n-t.l),a}function Fpe(t,e){var r=!e||e.biff==8,n=ge(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function jpe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Mpe(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Hd(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Dpe(t,e){var r=!e||e.biff>=8?2:1,n=ge(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Rpe(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0;s!=a&&t.l<r;++s)i.push(ppe(t));return i.Count=n,i.Unique=a,i}function Lpe(t,e){var r=ge(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=gpe(t[a]);var i=zr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Bpe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function $pe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function zpe(t){var e=Spe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function Wpe(t){return t.read_shift(2),t.read_shift(4)}function nP(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Upe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Hpe(){var t=ge(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Xpe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Ype(t){var e=ge(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Vpe(){}function Gpe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Hd(t,0,r),n}function qpe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=ge(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Kpe(t){var e=Ci(t);return e.isst=t.read_shift(4),e}function Jpe(t,e,r,n){var a=ge(10);return gl(t,e,n,a),a.write_shift(4,r),a}function Zpe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=Ci(t);r.biff==2&&t.l++;var i=Xd(t,n-t.l,r);return a.val=i,a}function Qpe(t,e,r,n,a){var i=!a||a.biff==8,s=ge(8+ +i+(1+i)*r.length);return gl(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ege(t,e,r){var n=t.read_shift(2),a=Nl(t,0,r);return[n,a]}function tge(t,e,r,n){var a=r&&r.biff==5;n||(n=ge(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var rge=Nl;function aP(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),s=t.read_shift(a),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function nge(t,e){var r=e.biff==8||!e.biff?4:2,n=ge(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function age(t){var e=t.read_shift(2),r=t.read_shift(2),n=XR(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function ige(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(XR(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function sge(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function oge(t,e,r,n){var a={},i=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return a.patternType=z0e[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function lge(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=oge(t,e,n.fStyle,r),n}function iP(t,e,r,n){var a=r&&r.biff==5;n||(n=ge(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function cge(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function uge(t){var e=ge(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function sP(t,e,r){var n=Ci(t);(r.biff==2||e==9)&&++t.l;var a=dpe(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function fge(t,e,r,n,a,i){var s=ge(8);return gl(t,e,n,s),zR(r,i,s),s}function hge(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ci(t),a=pn(t);return n.val=a,n}function dge(t,e,r,n){var a=ge(14);return gl(t,e,n,a),dl(r,a),a}var oP=_pe;function pge(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=pl(t,i),o=[];n>t.l;)o.push(Xd(t));return[i,a,s,o]}function lP(t,e,r){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Ape(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var gge=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function cP(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=pl(t,s,r);a&32&&(c=gge[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var f=n==t.l||o===0||!(u>0)?[]:Pye(t,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function qR(t,e,r){if(r.biff<8)return mge(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(kpe(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function mge(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Hd(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function vge(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=pl(t,n,r),s=pl(t,a,r);return[i,s]}function xge(t,e,r){var n=VR(t);t.l++;var a=t.read_shift(1);return e-=8,[Iye(t,e,r),a,n]}function uP(t,e,r){var n=Epe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Cye(t,e,r)]}function yge(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function bge(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=Nl(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},o,s,i]}}function wge(t,e,r){return bge(t,e,r)}function Sge(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Cv(t));return r}function _ge(t){var e=ge(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)YR(t[r],e);return e}function kge(t,e,r){if(r&&r.biff<8)return Ege(t,e,r);var n=GR(t),a=Ppe(t,e-22,n[1]);return{cmo:n,ft:a}}var Age={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function Ege(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((Age[n]||xn)(t,e,r)),{cmo:[a,n,i],ft:s}}function Tge(t,e,r){var n=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:s=mpe(t,6,r);var o=t.read_shift(2);t.read_shift(2),kr(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=pl(t,t.lens[c+1]-t.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function Cge(t,e){var r=Cv(t);t.l+=16;var n=bpe(t,e-24);return[r,n]}function Oge(t){var e=ge(24),r=ar(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return zr([e,wpe(t[1])])}function Pge(t,e){t.read_shift(2);var r=Cv(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(On,""),[r,n]}function Ige(t){var e=t[1].Tooltip,r=ge(10+2*(e.length+1));r.write_shift(2,2048);var n=ar(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function Nge(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=GO[r]||r,r=t.read_shift(2),e[1]=GO[r]||r,e}function Fge(t){return t||(t=ge(4)),t.write_shift(2,1),t.write_shift(2,1),t}function jge(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(HR(t));return r}function Mge(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(HR(t));return r}function Dge(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function KR(t,e,r){if(!r.cellStyles)return xn(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Rge(t,e){var r=ge(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Lge(t,e){var r={};return e<32||(t.l+=16,r.header=pn(t),r.footer=pn(t),t.l+=2),r}function Bge(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}function $ge(t){for(var e=ge(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var zge=Ci,Wge=$R,Uge=Xd;function Hge(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function Xge(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ci(t);++t.l;var a=Nl(t,e-7,r);return n.t="str",n.val=a,n}function Yge(t){var e=Ci(t);++t.l;var r=pn(t);return e.t="n",e.val=r,e}function Vge(t,e,r){var n=ge(15);return qd(n,t,e),n.write_shift(8,r,"f"),n}function Gge(t){var e=Ci(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function qge(t,e,r){var n=ge(9);return qd(n,t,e),n.write_shift(2,r),n}function Kge(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Jge(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Zge(t,e,r){var n=t.l+e,a=Ci(t),i=t.read_shift(2),s=pl(t,i,r);return t.l=n,a.t="str",a.val=s,a}var Qge=[2,3,48,49,131,139,140,245],dw=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Av({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Zs(1);switch(l.type){case"base64":u=ea(oa(o));break;case"binary":u=ea(o);break;case"buffer":case"array":u=o;break}Gr(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,m=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(m=u.read_shift(2));var v=u.read_shift(2),y=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],S={},w=Math.min(u.length,f==2?521:m-10-(d?264:0)),_=g?32:11;u.l<w&&u[u.l]!=13;)switch(S={},S.name=ad.utils.decode(y,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,S.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(S.offset=u.read_shift(4)),S.len=u.read_shift(1),f==2&&(S.offset=u.read_shift(2)),S.dec=u.read_shift(1),S.name.length&&b.push(S),f!=2&&(u.l+=g?13:14),S.type){case"B":(!d||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(u[u.l]!==13&&(u.l=m-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=m;var k=0,A=0;for(c[0]=[],A=0;A!=b.length;++A)c[0][A]=b[A].name;for(;p-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,c[++k]=[],A=0,A=0;A!=b.length;++A){var E=u.slice(u.l,u.l+b[A].len);u.l+=b[A].len,Gr(E,0);var C=ad.utils.decode(y,E);switch(b[A].type){case"C":C.trim().length&&(c[k][A]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[k][A]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[k][A]=C;break;case"F":c[k][A]=parseFloat(C.trim());break;case"+":case"I":c[k][A]=g?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[k][A]=!0;break;case"N":case"F":c[k][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[k][A]="##MEMO##"+(g?parseInt(C.trim(),10):E.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[k][A]=+C||0);break;case"@":c[k][A]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":c[k][A]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":c[k][A]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][A]=-E.read_shift(-8,"f");break;case"B":if(d&&b[A].len==8){c[k][A]=E.read_shift(8,"f");break}case"G":case"P":E.l+=b[A].len;break;case"0":if(b[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Ru(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return mo(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Qa(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Un(),f=lm(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],p=0,m=0,v=0,y=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++v;continue}if(h[p]!=null){if(++v,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(m=0;m<1024;++m)if(h.indexOf(h[p]+"_"+m)==-1){h[p]+="_"+m;break}}}}var b=bt(o["!ref"]),S=[],w=[],_=[];for(p=0;p<=b.e.c-b.s.c;++p){var k="",A="",E=0,C=[];for(m=0;m<d.length;++m)d[m][p]!=null&&C.push(d[m][p]);if(C.length==0||h[p]==null){S[p]="?";continue}for(m=0;m<C.length;++m){switch(typeof C[m]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=C[m]instanceof Date?"D":"C";break;default:A="C"}E=Math.max(E,String(C[m]).length),k=k&&k!=A?"C":A}E>250&&(E=250),A=((g[p]||{}).DBF||{}).type,A=="C"&&g[p].DBF.len>E&&(E=g[p].DBF.len),k=="B"&&A=="N"&&(k="N",_[p]=g[p].DBF.dec,E=g[p].DBF.len),w[p]=k=="C"||A=="N"?E:i[k]||0,y+=w[p],S[p]=k}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,d.length),T.write_shift(2,296+32*v),T.write_shift(2,y),p=0;p<4;++p)T.write_shift(4,0);for(T.write_shift(4,0|(+e[BD]||3)<<8),p=0,m=0;p<h.length;++p)if(h[p]!=null){var O=u.next(32),N=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,N,"sbcs"),O.write_shift(1,S[p]=="?"?"C":S[p],"sbcs"),O.write_shift(4,m),O.write_shift(1,w[p]||i[S[p]]||0),O.write_shift(1,_[p]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),m+=w[p]||i[S[p]]||0}var z=u.next(264);for(z.write_shift(4,13),p=0;p<65;++p)z.write_shift(4,0);for(p=0;p<d.length;++p){var W=u.next(y);for(W.write_shift(1,0),m=0;m<h.length;++m)if(h[m]!=null)switch(S[m]){case"L":W.write_shift(1,d[p][m]==null?63:d[p][m]?84:70);break;case"B":W.write_shift(8,d[p][m]||0,"f");break;case"N":var F="0";for(typeof d[p][m]=="number"&&(F=d[p][m].toFixed(_[m]||0)),v=0;v<w[m]-F.length;++v)W.write_shift(1,32);W.write_shift(1,F,"sbcs");break;case"D":d[p][m]?(W.write_shift(4,("0000"+d[p][m].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(d[p][m].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+d[p][m].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var L=String(d[p][m]!=null?d[p][m]:"").slice(0,w[m]);for(W.write_shift(1,L,"sbcs"),v=0;v<w[m]-L.length;++v)W.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),JR=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+pr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var g=t[d];return typeof g=="number"?wO(g):g},n=function(h,d,g){var p=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:wO(p)};t["|"]=254;function a(h,d){switch(d.type){case"base64":return i(oa(h),d);case"binary":return i(h,d);case"buffer":return i(ct&&Buffer.isBuffer(h)?h.toString("binary"):go(h),d);case"array":return i(hl(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var g=h.split(/[\n\r]+/),p=-1,m=-1,v=0,y=0,b=[],S=[],w=null,_={},k=[],A=[],E=[],C=0,T;for(+d.codepage>=0&&Qa(+d.codepage);v!==g.length;++v){C=0;var O=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=O.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),z=N[0],W;if(O.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&S.push(O.slice(3).replace(/;;/g,";"));break;case"C":var F=!1,L=!1,H=!1,I=!1,X=-1,K=-1;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"A":break;case"X":m=parseInt(N[y].slice(1))-1,L=!0;break;case"Y":for(p=parseInt(N[y].slice(1))-1,L||(m=0),T=b.length;T<=p;++T)b[T]=[];break;case"K":W=N[y].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(ii(W))?isNaN(cu(W).getDate())||(W=Kt(W)):(W=ii(W),w!==null&&Mu(w)&&(W=Tv(W))),F=!0;break;case"E":I=!0;var P=Cc(N[y].slice(1),{r:p,c:m});b[p][m]=[b[p][m],P];break;case"S":H=!0,b[p][m]=[b[p][m],"S5S"];break;case"G":break;case"R":X=parseInt(N[y].slice(1))-1;break;case"C":K=parseInt(N[y].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+O)}if(F&&(b[p][m]&&b[p][m].length==2?b[p][m][0]=W:b[p][m]=W,w=null),H){if(I)throw new Error("SYLK shared formula cannot have own formula");var Y=X>-1&&b[X][K];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");b[p][m][1]=gL(Y[1],{r:p-X,c:m-K})}break;case"F":var B=0;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"X":m=parseInt(N[y].slice(1))-1,++B;break;case"Y":for(p=parseInt(N[y].slice(1))-1,T=b.length;T<=p;++T)b[T]=[];break;case"M":C=parseInt(N[y].slice(1))/20;break;case"F":break;case"G":break;case"P":w=S[parseInt(N[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=N[y].slice(1).split(" "),T=parseInt(E[0],10);T<=parseInt(E[1],10);++T)C=parseInt(E[2],10),A[T-1]=C===0?{hidden:!0}:{wch:C},Qs(A[T-1]);break;case"C":m=parseInt(N[y].slice(1))-1,A[m]||(A[m]={});break;case"R":p=parseInt(N[y].slice(1))-1,k[p]||(k[p]={}),C>0?(k[p].hpt=C,k[p].hpx=fu(C)):C===0&&(k[p].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+O)}B<1&&(w=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+O)}}return k.length>0&&(_["!rows"]=k),A.length>0&&(_["!cols"]=A),d&&d.sheetRows&&(b=b.slice(0,d.sheetRows)),[b,_]}function s(h,d){var g=a(h,d),p=g[0],m=g[1],v=Ru(p,d);return pr(m).forEach(function(y){v[y]=m[y]}),v}function o(h,d){return mo(s(h,d),d)}function l(h,d,g,p){var m="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":m+=h.v||0,h.f&&!h.F&&(m+=";E"+yk(h.f,{r:g,c:p}));break;case"b":m+=h.v?"TRUE":"FALSE";break;case"e":m+=h.w||h.v;break;case"d":m+='"'+(h.w||h.v)+'"';break;case"s":m+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return m}function c(h,d){d.forEach(function(g,p){var m="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?m+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=hd(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=dd(g.wpx)),typeof g.wch=="number"&&(m+=Math.round(g.wch))),m.charAt(m.length-1)!=" "&&h.push(m)})}function u(h,d){d.forEach(function(g,p){var m="F;";g.hidden?m+="M0;":g.hpt?m+="M"+20*g.hpt+";":g.hpx&&(m+="M"+20*pd(g.hpx)+";"),m.length>2&&h.push(m+"R"+(p+1))})}function f(h,d){var g=["ID;PWXL;N;E"],p=[],m=bt(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(m.e.r-m.s.r+1)+";X"+(m.e.c-m.s.c+1)+";D"+[m.s.c,m.s.r,m.e.c,m.e.r].join(" "));for(var S=m.s.r;S<=m.e.r;++S)for(var w=m.s.c;w<=m.e.c;++w){var _=Ze({r:S,c:w});v=y?(h[S]||[])[w]:h[_],!(!v||v.v==null&&(!v.f||v.F))&&p.push(l(v,h,S,w))}return g.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),ZR=function(){function t(i,s){switch(s.type){case"base64":return e(oa(i),s);case"binary":return e(i,s);case"buffer":return e(ct&&Buffer.isBuffer(i)?i.toString("binary"):go(i),s);case"array":return e(hl(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],g=h[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+d){case-1:if(p==="BOT"){f[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][c]=!0:p==="FALSE"?f[l][c]=!1:isNaN(ii(g))?isNaN(cu(g).getDate())?f[l][c]=g:f[l][c]=Kt(g):f[l][c]=ii(g),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Ru(t(i,s),s)}function n(i,s){return mo(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=bt(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var p=Ze({r:d,c:g});if(f=h?(l[d]||[])[g]:l[p],!f){s(c,1,0,"");continue}switch(f.t){case"n":var m=f.w;!m&&f.v!=null&&(m=f.v),m==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,m,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ma(f.z||Je[14],Dr(Kt(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var v=`\r
`,y=c.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),QR=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),g=-1,p=-1,m=0,v=[];m!==d.length;++m){var y=d[m].trim().split(":");if(y[0]==="cell"){var b=ar(y[1]);if(v.length<=b.r)for(g=v.length;g<=b.r;++g)v[g]||(v[g]=[]);switch(g=b.r,p=b.c,y[2]){case"t":v[g][p]=t(y[3]);break;case"v":v[g][p]=+y[3];break;case"vtf":var S=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[g][p]=!!+y[4];break;default:v[g][p]=+y[4];break}y[2]=="vtf"&&(v[g][p]=[v[g][p],S])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Ru(r(f,h),h)}function a(f,h){return mo(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,p="",m=Hn(f["!ref"]),v=Array.isArray(f),y=m.s.r;y<=m.e.r;++y)for(var b=m.s.c;b<=m.e.c;++b)if(p=Ze({r:y,c:b}),g=v?(f[y]||[])[b]:f[p],!(!g||g.v==null||g.t==="z")){switch(d=["cell",p,"t"],g.t){case"s":case"str":d.push(e(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=e(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=Dr(Kt(g.v));d[2]="vtc",d[3]="nd",d[4]=""+S,d[5]=g.w||Ma(g.z||Je[14],S);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),uu=function(){function t(u,f,h,d,g){g.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(ii(u))?isNaN(cu(u).getDate())?f[h][d]=u:f[h][d]=Kt(u):f[h][d]=ii(u))}function e(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var g=u.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var m=10,v=0,y=0;y<=p;++y)v=g[y].indexOf(" "),v==-1?v=g[y].length:v++,m=Math.max(m,v);for(y=0;y<=p;++y){d[y]=[];var b=0;for(t(g[y].slice(0,m).trim(),d,y,b,h),b=1;b<=(g[y].length-m)/10+1;++b)t(g[y].slice(m+(b-1)*10,m+b*10).trim(),d,y,b,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,g=0;d<u.length;++d)(g=u.charCodeAt(d))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(p,m){return p[0]-m[0]||n[p[1]]-n[m[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},d="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var m=0,v=0,y=0,b=0,S=0,w=d.charCodeAt(0),_=!1,k=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=h.dateNF!=null?Bde(h.dateNF):null;function C(){var T=u.slice(b,S),O={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)O.t="z";else if(h.raw)O.t="s",O.v=T;else if(T.trim().length===0)O.t="s",O.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(O.t="s",O.v=T.slice(2,-1).replace(/""/g,'"')):pxe(T)?(O.t="n",O.f=T.slice(1)):(O.t="s",O.v=T);else if(T=="TRUE")O.t="b",O.v=!0;else if(T=="FALSE")O.t="b",O.v=!1;else if(!isNaN(y=ii(T)))O.t="n",h.cellText!==!1&&(O.w=T),O.v=y;else if(!isNaN(cu(T).getDate())||E&&T.match(E)){O.z=h.dateNF||Je[14];var N=0;E&&T.match(E)&&(T=$de(T,h.dateNF,T.match(E)||[]),N=1),h.cellDates?(O.t="d",O.v=Kt(T,N)):(O.t="n",O.v=Dr(Kt(T,N))),h.cellText!==!1&&(O.w=Ma(O.z,O.v instanceof Date?Dr(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=T;if(O.t=="z"||(h.dense?(g[m]||(g[m]=[]),g[m][v]=O):g[Ze({c:v,r:m})]=O),b=S+1,A=u.charCodeAt(b),p.e.c<v&&(p.e.c=v),p.e.r<m&&(p.e.r=m),k==w)++v;else if(v=0,++m,h.sheetRows&&h.sheetRows<=m)return!0}e:for(;S<u.length;++S)switch(k=u.charCodeAt(S)){case 34:A===34&&(_=!_);break;case w:case 10:case 13:if(!_&&C())break e;break}return S-b>0&&C(),g["!ref"]=it(p),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Ru(e(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:Tk(u,f);switch(f.type){case"base64":h=oa(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof ad<"u"||(h=ct&&Buffer.isBuffer(u)?u.toString("binary"):go(u));break;case"array":h=hl(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Dt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Dt(h):f.type=="binary"&&typeof ad<"u",h.slice(0,19)=="socialcalc:version:"?QR.to_sheet(f.type=="string"?h:Dt(h),f):s(h,f)}function l(u,f){return mo(o(u,f),f)}function c(u){for(var f=[],h=bt(u["!ref"]),d,g=Array.isArray(u),p=h.s.r;p<=h.e.r;++p){for(var m=[],v=h.s.c;v<=h.e.c;++v){var y=Ze({r:p,c:v});if(d=g?(u[p]||[])[v]:u[y],!d||d.v==null){m.push("          ");continue}for(var b=(d.w||(os(d),d.w)||"").slice(0,10);b.length<10;)b+=" ";m.push(b+(v===0?" ":""))}f.push(m.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function eme(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=JR.to_workbook(t,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return uu.to_workbook(t,e)}}var Zo=function(){function t(P,Y,B){if(P){Gr(P,P.l||0);for(var G=B.Enum||X;P.l<P.length;){var te=P.read_shift(2),oe=G[te]||G[65535],le=P.read_shift(2),re=P.l+le,se=oe.f&&oe.f(P,le,B);if(P.l=re,Y(se,oe,te))return}}}function e(P,Y){switch(Y.type){case"base64":return r(ea(oa(P)),Y);case"binary":return r(ea(P),Y);case"buffer":case"array":return r(P,Y)}throw"Unsupported type "+Y.type}function r(P,Y){if(!P)return P;var B=Y||{},G=B.dense?[]:{},te="Sheet1",oe="",le=0,re={},se=[],xe=[],D={s:{r:0,c:0},e:{r:0,c:0}},Ce=B.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)B.Enum=X,t(P,function(ie,Me,Qe){switch(Qe){case 0:B.vers=ie,ie>=4096&&(B.qpro=!0);break;case 6:D=ie;break;case 204:ie&&(oe=ie);break;case 222:oe=ie;break;case 15:case 51:B.qpro||(ie[1].v=ie[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(ie[2]&112)==112&&(ie[2]&15)>1&&(ie[2]&15)<15&&(ie[1].z=B.dateNF||Je[14],B.cellDates&&(ie[1].t="d",ie[1].v=Tv(ie[1].v))),B.qpro&&ie[3]>le&&(G["!ref"]=it(D),re[te]=G,se.push(te),G=B.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=ie[3],te=oe||"Sheet"+(le+1),oe="");var M=B.dense?(G[ie[0].r]||[])[ie[0].c]:G[Ze(ie[0])];if(M){M.t=ie[1].t,M.v=ie[1].v,ie[1].z!=null&&(M.z=ie[1].z),ie[1].f!=null&&(M.f=ie[1].f);break}B.dense?(G[ie[0].r]||(G[ie[0].r]=[]),G[ie[0].r][ie[0].c]=ie[1]):G[Ze(ie[0])]=ie[1];break}},B);else if(P[2]==26||P[2]==14)B.Enum=K,P[2]==14&&(B.qpro=!0,P.l=0),t(P,function(ie,Me,Qe){switch(Qe){case 204:te=ie;break;case 22:ie[1].v=ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ie[3]>le&&(G["!ref"]=it(D),re[te]=G,se.push(te),G=B.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=ie[3],te="Sheet"+(le+1)),Ce>0&&ie[0].r>=Ce)break;B.dense?(G[ie[0].r]||(G[ie[0].r]=[]),G[ie[0].r][ie[0].c]=ie[1]):G[Ze(ie[0])]=ie[1],D.e.c<ie[0].c&&(D.e.c=ie[0].c),D.e.r<ie[0].r&&(D.e.r=ie[0].r);break;case 27:ie[14e3]&&(xe[ie[14e3][0]]=ie[14e3][1]);break;case 1537:xe[ie[0]]=ie[1],ie[0]==le&&(te=ie[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(G["!ref"]=it(D),re[oe||te]=G,se.push(oe||te),!xe.length)return{SheetNames:se,Sheets:re};for(var Ee={},$e=[],ze=0;ze<xe.length;++ze)re[se[ze]]?($e.push(xe[ze]||se[ze]),Ee[xe[ze]]=re[xe[ze]]||re[se[ze]]):($e.push(xe[ze]),Ee[xe[ze]]={"!ref":"A1"});return{SheetNames:$e,Sheets:Ee}}function n(P,Y){var B=Y||{};if(+B.codepage>=0&&Qa(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Un(),te=bt(P["!ref"]),oe=Array.isArray(P),le=[];Pe(G,0,i(1030)),Pe(G,6,l(te));for(var re=Math.min(te.e.r,8191),se=te.s.r;se<=re;++se)for(var xe=xr(se),D=te.s.c;D<=te.e.c;++D){se===te.s.r&&(le[D]=nr(D));var Ce=le[D]+xe,Ee=oe?(P[se]||[])[D]:P[Ce];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?Pe(G,13,d(se,D,Ee.v)):Pe(G,14,p(se,D,Ee.v));else{var $e=os(Ee);Pe(G,15,f(se,D,$e.slice(0,239)))}}return Pe(G,1),G.end()}function a(P,Y){var B=Y||{};if(+B.codepage>=0&&Qa(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Un();Pe(G,0,s(P));for(var te=0,oe=0;te<P.SheetNames.length;++te)(P.Sheets[P.SheetNames[te]]||{})["!ref"]&&Pe(G,27,I(P.SheetNames[te],oe++));var le=0;for(te=0;te<P.SheetNames.length;++te){var re=P.Sheets[P.SheetNames[te]];if(!(!re||!re["!ref"])){for(var se=bt(re["!ref"]),xe=Array.isArray(re),D=[],Ce=Math.min(se.e.r,8191),Ee=se.s.r;Ee<=Ce;++Ee)for(var $e=xr(Ee),ze=se.s.c;ze<=se.e.c;++ze){Ee===se.s.r&&(D[ze]=nr(ze));var ie=D[ze]+$e,Me=xe?(re[Ee]||[])[ze]:re[ie];if(!(!Me||Me.t=="z"))if(Me.t=="n")Pe(G,23,C(Ee,ze,le,Me.v));else{var Qe=os(Me);Pe(G,22,k(Ee,ze,le,Qe.slice(0,239)))}}++le}}return Pe(G,1),G.end()}function i(P){var Y=ge(2);return Y.write_shift(2,P),Y}function s(P){var Y=ge(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var B=0,G=0,te=0,oe=0;oe<P.SheetNames.length;++oe){var le=P.SheetNames[oe],re=P.Sheets[le];if(!(!re||!re["!ref"])){++te;var se=Hn(re["!ref"]);B<se.e.r&&(B=se.e.r),G<se.e.c&&(G=se.e.c)}}return B>8191&&(B=8191),Y.write_shift(2,B),Y.write_shift(1,te),Y.write_shift(1,G),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(P,Y,B){var G={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&B.qpro?(G.s.c=P.read_shift(1),P.l++,G.s.r=P.read_shift(2),G.e.c=P.read_shift(1),P.l++,G.e.r=P.read_shift(2),G):(G.s.c=P.read_shift(2),G.s.r=P.read_shift(2),Y==12&&B.qpro&&(P.l+=2),G.e.c=P.read_shift(2),G.e.r=P.read_shift(2),Y==12&&B.qpro&&(P.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(P){var Y=ge(8);return Y.write_shift(2,P.s.c),Y.write_shift(2,P.s.r),Y.write_shift(2,P.e.c),Y.write_shift(2,P.e.r),Y}function c(P,Y,B){var G=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(G[0].c=P.read_shift(1),G[3]=P.read_shift(1),G[0].r=P.read_shift(2),P.l+=2):(G[2]=P.read_shift(1),G[0].c=P.read_shift(2),G[0].r=P.read_shift(2)),G}function u(P,Y,B){var G=P.l+Y,te=c(P,Y,B);if(te[1].t="s",B.vers==20768){P.l++;var oe=P.read_shift(1);return te[1].v=P.read_shift(oe,"utf8"),te}return B.qpro&&P.l++,te[1].v=P.read_shift(G-P.l,"cstr"),te}function f(P,Y,B){var G=ge(7+B.length);G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,P),G.write_shift(1,39);for(var te=0;te<G.length;++te){var oe=B.charCodeAt(te);G.write_shift(1,oe>=128?95:oe)}return G.write_shift(1,0),G}function h(P,Y,B){var G=c(P,Y,B);return G[1].v=P.read_shift(2,"i"),G}function d(P,Y,B){var G=ge(7);return G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,P),G.write_shift(2,B,"i"),G}function g(P,Y,B){var G=c(P,Y,B);return G[1].v=P.read_shift(8,"f"),G}function p(P,Y,B){var G=ge(13);return G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,P),G.write_shift(8,B,"f"),G}function m(P,Y,B){var G=P.l+Y,te=c(P,Y,B);if(te[1].v=P.read_shift(8,"f"),B.qpro)P.l=G;else{var oe=P.read_shift(2);S(P.slice(P.l,P.l+oe),te),P.l+=oe}return te}function v(P,Y,B){var G=Y&32768;return Y&=-32769,Y=(G?P:0)+(Y>=8192?Y-16384:Y),(G?"":"$")+(B?nr(Y):xr(Y))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(P,Y){Gr(P,0);for(var B=[],G=0,te="",oe="",le="",re="";P.l<P.length;){var se=P[P.l++];switch(se){case 0:B.push(P.read_shift(8,"f"));break;case 1:oe=v(Y[0].c,P.read_shift(2),!0),te=v(Y[0].r,P.read_shift(2),!1),B.push(oe+te);break;case 2:{var xe=v(Y[0].c,P.read_shift(2),!0),D=v(Y[0].r,P.read_shift(2),!1);oe=v(Y[0].c,P.read_shift(2),!0),te=v(Y[0].r,P.read_shift(2),!1),B.push(xe+D+":"+oe+te)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(P.read_shift(2));break;case 6:{for(var Ce="";se=P[P.l++];)Ce+=String.fromCharCode(se);B.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:re=B.pop(),le=B.pop(),B.push(["AND","OR"][se-20]+"("+le+","+re+")");break;default:if(se<32&&b[se])re=B.pop(),le=B.pop(),B.push(le+b[se]+re);else if(y[se]){if(G=y[se][1],G==69&&(G=P[P.l++]),G>B.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+B.join("|")+"|");return}var Ee=B.slice(-G);B.length-=G,B.push(y[se][0]+"("+Ee.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}B.length==1?Y[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function w(P){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=P.read_shift(2),Y[3]=P[P.l++],Y[0].c=P[P.l++],Y}function _(P,Y){var B=w(P);return B[1].t="s",B[1].v=P.read_shift(Y-4,"cstr"),B}function k(P,Y,B,G){var te=ge(6+G.length);te.write_shift(2,P),te.write_shift(1,B),te.write_shift(1,Y),te.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var le=G.charCodeAt(oe);te.write_shift(1,le>=128?95:le)}return te.write_shift(1,0),te}function A(P,Y){var B=w(P);B[1].v=P.read_shift(2);var G=B[1].v>>1;if(B[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return B[1].v=G,B}function E(P,Y){var B=w(P),G=P.read_shift(4),te=P.read_shift(4),oe=P.read_shift(2);if(oe==65535)return G===0&&te===3221225472?(B[1].t="e",B[1].v=15):G===0&&te===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var le=oe&32768;return oe=(oe&32767)-16446,B[1].v=(1-le*2)*(te*Math.pow(2,oe+32)+G*Math.pow(2,oe)),B}function C(P,Y,B,G){var te=ge(14);if(te.write_shift(2,P),te.write_shift(1,B),te.write_shift(1,Y),G==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var oe=0,le=0,re=0,se=0;return G<0&&(oe=1,G=-G),le=Math.log2(G)|0,G/=Math.pow(2,le-31),se=G>>>0,se&2147483648||(G/=2,++le,se=G>>>0),G-=se,se|=2147483648,se>>>=0,G*=Math.pow(2,32),re=G>>>0,te.write_shift(4,re),te.write_shift(4,se),le+=16383+(oe?32768:0),te.write_shift(2,le),te}function T(P,Y){var B=E(P);return P.l+=Y-14,B}function O(P,Y){var B=w(P),G=P.read_shift(4);return B[1].v=G>>6,B}function N(P,Y){var B=w(P),G=P.read_shift(8,"f");return B[1].v=G,B}function z(P,Y){var B=N(P);return P.l+=Y-10,B}function W(P,Y){return P[P.l+Y-1]==0?P.read_shift(Y,"cstr"):""}function F(P,Y){var B=P[P.l++];B>Y-1&&(B=Y-1);for(var G="";G.length<B;)G+=String.fromCharCode(P[P.l++]);return G}function L(P,Y,B){if(!(!B.qpro||Y<21)){var G=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var te=P.read_shift(Y-21,"cstr");return[G,te]}}function H(P,Y){for(var B={},G=P.l+Y;P.l<G;){var te=P.read_shift(2);if(te==14e3){for(B[te]=[0,""],B[te][0]=P.read_shift(2);P[P.l];)B[te][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return B}function I(P,Y){var B=ge(5+P.length);B.write_shift(2,14e3),B.write_shift(2,Y);for(var G=0;G<P.length;++G){var te=P.charCodeAt(G);B[B.l++]=te>127?95:te}return B[B.l++]=0,B}var X={0:{n:"BOF",f:kr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:m},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:F},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}();function tme(t){var e={},r=t.match(yn),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=et(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=H_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var rme=function(){var t=od("t"),e=od("rPr");function r(i){var s=i.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:xt(s[1])},l=i.match(e);return l&&(o.s=tme(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),nme=function(){var e=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),ame=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ime=/<(?:\w+:)?r>/,sme=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function pk(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=xt(Dt(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dt(t),r&&(n.h=ek(n.t))):t.match(ime)&&(n.r=Dt(t),n.t=xt(Dt((t.replace(sme,"").match(ame)||[]).join("").replace(yn,""))),r&&(n.h=nme(rme(n.r)))),n):{t:""}}var ome=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lme=/<(?:\w+:)?(?:si|sstItem)>/g,cme=/<\/(?:\w+:)?(?:si|sstItem)>/;function ume(t,e){var r=[],n="";if(!t)return r;var a=t.match(ome);if(a){n=a[2].replace(lme,"").split(cme);for(var i=0;i!=n.length;++i){var s=pk(n[i].trim(),e);s!=null&&(r[r.length]=s)}a=et(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var fme=/^\s|\s$|[\t\n\r]/;function eL(t,e){if(!e.bookSST)return"";var r=[yr];r[r.length]=Oe("sst",null,{xmlns:Tl[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(fme)&&(i+=' xml:space="preserve"'),i+=">"+It(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function hme(t){return[t.read_shift(4),t.read_shift(4)]}function dme(t,e){var r=[],n=!1;return ds(t,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function pme(t,e){return e||(e=ge(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var gme=A0e;function mme(t){var e=Un();we(e,159,pme(t));for(var r=0;r<t.length;++r)we(e,19,gme(t[r]));return we(e,160),e.end()}function tL(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Ji(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function vme(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ji(t,4),e.U=Ji(t,4),e.W=Ji(t,4),e}function xme(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function yme(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(xme(t));return e}function bme(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function wme(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ji(t,4),e.U=Ji(t,4),e.W=Ji(t,4),e}function Sme(t){var e=wme(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function rL(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function nL(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function _me(t){var e=Ji(t);switch(e.Minor){case 2:return[e.Minor,kme(t)];case 3:return[e.Minor,Ame()];case 4:return[e.Minor,Eme(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function kme(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=rL(t,r),a=nL(t,t.length-t.l);return{t:"Std",h:n,v:a}}function Ame(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Eme(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(yn,function(i){var s=et(i);switch(Ti(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Tme(t,e){var r={},n=r.EncryptionVersionInfo=Ji(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=rL(t,a),e-=a,r.EncryptionVerifier=nL(t,e),r}function Cme(t){var e={},r=e.EncryptionVersionInfo=Ji(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function gk(t){var e=0,r,n=tL(t),a=n.length+1,i,s,o,l,c;for(r=Zs(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var aL=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=tL(s),l=i(o),c=o.length,u=Zs(16),f=0;f!=16;++f)u[f]=0;var h,d,g;for((c&1)===1&&(h=l>>8,u[c]=a(t[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(t[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Ome=function(t,e,r,n,a){a||(a=e),n||(n=aL(t));var i,s;for(i=0;i!=e.length;++i)s=e[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Pme=function(t){var e=0,r=aL(t);return function(n){var a=Ome("",n,e,r);return e=a[1],a[0]}};function Ime(t,e,r,n){var a={key:kr(t),verificationBytes:kr(t)};return r.password&&(a.verifier=gk(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Pme(r.password)),a}function Nme(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=Cme(t):n.Data=Tme(t,e),n}function Fme(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?Nme(t,e-2,n):Ime(t,r.biff>=8?e:e-2,r,n),n}var iL=function(){function t(a,i){switch(i.type){case"base64":return e(oa(a),i);case"binary":return e(a,i);case"buffer":return e(ct&&Buffer.isBuffer(a)?a.toString("binary"):go(a),i);case"array":return e(hl(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,p=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var m=u.slice(d,h.lastIndex-g[0].length);if(m[0]==" "&&(m=m.slice(1)),++p,m.length){var v={v:m,t:"s"};Array.isArray(o)?o[f][p]=v:o[Ze({r:f,c:p})]=v}break}d=h.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=it(c),o}function r(a,i){return mo(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=bt(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Ze({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(os(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function jme(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function fd(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function Mme(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),i=Math.min(e,r,n),s=a-i;if(s===0)return[0,0,e];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function Dme(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function sm(t,e){if(e===0)return t;var r=Mme(jme(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),fd(Dme(r))}var sL=6,Rme=15,Lme=1,dn=sL;function hd(t){return Math.floor((t+Math.round(128/dn)/256)*dn)}function dd(t){return Math.floor((t-5)/dn*100+.5)/100}function om(t){return Math.round((t*dn+5)/dn*256)/256}function Kx(t){return om(dd(hd(t)))}function mk(t){var e=Math.abs(t-Kx(t)),r=dn;if(e>.005)for(dn=Lme;dn<Rme;++dn)Math.abs(t-Kx(t))<=e&&(e=Math.abs(t-Kx(t)),r=dn);dn=r}function Qs(t){t.width?(t.wpx=hd(t.width),t.wch=dd(t.wpx),t.MDW=dn):t.wpx?(t.wch=dd(t.wpx),t.width=om(t.wch),t.MDW=dn):typeof t.wch=="number"&&(t.width=om(t.wch),t.wpx=hd(t.width),t.MDW=dn),t.customWidth&&delete t.customWidth}var Bme=96,oL=Bme;function pd(t){return t*96/oL}function fu(t){return t*oL/96}var $me={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function zme(t,e,r,n){e.Borders=[];var a={},i=!1;(t[0].match(yn)||[]).forEach(function(s){var o=et(s);switch(Ti(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Gt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Gt(o.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Wme(t,e,r,n){e.Fills=[];var a={},i=!1;(t[0].match(yn)||[]).forEach(function(s){var o=et(s);switch(Ti(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Ume(t,e,r,n){e.Fonts=[];var a={},i=!1;(t[0].match(yn)||[]).forEach(function(s){var o=et(s);switch(Ti(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Gt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Gt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Gt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Gt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Gt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Gt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Gt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=H_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Gt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Ko[a.color.index];a.color.index==81&&(l=Ko[1]),l||(l=Ko[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=sm(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Hme(t,e,r){e.NumberFmt=[];for(var n=pr(Je),a=0;a<n.length;++a)e.NumberFmt[n[a]]=Je[n[a]];var i=t[0].match(yn);if(i)for(a=0;a<i.length;++a){var s=et(i[a]);switch(Ti(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=xt(Dt(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Ki(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Xme(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Oe("numFmt",null,{numFmtId:n,formatCode:It(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Oe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var q0=["numFmtId","fillId","fontId","borderId","xfId"],K0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Yme(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(yn)||[]).forEach(function(i){var s=et(i),o=0;switch(Ti(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<q0.length;++o)n[q0[o]]&&(n[q0[o]]=parseInt(n[q0[o]],10));for(o=0;o<K0.length;++o)n[K0[o]]&&(n[K0[o]]=Gt(n[K0[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Gt(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Vme(t){var e=[];return e[e.length]=Oe("cellXfs",null),t.forEach(function(r){e[e.length]=Oe("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Oe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Gme=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&Hme(f,u,c),(f=o.match(a))&&Ume(f,u,l,c),(f=o.match(n))&&Wme(f,u,l,c),(f=o.match(i))&&zme(f,u,l,c),(f=o.match(r))&&Yme(f,u,c),u}}();function lL(t,e){var r=[yr,Oe("styleSheet",null,{xmlns:Tl[0],"xmlns:vt":Nr.vt})],n;return t.SSF&&(n=Xme(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Vme(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function qme(t,e){var r=t.read_shift(2),n=mn(t);return[r,n]}function Kme(t,e,r){r||(r=ge(6+4*e.length)),r.write_shift(2,t),Wr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Jme(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=N0e(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=I0e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=mn(t),n}function Zme(t,e){e||(e=ge(25+4*32)),e.write_shift(2,t.sz*20),F0e(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),nm(t.color,e);var n=0;return n=2,e.write_shift(1,n),Wr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Qme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Jx,eve=xn;function fP(t,e){e||(e=ge(4*3+8*7+16*1)),Jx||(Jx=Av(Qme));var r=Jx[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(nm({auto:1},e),nm({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function tve(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function cL(t,e,r){r||(r=ge(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function gf(t,e){return e||(e=ge(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var rve=xn;function nve(t,e){return e||(e=ge(51)),e.write_shift(1,0),gf(null,e),gf(null,e),gf(null,e),gf(null,e),gf(null,e),e.length>e.l?e.slice(0,e.l):e}function ave(t,e){return e||(e=ge(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),rm(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function ive(t,e,r){var n=ge(2052);return n.write_shift(4,t),rm(e,n),rm(r,n),n.length>n.l?n.slice(0,n.l):n}function sve(t,e,r){var n={};n.NumberFmt=[];for(var a in Je)n.NumberFmt[a]=Je[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ds(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ki(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=sm(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function ove(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(we(t,615,si(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&we(t,44,Kme(a,e[a]))}),we(t,616))}}function lve(t){var e=1;we(t,611,si(e)),we(t,43,Zme({sz:12,color:{theme:1},name:"Calibri",family:2})),we(t,612)}function cve(t){var e=2;we(t,603,si(e)),we(t,45,fP({patternType:"none"})),we(t,45,fP({patternType:"gray125"})),we(t,604)}function uve(t){var e=1;we(t,613,si(e)),we(t,46,nve()),we(t,614)}function fve(t){var e=1;we(t,626,si(e)),we(t,47,cL({numFmtId:0},65535)),we(t,627)}function hve(t,e){we(t,617,si(e.length)),e.forEach(function(r){we(t,47,cL(r,0))}),we(t,618)}function dve(t){var e=1;we(t,619,si(e)),we(t,48,ave({xfId:0,name:"Normal"})),we(t,620)}function pve(t){var e=0;we(t,505,si(e)),we(t,506)}function gve(t){var e=0;we(t,508,ive(e,"TableStyleMedium9","PivotStyleMedium4")),we(t,509)}function mve(t,e){var r=Un();return we(r,278),ove(r,t.SSF),lve(r),cve(r),uve(r),fve(r),hve(r,e.cellXfs),dve(r),pve(r),gve(r),we(r,279),r.end()}var vve=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function xve(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(yn)||[]).forEach(function(a){var i=et(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[vve.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function yve(){}function bve(){}var wve=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Sve=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,_ve=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kve(t,e,r){e.themeElements={};var n;[["clrScheme",wve,xve],["fontScheme",Sve,yve],["fmtScheme",_ve,bve]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var Ave=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uL(t,e){(!t||t.length===0)&&(t=vk());var r,n={};if(!(r=t.match(Ave)))throw new Error("themeElements not found in theme");return kve(r[0],n,e),n.raw=t,n}function vk(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[yr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Eve(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var s;try{s=rR(i,{type:"array"})}catch{return}var o=ta(s,"theme/theme/theme1.xml",!0);if(o)return uL(o,r)}}function Tve(t){return t.read_shift(4)}function Cve(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Ove(t,4);break;case 2:e.xclrValue=UR(t);break;case 3:e.xclrValue=Tve(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Ove(t,e){return xn(t,e)}function Pve(t,e){return xn(t,e)}function Ive(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Cve(t);break;case 6:n[1]=Pve(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function Nve(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(Ive(t,r-t.l));return{ixfe:n,ext:i}}function Fve(t,e){e.forEach(function(r){switch(r[0]){}})}function jve(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:mn(t)}}function Mve(t){var e=ge(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Wr(t.name,e),e.slice(0,e.l)}function Dve(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Rve(t){var e=ge(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Lve(t,e){var r=ge(8+2*e.length);return r.write_shift(4,t),Wr(e,r),r.slice(0,r.l)}function Bve(t){return t.l+=4,t.read_shift(4)!=0}function $ve(t,e){var r=ge(8);return r.write_shift(4,t),r.write_shift(4,1),r}function zve(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ds(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Wve(){var t=Un();return we(t,332),we(t,334,si(1)),we(t,335,Mve({name:"XLDAPR",version:12e4,flags:3496657072})),we(t,336),we(t,339,Lve(1,"XLDAPR")),we(t,52),we(t,35,si(514)),we(t,4096,si(0)),we(t,4097,ba(1)),we(t,36),we(t,53),we(t,340),we(t,337,$ve(1)),we(t,51,Rve([[1,0]])),we(t,338),we(t,333),t.end()}function Uve(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,s;return t.replace(yn,function(o){var l=et(o);switch(Ti(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function fL(){var t=[yr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Hve(t){var e=[];if(!t)return e;var r=1;return(t.match(yn)||[]).forEach(function(n){var a=et(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function Xve(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ze(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Yve(t,e,r){var n=[];return ds(t,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Vve(t,e,r,n){if(!t)return t;var a=n||{},i=!1;ds(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Gve(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var gc=1024;function hL(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Oe("xml",null,{"xmlns:v":Jn.v,"xmlns:o":Jn.o,"xmlns:x":Jn.x,"xmlns:mv":Jn.mv}).replace(/\/>/,">"),Oe("o:shapelayout",Oe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Oe("v:shapetype",[Oe("v:stroke",null,{joinstyle:"miter"}),Oe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];gc<t*1e3;)gc+=1e3;return e.forEach(function(i){var s=ar(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Oe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Oe("v:fill",l,o),u={on:"t",obscured:"t"};++gc,a=a.concat(["<v:shape"+ld({id:"_x0000_s"+gc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Oe("v:shadow",null,u),Oe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Kr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Kr("x:AutoFill","False"),Kr("x:Row",String(s.r)),Kr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function hP(t,e,r,n){var a=Array.isArray(t),i;e.forEach(function(s){var o=ar(s.ref);if(a?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[s.ref],!i){i={t:"z"},a?t[o.r][o.c]=i:t[s.ref]=i;var l=bt(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=it(l);c!==t["!ref"]&&(t["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function qve(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=et(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=ar(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&pk(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function dL(t){var e=[yr,Oe("comments",null,{xmlns:Tl[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=It(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(It(l.a))),i.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(Kr("t",It(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(Kr("t",It(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Kve(t,e){var r=[],n=!1,a={},i=0;return t.replace(yn,function(o,l){var c=et(o);switch(Ti(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=t.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Jve(t,e,r){var n=[yr,Oe("ThreadedComments",null,{xmlns:Nr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Oe("threadedComment",Kr("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Zve(t,e){var r=[],n=!1;return t.replace(yn,function(i){var s=et(i);switch(Ti(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Qve(t){var e=[yr,Oe("personList",null,{xmlns:Nr.TCMNT,"xmlns:x":Tl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Oe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function exe(t){var e={};e.iauthor=t.read_shift(4);var r=Il(t);return e.rfx=r.s,e.ref=Ze(r.s),t.l+=16,e}function txe(t,e){return e==null&&(e=ge(36)),e.write_shift(4,t[1].iauthor),Lu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var rxe=mn;function nxe(t){return Wr(t.slice(0,54))}function axe(t,e){var r=[],n=[],a={},i=!1;return ds(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function ixe(t){var e=Un(),r=[];return we(e,628),we(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),we(e,632,nxe(a.a)))})}),we(e,631),we(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ar(n[0]),e:ar(n[0])};we(e,635,txe([i,a])),a.t&&a.t.length>0&&we(e,637,T0e(a)),we(e,636),delete a.iauthor})}),we(e,634),we(e,629),e.end()}var sxe="application/vnd.ms-office.vbaProject";function oxe(t){var e=Ve.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ve.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Ve.write(e)}function lxe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ve.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var pL=["xlsb","xlsm","xlam","biff8","xla"];function cxe(){return{"!type":"dialog"}}function uxe(){return{"!type":"dialog"}}function fxe(){return{"!type":"macro"}}function hxe(){return{"!type":"macro"}}var Cc=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,a+(o?"":"$")+nr(u)+(l?"":"$")+xr(c)}return function(a,i){return e=i,a.replace(t,r)}}(),xk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yk=function(){return function(e,r){return e.replace(xk,function(n,a,i,s,o,l){var c=ik(s)-(i?0:r.c),u=ak(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function gL(t,e){return t.replace(xk,function(r,n,a,i,s,o){return n+(a=="$"?a+i:nr(ik(i)+e.c))+(s=="$"?s+o:xr(ak(o)+e.r))})}function dxe(t,e,r){var n=Hn(e),a=n.s,i=ar(r),s={r:i.r-a.r,c:i.c-a.c};return gL(t,s)}function pxe(t){return t.length!=1}function dP(t){return t.replace(/_xlfn\./g,"")}function wr(t){t.l+=1}function eo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function mL(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return vL(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=eo(t),o=eo(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function vL(t){var e=eo(t),r=eo(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gxe(t,e,r){if(r.biff<8)return vL(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=eo(t),s=eo(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function xL(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return mxe(t);var n=t.read_shift(r&&r.biff==12?4:2),a=eo(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function mxe(t){var e=eo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function vxe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function xxe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return yxe(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function yxe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function bxe(t,e,r){var n=(t[t.l++]&96)>>5,a=mL(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function wxe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=mL(t,i,r);return[n,a,s]}function Sxe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _xe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function kxe(t,e,r){var n=(t[t.l++]&96)>>5,a=gxe(t,e-1,r);return[n,a]}function Axe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function pP(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Exe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Txe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Cxe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Oxe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Pxe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function yL(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Ixe(t){return t.read_shift(2),yL(t)}function Nxe(t){return t.read_shift(2),yL(t)}function Fxe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=xL(t,0,r);return[n,a]}function jxe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=xxe(t,0,r);return[n,a]}function Mxe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=xL(t,0,r);return[n,a,i]}function Dxe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Bye[a],SL[a],n]}function Rxe(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Lxe(t);return[a,(i[0]===0?SL:Lye)[i[1]]]}function Lxe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Bxe(t,e,r){t.l+=r&&r.biff==2?3:4}function $xe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function zxe(t){return t.l++,ps[t.read_shift(1)]}function Wxe(t){return t.l++,t.read_shift(2)}function Uxe(t){return t.l++,t.read_shift(1)!==0}function Hxe(t){return t.l++,pn(t)}function Xxe(t,e,r){return t.l++,Hd(t,e-1,r)}function Yxe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=gr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ps[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=pn(t);break;case 2:r[1]=Nl(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Vxe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Il:Cv)(t));return a}function Gxe(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Yxe(t,r.biff);return s}function qxe(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function Kxe(t,e,r){if(r.biff==5)return Jxe(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Jxe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Zxe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Qxe(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function eye(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function tye(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var rye=xn,nye=xn,aye=xn;function Yd(t,e,r){return t.l+=2,[vxe(t)]}function bk(t){return t.l+=6,[]}var iye=Yd,sye=bk,oye=bk,lye=Yd;function bL(t){return t.l+=2,[kr(t),t.read_shift(2)&1]}var cye=Yd,uye=bL,fye=bk,hye=Yd,dye=Yd,pye=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gye(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=pye[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function mye(t){return t.l+=2,[t.read_shift(4)]}function vye(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function xye(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function yye(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bye(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function wye(t){return t.l+=4,[0,0]}var gP={1:{n:"PtgExp",f:$xe},2:{n:"PtgTbl",f:aye},3:{n:"PtgAdd",f:wr},4:{n:"PtgSub",f:wr},5:{n:"PtgMul",f:wr},6:{n:"PtgDiv",f:wr},7:{n:"PtgPower",f:wr},8:{n:"PtgConcat",f:wr},9:{n:"PtgLt",f:wr},10:{n:"PtgLe",f:wr},11:{n:"PtgEq",f:wr},12:{n:"PtgGe",f:wr},13:{n:"PtgGt",f:wr},14:{n:"PtgNe",f:wr},15:{n:"PtgIsect",f:wr},16:{n:"PtgUnion",f:wr},17:{n:"PtgRange",f:wr},18:{n:"PtgUplus",f:wr},19:{n:"PtgUminus",f:wr},20:{n:"PtgPercent",f:wr},21:{n:"PtgParen",f:wr},22:{n:"PtgMissArg",f:wr},23:{n:"PtgStr",f:Xxe},26:{n:"PtgSheet",f:vye},27:{n:"PtgEndSheet",f:xye},28:{n:"PtgErr",f:zxe},29:{n:"PtgBool",f:Uxe},30:{n:"PtgInt",f:Wxe},31:{n:"PtgNum",f:Hxe},32:{n:"PtgArray",f:Axe},33:{n:"PtgFunc",f:Dxe},34:{n:"PtgFuncVar",f:Rxe},35:{n:"PtgName",f:qxe},36:{n:"PtgRef",f:Fxe},37:{n:"PtgArea",f:bxe},38:{n:"PtgMemArea",f:Zxe},39:{n:"PtgMemErr",f:rye},40:{n:"PtgMemNoMem",f:nye},41:{n:"PtgMemFunc",f:Qxe},42:{n:"PtgRefErr",f:eye},43:{n:"PtgAreaErr",f:Sxe},44:{n:"PtgRefN",f:jxe},45:{n:"PtgAreaN",f:kxe},46:{n:"PtgMemAreaN",f:yye},47:{n:"PtgMemNoMemN",f:bye},57:{n:"PtgNameX",f:Kxe},58:{n:"PtgRef3d",f:Mxe},59:{n:"PtgArea3d",f:wxe},60:{n:"PtgRefErr3d",f:tye},61:{n:"PtgAreaErr3d",f:_xe},255:{}},Sye={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_ye={1:{n:"PtgElfLel",f:bL},2:{n:"PtgElfRw",f:hye},3:{n:"PtgElfCol",f:iye},6:{n:"PtgElfRwV",f:dye},7:{n:"PtgElfColV",f:lye},10:{n:"PtgElfRadical",f:cye},11:{n:"PtgElfRadicalS",f:fye},13:{n:"PtgElfColS",f:sye},15:{n:"PtgElfColSV",f:oye},16:{n:"PtgElfRadicalLel",f:uye},25:{n:"PtgList",f:gye},29:{n:"PtgSxName",f:mye},255:{}},kye={0:{n:"PtgAttrNoop",f:wye},1:{n:"PtgAttrSemi",f:Pxe},2:{n:"PtgAttrIf",f:Cxe},4:{n:"PtgAttrChoose",f:Exe},8:{n:"PtgAttrGoto",f:Txe},16:{n:"PtgAttrSum",f:Bxe},32:{n:"PtgAttrBaxcel",f:pP},33:{n:"PtgAttrBaxcel",f:pP},64:{n:"PtgAttrSpace",f:Ixe},65:{n:"PtgAttrSpaceSemi",f:Nxe},128:{n:"PtgAttrIfError",f:Oxe},255:{}};function Vd(t,e,r,n){if(n.biff<8)return xn(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Gxe(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Vxe(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(xn(t,e)),i}function Gd(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=gP[i]||gP[Sye[i]],(i===24||i===25)&&(a=(i===24?_ye:kye)[t[t.l+1]]),!a||!a.f?xn(t,e):s.push([a.n,a.f(t,e,r)]);return s}function Aye(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Eye={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Tye(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function wL(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function mP(t,e,r){var n=wL(t,e,r);return n=="#REF"?n:Tye(n,r)}function cn(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,g="";if(!t[0]||!t[0][0])return"";for(var p=-1,m="",v=0,y=t[0].length;v<y;++v){var b=t[0][v];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(t[0][p][1][0]){case 0:m=ur(" ",t[0][p][1][1]);break;case 1:m=ur("\r",t[0][p][1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}c=c+m,p=-1}o.push(c+Eye[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Kf(b[1][1],s,a),o.push(Jf(u,i));break;case"PtgRefN":u=r?Kf(b[1][1],r,a):b[1][1],o.push(Jf(u,i));break;case"PtgRef3d":f=b[1][1],u=Kf(b[1][2],s,a),g=mP(n,f,a),o.push(g+"!"+Jf(u,i));break;case"PtgFunc":case"PtgFuncVar":var S=b[1][0],w=b[1][1];S||(S=0),S&=127;var _=S==0?[]:o.slice(-S);o.length-=S,w==="User"&&(w=_.shift()),o.push(w+"("+_.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":d=XO(b[1][1],r?{s:r}:s,a),o.push(Vx(d,a));break;case"PtgArea":d=XO(b[1][1],s,a),o.push(Vx(d,a));break;case"PtgArea3d":f=b[1][1],d=b[1][2],g=mP(n,f,a),o.push(g+"!"+Vx(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],A=k?k.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var E=b[1][1];h=b[1][2];var C;if(a.biff<=5)E<0&&(E=-E),n[E]&&(C=n[E][h]);else{var T="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][h]&&n[E][h].itab>0&&(T=n.SheetNames[n[E][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[E]&&n[E][h])T+=n[E][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var O=(wL(n,E,a)||"").split(";;");O[h-1]?T=O[h-1]:T+="SH33TJSERRX"}o.push(T);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var N="(",z=")";if(p>=0){switch(m="",t[0][p][1][0]){case 2:N=ur(" ",t[0][p][1][1])+N;break;case 3:N=ur("\r",t[0][p][1][1])+N;break;case 4:z=ur(" ",t[0][p][1][1])+z;break;case 5:z=ur("\r",t[0][p][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}p=-1}o.push(N+o.pop()+z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var W={c:r.c,r:r.r};if(n.sharedf[Ze(u)]){var F=n.sharedf[Ze(u)];o.push(cn(F,s,W,n,a))}else{var L=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(cn(c[1],s,W,n,a)),L=!0;break}L||o.push(b[1])}break;case"PtgArray":o.push("{"+Aye(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&H.indexOf(t[0][v][0])==-1){b=t[0][p];var I=!0;switch(b[1][0]){case 4:I=!1;case 0:m=ur(" ",b[1][1]);break;case 5:I=!1;case 1:m=ur("\r",b[1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((I?m:"")+o.pop()+(I?"":m)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Cye(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],xn(t,e-2)];var o=Gd(t,s,r);return e!==s+a&&(i=Vd(t,e-s-a,o,r)),t.l=n,[o,i]}function Oye(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],xn(t,e-2)];var o=Gd(t,s,r);return e!==s+a&&(i=Vd(t,e-s-a,o,r)),t.l=n,[o,i]}function Pye(t,e,r,n){var a=t.l+e,i=Gd(t,n,r),s;return a!==t.l&&(s=Vd(t,a-t.l,i,r)),[i,s]}function Iye(t,e,r){var n=t.l+e,a,i=t.read_shift(2),s=Gd(t,i,r);return i==65535?[[],xn(t,e-2)]:(e!==i+2&&(a=Vd(t,n-i-2,s,r)),[s,a])}function Nye(t){var e;if(zi(t,t.l+6)!==65535)return[pn(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Fye(t){if(t==null){var e=ge(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return dl(t);return dl(0)}function Zx(t,e,r){var n=t.l+e,a=Ci(t);r.biff==2&&++t.l;var i=Nye(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=Oye(t,n-t.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function jye(t,e,r,n,a){var i=gl(e,r,a),s=Fye(t.v),o=ge(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ge(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=zr([i,s,o,c]);return f}function Ov(t,e,r){var n=t.read_shift(4),a=Gd(t,n,r),i=t.read_shift(4),s=i>0?Vd(t,i,a,r):null;return[a,s]}var Mye=Ov,Pv=Ov,Dye=Ov,Rye=Ov,Lye={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},SL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bye={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vP(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function $ye(t){var e="of:="+t.replace(xk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Qx(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function zye(t){return t.replace(/\./,"!")}var Qf={},Oc={},eh=typeof Map<"u";function wk(t,e,r){var n=0,a=t.length;if(r){if(eh?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=eh?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(eh?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function Iv(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(dn=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=dd(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=om(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Qo(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function vo(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Ki(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function _L(t,e,r,n,a,i){try{n.cellNF&&(t.z=Je[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Kt(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Je[e]==null&&Ki(Lde[e]||"General",e),t.t==="e")t.w=t.w||ps[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sd(t.v);else if(t.t==="d"){var s=Dr(t.v);(s|0)===s?t.w=s.toString(10):t.w=sd(s)}else{if(t.v===void 0)return"";t.w=fl(t.v,Oc)}else t.t==="d"?t.w=Ma(e,Dr(t.v),Oc):t.w=Ma(e,t.v,Oc)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=sm(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=sm(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Wye(t,e,r){if(t&&t["!ref"]){var n=bt(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Uye(t,e){var r=bt(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=it(r))}var Hye=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Xye=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Yye=/<(?:\w:)?hyperlink [^>]*>/mg,Vye=/"(\w*:\w*)"/,Gye=/<(?:\w:)?col\b[^>]*[\/]?>/g,qye=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Kye=/<(?:\w:)?pageMargins[^>]*\/>/g,kL=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Jye=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Zye=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Qye(t,e,r,n,a,i,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(Xye);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(kL);h?Sk(h[0],o,a,r):(h=c.match(Jye))&&tbe(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var g=c.slice(d,d+50).match(Vye);g&&Uye(o,g[1])}var p=c.match(Zye);p&&p[1]&&pbe(p[1],a);var m=[];if(e.cellStyles){var v=c.match(Gye);v&&cbe(m,v)}f&&vbe(f[1],o,e,l,i,s);var y=u.match(qye);y&&(o["!autofilter"]=fbe(y[0]));var b=[],S=u.match(Hye);if(S)for(d=0;d!=S.length;++d)b[d]=bt(S[d].slice(S[d].indexOf('"')+1));var w=u.match(Yye);w&&sbe(o,w,n);var _=u.match(Kye);if(_&&(o["!margins"]=obe(et(_[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=it(l)),e.sheetRows>0&&o["!ref"]){var k=bt(o["!ref"]);e.sheetRows<=+k.e.r&&(k.e.r=e.sheetRows-1,k.e.r>l.e.r&&(k.e.r=l.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>l.e.c&&(k.e.c=l.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=it(k))}return m.length>0&&(o["!cols"]=m),b.length>0&&(o["!merges"]=b),o}function ebe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+it(t[r])+'"/>';return e+"</mergeCells>"}function Sk(t,e,r,n){var a=et(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=xt(Dt(a.codeName)))}function tbe(t,e,r,n,a){Sk(t.slice(0,t.indexOf(">")),r,n,a)}function rbe(t,e,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=bi(It(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Oe("outlinePr",null,c)}!i&&!o||(a[a.length]=Oe("sheetPr",o,s))}var nbe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],abe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ibe(t){var e={sheet:1};return nbe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),abe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=gk(t.password).toString(16).toUpperCase()),Oe("sheetProtection",null,e)}function sbe(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=et(Dt(e[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+xt(i.location))):(i.Target="#"+xt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=bt(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Ze({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function obe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function lbe(t){return Qo(t),Oe("pageMargins",null,t)}function cbe(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=et(e[n],!0);a.hidden&&(a.hidden=Gt(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,mk(a.width)),Qs(a);i<=s;)t[i++]=Jt(a)}}function ube(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=Oe("col",null,Iv(a,n)));return r[r.length]="</cols>",r.join("")}function fbe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function hbe(t,e,r,n){var a=typeof t.ref=="string"?t.ref:it(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Hn(a);s.s.r==s.e.r&&(s.e.r=Hn(e["!ref"]).e.r,a=it(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Oe("autoFilter",null,{ref:a})}var dbe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pbe(t,e){e.Views||(e.Views=[{}]),(t.match(dbe)||[]).forEach(function(r,n){var a=et(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Gt(a.rightToLeft)&&(e.Views[n].RTL=!0)})}function gbe(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Oe("sheetViews",Oe("sheetView",null,a),{})}function mbe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=ps[t.v];break;case"d":n&&n.cellDates?a=Kt(t.v,-1).toISOString():(t=Jt(t),t.t="n",a=""+(t.v=Dr(Kt(t.v)))),typeof t.z>"u"&&(t.z=Je[14]);break;default:a=t.v;break}var o=Kr("v",It(a)),l={r:e},c=vo(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Kr("v",""+wk(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Oe("f",It(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Oe("c",o,l)}var vbe=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=od("v"),s=od("f");return function(l,c,u,f,h,d){for(var g=0,p="",m=[],v=[],y=0,b=0,S=0,w="",_,k,A=0,E=0,C,T,O=0,N=0,z=Array.isArray(d.CellXf),W,F=[],L=[],H=Array.isArray(c),I=[],X={},K=!1,P=!!u.sheetStubs,Y=l.split(e),B=0,G=Y.length;B!=G;++B){p=Y[B].trim();var te=p.length;if(te!==0){var oe=0;e:for(g=0;g<te;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(k=et(p.slice(oe,g),!0),A=k.r!=null?parseInt(k.r,10):A+1,E=-1,u.sheetRows&&u.sheetRows<A)continue;X={},K=!1,k.ht&&(K=!0,X.hpt=parseFloat(k.ht),X.hpx=fu(X.hpt)),k.hidden=="1"&&(K=!0,X.hidden=!0),k.outlineLevel!=null&&(K=!0,X.level=+k.outlineLevel),K&&(I[A-1]=X)}break;case"<":oe=g;break}if(oe>=g)break;if(k=et(p.slice(oe,g),!0),A=k.r!=null?parseInt(k.r,10):A+1,E=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(X={},K=!1,k.ht&&(K=!0,X.hpt=parseFloat(k.ht),X.hpx=fu(X.hpt)),k.hidden=="1"&&(K=!0,X.hidden=!0),k.outlineLevel!=null&&(K=!0,X.level=+k.outlineLevel),K&&(I[A-1]=X)),m=p.slice(g).split(t);for(var le=0;le!=m.length&&m[le].trim().charAt(0)=="<";++le);for(m=m.slice(le),g=0;g!=m.length;++g)if(p=m[g].trim(),p.length!==0){if(v=p.match(r),y=g,b=0,S=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,v!=null&&v.length===2){for(y=0,w=v[1],b=0;b!=w.length&&!((S=w.charCodeAt(b)-64)<1||S>26);++b)y=26*y+S;--y,E=y}else++E;for(b=0;b!=p.length&&p.charCodeAt(b)!==62;++b);if(++b,k=et(p.slice(0,b),!0),k.r||(k.r=Ze({r:A-1,c:E})),w=p.slice(b),_={t:""},(v=w.match(i))!=null&&v[1]!==""&&(_.v=xt(v[1])),u.cellFormula){if((v=w.match(s))!=null&&v[1]!==""){if(_.f=xt(Dt(v[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=dP(_.f)),v[0].indexOf('t="array"')>-1)_.F=(w.match(a)||[])[1],_.F.indexOf(":")>-1&&F.push([bt(_.F),_.F]);else if(v[0].indexOf('t="shared"')>-1){T=et(v[0]);var re=xt(Dt(v[1]));u.xlfn||(re=dP(re)),L[parseInt(T.si,10)]=[T,re,k.r]}}else(v=w.match(/<f[^>]*\/>/))&&(T=et(v[0]),L[T.si]&&(_.f=dxe(L[T.si][1],L[T.si][2],k.r)));var se=ar(k.r);for(b=0;b<F.length;++b)se.r>=F[b][0].s.r&&se.r<=F[b][0].e.r&&se.c>=F[b][0].s.c&&se.c<=F[b][0].e.c&&(_.F=F[b][1])}if(k.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(P)_.t="z";else continue;else _.t=k.t||"n";switch(f.s.c>E&&(f.s.c=E),f.e.c<E&&(f.e.c=E),_.t){case"n":if(_.v==""||_.v==null){if(!P)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!P)continue;_.t="z"}else C=Qf[parseInt(_.v,10)],_.v=C.t,_.r=C.r,u.cellHTML&&(_.h=C.h);break;case"str":_.t="s",_.v=_.v!=null?Dt(_.v):"",u.cellHTML&&(_.h=ek(_.v));break;case"inlineStr":v=w.match(n),_.t="s",v!=null&&(C=pk(v[1]))?(_.v=C.t,u.cellHTML&&(_.h=C.h)):_.v="";break;case"b":_.v=Gt(_.v);break;case"d":u.cellDates?_.v=Kt(_.v,1):(_.v=Dr(Kt(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=ER[_.v];break}if(O=N=0,W=null,z&&k.s!==void 0&&(W=d.CellXf[k.s],W!=null&&(W.numFmtId!=null&&(O=W.numFmtId),u.cellStyles&&W.fillId!=null&&(N=W.fillId))),_L(_,O,N,u,h,d),u.cellDates&&z&&_.t=="n"&&Mu(Je[O])&&(_.t="d",_.v=Tv(_.v)),k.cm&&u.xlmeta){var xe=(u.xlmeta.Cell||[])[+k.cm-1];xe&&xe.type=="XLDAPR"&&(_.D=!0)}if(H){var D=ar(k.r);c[D.r]||(c[D.r]=[]),c[D.r][D.c]=_}else c[k.r]=_}}}}I.length>0&&(c["!rows"]=I)}}();function xbe(t,e,r,n){var a=[],i=[],s=bt(t["!ref"]),o="",l,c="",u=[],f=0,h=0,d=t["!rows"],g=Array.isArray(t),p={r:c},m,v=-1;for(h=s.s.c;h<=s.e.c;++h)u[h]=nr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],c=xr(f),h=s.s.c;h<=s.e.c;++h){l=u[h]+c;var y=g?(t[f]||[])[h]:t[l];y!==void 0&&(o=mbe(y,l,t,e))!=null&&i.push(o)}(i.length>0||d&&d[f])&&(p={r:c},d&&d[f]&&(m=d[f],m.hidden&&(p.hidden=1),v=-1,m.hpx?v=pd(m.hpx):m.hpt&&(v=m.hpt),v>-1&&(p.ht=v,p.customHeight=1),m.level&&(p.outlineLevel=m.level)),a[a.length]=Oe("row",i.join(""),p))}if(d)for(;f<d.length;++f)d&&d[f]&&(p={r:f+1},m=d[f],m.hidden&&(p.hidden=1),v=-1,m.hpx?v=pd(m.hpx):m.hpt&&(v=m.hpt),v>-1&&(p.ht=v,p.customHeight=1),m.level&&(p.outlineLevel=m.level),a[a.length]=Oe("row","",p));return a.join("")}function AL(t,e,r,n){var a=[yr,Oe("worksheet",null,{xmlns:Tl[0],"xmlns:r":Nr.r})],i=r.SheetNames[t],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=bt(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=it(u)}n||(n={}),l["!comments"]=[];var f=[];rbe(l,r,t,e,a),a[a.length]=Oe("dimension",null,{ref:c}),a[a.length]=gbe(l,e,t,r),e.sheetFormat&&(a[a.length]=Oe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=ube(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=xbe(l,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=ibe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=hbe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=ebe(l["!merges"]));var h=-1,d,g=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(d={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=Pt(n,-1,It(p[1].Target).replace(/#.*$/,""),ut.HLINK),d["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(d.location=It(p[1].Target.slice(h+1))),p[1].Tooltip&&(d.tooltip=It(p[1].Tooltip)),a[a.length]=Oe("hyperlink",null,d))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=lbe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Kr("ignoredErrors",Oe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(g=Pt(n,-1,"../drawings/drawing"+(t+1)+".xml",ut.DRAW),a[a.length]=Oe("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=Pt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ut.VML),a[a.length]=Oe("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ybe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function bbe(t,e,r){var n=ge(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=pd(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,d=u<<10;d<u+1<<10;++d){c.c=d;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Ze(c)];g&&(f<0&&(f=d),h=d)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function wbe(t,e,r,n){var a=bbe(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&we(t,0,a)}var Sbe=Il,_be=Lu;function kbe(){}function Abe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=C0e(t),r}function Ebe(t,e,r){r==null&&(r=ge(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return nm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),wR(t,r),r.slice(0,r.l)}function Tbe(t){var e=La(t);return[e]}function Cbe(t,e,r){return r==null&&(r=ge(8)),Cl(e,r)}function Obe(t){var e=Ol(t);return[e]}function Pbe(t,e,r){return r==null&&(r=ge(4)),Pl(e,r)}function Ibe(t){var e=La(t),r=t.read_shift(1);return[e,r,"b"]}function Nbe(t,e,r){return r==null&&(r=ge(9)),Cl(e,r),r.write_shift(1,t.v?1:0),r}function Fbe(t){var e=Ol(t),r=t.read_shift(1);return[e,r,"b"]}function jbe(t,e,r){return r==null&&(r=ge(5)),Pl(e,r),r.write_shift(1,t.v?1:0),r}function Mbe(t){var e=La(t),r=t.read_shift(1);return[e,r,"e"]}function Dbe(t,e,r){return r==null&&(r=ge(9)),Cl(e,r),r.write_shift(1,t.v),r}function Rbe(t){var e=Ol(t),r=t.read_shift(1);return[e,r,"e"]}function Lbe(t,e,r){return r==null&&(r=ge(8)),Pl(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Bbe(t){var e=La(t),r=t.read_shift(4);return[e,r,"s"]}function $be(t,e,r){return r==null&&(r=ge(12)),Cl(e,r),r.write_shift(4,e.v),r}function zbe(t){var e=Ol(t),r=t.read_shift(4);return[e,r,"s"]}function Wbe(t,e,r){return r==null&&(r=ge(8)),Pl(e,r),r.write_shift(4,e.v),r}function Ube(t){var e=La(t),r=pn(t);return[e,r,"n"]}function Hbe(t,e,r){return r==null&&(r=ge(16)),Cl(e,r),dl(t.v,r),r}function EL(t){var e=Ol(t),r=pn(t);return[e,r,"n"]}function Xbe(t,e,r){return r==null&&(r=ge(12)),Pl(e,r),dl(t.v,r),r}function Ybe(t){var e=La(t),r=ck(t);return[e,r,"n"]}function Vbe(t,e,r){return r==null&&(r=ge(12)),Cl(e,r),SR(t.v,r),r}function Gbe(t){var e=Ol(t),r=ck(t);return[e,r,"n"]}function qbe(t,e,r){return r==null&&(r=ge(8)),Pl(e,r),SR(t.v,r),r}function Kbe(t){var e=La(t),r=sk(t);return[e,r,"is"]}function Jbe(t){var e=La(t),r=mn(t);return[e,r,"str"]}function Zbe(t,e,r){return r==null&&(r=ge(12+4*t.v.length)),Cl(e,r),Wr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Qbe(t){var e=Ol(t),r=mn(t);return[e,r,"str"]}function e1e(t,e,r){return r==null&&(r=ge(8+4*t.v.length)),Pl(e,r),Wr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function t1e(t,e,r){var n=t.l+e,a=La(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=Pv(t,n-t.l,r);s[3]=cn(o,null,a,r.supbooks,r)}else t.l=n;return s}function r1e(t,e,r){var n=t.l+e,a=La(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=Pv(t,n-t.l,r);s[3]=cn(o,null,a,r.supbooks,r)}else t.l=n;return s}function n1e(t,e,r){var n=t.l+e,a=La(t);a.r=r["!row"];var i=pn(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=Pv(t,n-t.l,r);s[3]=cn(o,null,a,r.supbooks,r)}else t.l=n;return s}function a1e(t,e,r){var n=t.l+e,a=La(t);a.r=r["!row"];var i=mn(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=Pv(t,n-t.l,r);s[3]=cn(o,null,a,r.supbooks,r)}else t.l=n;return s}var i1e=Il,s1e=Lu;function o1e(t,e){return e==null&&(e=ge(4)),e.write_shift(4,t),e}function l1e(t,e){var r=t.l+e,n=Il(t),a=ok(t),i=mn(t),s=mn(t),o=mn(t);t.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function c1e(t,e){var r=ge(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Lu({s:ar(t[0]),e:ar(t[0])},r),lk("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Wr(a||"",r),Wr(t[1].Tooltip||"",r),Wr("",r),r.slice(0,r.l)}function u1e(){}function f1e(t,e,r){var n=t.l+e,a=_R(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Mye(t,n-t.l,r);s[1]=o}else t.l=n;return s}function h1e(t,e,r){var n=t.l+e,a=Il(t),i=[a];if(r.cellFormula){var s=Rye(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function d1e(t,e,r){r==null&&(r=ge(18));var n=Iv(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var TL=["left","right","top","bottom","header","footer"];function p1e(t){var e={};return TL.forEach(function(r){e[r]=pn(t)}),e}function g1e(t,e){return e==null&&(e=ge(6*8)),Qo(t),TL.forEach(function(r){dl(t[r],e)}),e}function m1e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function v1e(t,e,r){r==null&&(r=ge(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function x1e(t){var e=ge(24);return e.write_shift(4,4),e.write_shift(4,1),Lu(t,e),e}function y1e(t,e){return e==null&&(e=ge(16*4+2)),e.write_shift(2,t.password?gk(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function b1e(){}function w1e(){}function S1e(t,e,r,n,a,i,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,g,p,m,v,y,b,S,w,_=[];o.biff=12,o["!row"]=0;var k=0,A=!1,E=[],C={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=C,T.arrayf=E,T.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var O=0;O<a.Names.length;++O)T[0][O+1]=a.Names[O];var N=[],z=[],W=!1;gd[16]={n:"BrtShortReal",f:EL};var F;if(ds(t,function(I,X,K){if(!h)switch(K){case 148:c=I;break;case 0:d=I,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),S=xr(m=d.r),o["!row"]=d.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=fu(I.hpt)),z[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:I[2]},I[2]){case"n":g.v=I[1];break;case"s":b=Qf[I[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!I[1];break;case"e":g.v=I[1],o.cellText!==!1&&(g.w=ps[g.v]);break;case"str":g.t="s",g.v=I[1];break;case"is":g.t="s",g.v=I[1].t;break}if((p=s.CellXf[I[0].iStyleRef])&&_L(g,p.numFmtId,null,o,i,s),v=I[0].c==-1?v+1:I[0].c,o.dense?(l[m]||(l[m]=[]),l[m][v]=g):l[nr(v)+S]=g,o.cellFormula){for(A=!1,k=0;k<E.length;++k){var P=E[k];d.r>=P[0].s.r&&d.r<=P[0].e.r&&v>=P[0].s.c&&v<=P[0].e.c&&(g.F=it(P[0]),A=!0)}!A&&I.length>3&&(g.f=I[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),o.cellDates&&p&&g.t=="n"&&Mu(Je[p.numFmtId])){var Y=Wo(g.v);Y&&(g.t="d",g.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},v=I[0].c==-1?v+1:I[0].c,o.dense?(l[m]||(l[m]=[]),l[m][v]=g):l[nr(v)+S]=g,u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 176:_.push(I);break;case 49:F=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var B=n["!id"][I.relId];for(B?(I.Target=B.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=B):I.relId==""&&(I.Target="#"+I.loc),m=I.rfx.s.r;m<=I.rfx.e.r;++m)for(v=I.rfx.s.c;v<=I.rfx.e.c;++v)o.dense?(l[m]||(l[m]=[]),l[m][v]||(l[m][v]={t:"z",v:void 0}),l[m][v].l=I):(y=Ze({c:v,r:m}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=I);break;case 426:if(!o.cellFormula)break;E.push(I),w=o.dense?l[m][v]:l[nr(v)+S],w.f=cn(I[1],u,{r:d.r,c:v},T,o),w.F=it(I[0]);break;case 427:if(!o.cellFormula)break;C[Ze(I[0].s)]=I[1],w=o.dense?l[m][v]:l[nr(v)+S],w.f=cn(I[1],u,{r:d.r,c:v},T,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)N[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},W||(W=!0,mk(I.w/256)),Qs(N[I.e+1]);break;case 161:l["!autofilter"]={ref:it(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+K.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=it(c||u)),o.sheetRows&&l["!ref"]){var L=bt(l["!ref"]);o.sheetRows<=+L.e.r&&(L.e.r=o.sheetRows-1,L.e.r>u.e.r&&(L.e.r=u.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>u.e.c&&(L.e.c=u.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),l["!fullref"]=l["!ref"],l["!ref"]=it(L))}return _.length>0&&(l["!merges"]=_),N.length>0&&(l["!cols"]=N),z.length>0&&(l["!rows"]=z),l}function _1e(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Jt(e),e.z=e.z||Je[14],e.v=Dr(Kt(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=vo(a.cellXfs,e,a),e.l&&i["!links"].push([Ze(l),e.l]),e.c&&i["!comments"].push([Ze(l),e.c]),e.t){case"s":case"str":return a.bookSST?(o=wk(a.Strings,e.v,a.revStrings),l.t="s",l.v=o,s?we(t,18,Wbe(e,l)):we(t,7,$be(e,l))):(l.t="str",s?we(t,17,e1e(e,l)):we(t,6,Zbe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?we(t,13,qbe(e,l)):we(t,2,Vbe(e,l)):s?we(t,16,Xbe(e,l)):we(t,5,Hbe(e,l)),!0;case"b":return l.t="b",s?we(t,15,jbe(e,l)):we(t,4,Nbe(e,l)),!0;case"e":return l.t="e",s?we(t,14,Lbe(e,l)):we(t,3,Dbe(e,l)),!0}return s?we(t,12,Pbe(e,l)):we(t,1,Cbe(e,l)),!0}function k1e(t,e,r,n){var a=bt(e["!ref"]||"A1"),i,s="",o=[];we(t,145);var l=Array.isArray(e),c=a.e.r;e["!rows"]&&(c=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=xr(u),wbe(t,e,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(o[h]=nr(h)),i=o[h]+s;var d=l?(e[u]||[])[h]:e[i];if(!d){f=!1;continue}f=_1e(t,d,u,h,n,e,f)}}we(t,146)}function A1e(t,e){!e||!e["!merges"]||(we(t,177,o1e(e["!merges"].length)),e["!merges"].forEach(function(r){we(t,176,s1e(r))}),we(t,178))}function E1e(t,e){!e||!e["!cols"]||(we(t,390),e["!cols"].forEach(function(r,n){r&&we(t,60,d1e(n,r))}),we(t,391))}function T1e(t,e){!e||!e["!ref"]||(we(t,648),we(t,649,x1e(bt(e["!ref"]))),we(t,650))}function C1e(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Pt(r,-1,n[1].Target.replace(/#.*$/,""),ut.HLINK);we(t,494,c1e(n,a))}}),delete e["!links"]}function O1e(t,e,r,n){if(e["!comments"].length>0){var a=Pt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ut.VML);we(t,551,lk("rId"+a)),e["!legacy"]=a}}function P1e(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:it(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Hn(i);o.s.r==o.e.r&&(o.e.r=Hn(e["!ref"]).e.r,i=it(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),we(t,161,Lu(bt(i))),we(t,162)}}function I1e(t,e,r){we(t,133),we(t,137,v1e(e,r)),we(t,138),we(t,134)}function N1e(t,e){e["!protect"]&&we(t,535,y1e(e["!protect"]))}function F1e(t,e,r,n){var a=Un(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=bt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],we(a,129),(r.vbaraw||s["!outline"])&&we(a,147,Ebe(o,s["!outline"])),we(a,148,_be(l)),I1e(a,s,r.Workbook),E1e(a,s),k1e(a,s,t,e),N1e(a,s),P1e(a,s,r,t),A1e(a,s),C1e(a,s,n),s["!margins"]&&we(a,476,g1e(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&T1e(a,s),O1e(a,s,t,n),we(a,130),a.end()}function j1e(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var a=xt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function M1e(t,e,r,n,a,i){var s=i||{"!type":"chart"};if(!t)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=j1e(f);u.s.r=u.s.c=0,u.e.c=o,c=nr(o),h[0].forEach(function(d,g){s[c+xr(g)]={t:"n",v:d,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=it(u)),s}function D1e(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(kL);return o&&Sk(o[0],i,a,r),(s=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function R1e(t,e){t.l+=10;var r=mn(t);return{name:r}}function L1e(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ds(t,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var _k=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],B1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$1e=[],z1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xP(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Gt(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function yP(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Gt(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function CL(t){yP(t.WBProps,_k),yP(t.CalcPr,z1e),xP(t.WBView,B1e),xP(t.Sheets,$1e),Oc.date1904=Gt(t.WBProps.date1904)}function W1e(t){return!t.Workbook||!t.Workbook.WBProps?"false":Gt(t.Workbook.WBProps.date1904)?"true":"false"}var U1e="][*?/\\".split("");function OL(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return U1e.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function H1e(t,e,r){t.forEach(function(n,a){OL(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function X1e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];H1e(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)Wye(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Y1e=/<\w+:workbook/;function V1e(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(t.replace(yn,function(l,c){var u=et(l);switch(Ti(u[0])){case"<?xml":break;case"<workbook":l.match(Y1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":_k.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Gt(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Dt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=xt(Dt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dt(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Gt(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=xt(Dt(t.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Tl.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return CL(r),r}function PL(t){var e=[yr];e[e.length]=Oe("workbook",null,{xmlns:Tl[0],"xmlns:r":Nr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(_k.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Oe("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:It(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Oe("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Oe("definedName",It(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function G1e(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=ow(t),r.name=mn(t),r}function q1e(t,e){return e||(e=ge(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),lk(t.strRelID,e),Wr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function K1e(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?mn(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function J1e(t,e){e||(e=ge(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),wR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Z1e(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Q1e(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=O0e(t),s=Dye(t,0,r),o=ok(t);t.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function ewe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],gd[16]={n:"BrtFRTArchID$",f:Z1e},ds(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=cn(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),CL(r),r.Names=i,r.supbooks=s,r}function twe(t,e){we(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};we(t,156,q1e(a))}we(t,144)}function rwe(t,e){e||(e=ge(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Wr("SheetJS",e),Wr(Kg.version,e),Wr(Kg.version,e),Wr("7262",e),e.length>e.l?e.slice(0,e.l):e}function nwe(t,e){e||(e=ge(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function awe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(we(t,135),we(t,158,nwe(a)),we(t,136))}}function iwe(t,e){var r=Un();return we(r,131),we(r,128,rwe()),we(r,153,J1e(t.Workbook&&t.Workbook.WBProps||null)),awe(r,t),twe(r,t),we(r,132),r.end()}function swe(t,e,r){return e.slice(-4)===".bin"?ewe(t,r):V1e(t,r)}function owe(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?S1e(t,n,r,a,i,s,o):Qye(t,n,r,a,i,s,o)}function lwe(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?L1e(t,n,r,a,i):D1e(t,n,r,a,i)}function cwe(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?fxe():hxe()}function uwe(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?cxe():uxe()}function fwe(t,e,r,n){return e.slice(-4)===".bin"?sve(t,r,n):Gme(t,r,n)}function hwe(t,e,r){return uL(t,r)}function dwe(t,e,r){return e.slice(-4)===".bin"?dme(t,r):ume(t,r)}function pwe(t,e,r){return e.slice(-4)===".bin"?axe(t,r):qve(t,r)}function gwe(t,e,r){return e.slice(-4)===".bin"?Yve(t):Hve(t)}function mwe(t,e,r,n){return r.slice(-4)===".bin"?Vve(t,e,r,n):void 0}function vwe(t,e,r){return e.slice(-4)===".bin"?zve(t,e,r):Uve(t,e,r)}function xwe(t,e,r){return(e.slice(-4)===".bin"?iwe:PL)(t)}function ywe(t,e,r,n,a){return(e.slice(-4)===".bin"?F1e:AL)(t,r,n,a)}function bwe(t,e,r){return(e.slice(-4)===".bin"?mve:lL)(t,r)}function wwe(t,e,r){return(e.slice(-4)===".bin"?mme:eL)(t,r)}function Swe(t,e,r){return(e.slice(-4)===".bin"?ixe:dL)(t)}function _we(t){return(t.slice(-4)===".bin"?Wve:fL)()}var IL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,NL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function za(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(IL),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(NL),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function kwe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(IL),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(NL),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var th;function Awe(t,e){var r=th[t]||xt(t);return r==="General"?fl(e):Ma(r,e)}function Ewe(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Gt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Kt(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[xt(e)]=a}function Twe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||ps[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sd(t.v):t.w=fl(t.v):t.w=Awe(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=th[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Mu(n)){var a=Wo(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Cwe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=$me[n.Pattern]||n.Pattern)}t[e.ID]=e}function Owe(t,e,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Gt(t);break;case"String":n.t="s",n.r=DO(xt(t)),n.v=t.indexOf("<")>-1?xt(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Kt(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=xt(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=ER[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=DO(e||t));break}if(Twe(n,u,c),c.cellFormula!==!1)if(n.Formula){var p=xt(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Cc(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Cc("RC:RC",a):n.ArrayRange&&(n.F=Cc(n.ArrayRange,a),l.push([bt(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(d.forEach(function(m){!h.patternType&&m.patternType&&(h.patternType=m.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Pwe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function ey(t,e){var r=e||{};Du();var n=Cf(tk(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dt(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Jt(r);return s.type="string",uu.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Me){a.indexOf("<"+Me)>=0&&(i=!0)}),i)return gSe(n,r);th={"General Number":"General","General Date":Je[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Je[15],"Short Date":Je[14],"Long Time":Je[19],"Medium Time":Je[18],"Short Time":Je[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Je[2],Standard:Je[4],Percent:Je[10],Scientific:Je[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",g={},p={},m=za('<Data ss:Type="String">'),v=0,y=0,b=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},_={},k="",A=0,E=[],C={},T={},O=0,N=[],z=[],W={},F=[],L,H=!1,I=[],X=[],K={},P=0,Y=0,B={Sheets:[],WBProps:{date1904:!1}},G={};cd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=cd.exec(n);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Owe(n.slice(v,o.index),k,m,l[l.length-1][0]=="comment"?W:g,{c:y,r:b},w,F[y],p,I,r):(k="",m=za(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(z.length>0&&(g.c=z),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=g):h[nr(y)+xr(b)]=g),g.HRef&&(g.l={Target:xt(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=y+(parseInt(g.MergeAcross,10)|0),Y=b+(parseInt(g.MergeDown,10)|0),E.push({s:{c:y,r:b},e:{c:P,r:Y}})),!r.sheetStubs)g.MergeAcross?y=P+1:++y;else if(g.MergeAcross||g.MergeDown){for(var oe=y;oe<=P;++oe)for(var le=b;le<=Y;++le)(oe>y||le>b)&&(r.dense?(h[le]||(h[le]=[]),h[le][oe]={t:"z"}):h[nr(oe)+xr(le)]={t:"z"});y=P+1}else++y;else g=kwe(o[0]),g.Index&&(y=+g.Index-1),y<S.s.c&&(S.s.c=y),y>S.e.c&&(S.e.c=y),o[0].slice(-2)==="/>"&&++y,z=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<S.s.r&&(S.s.r=b),b>S.e.r&&(S.e.r=b),o[0].slice(-2)==="/>"&&(p=za(o[0]),p.Index&&(b=+p.Index-1)),y=0,++b):(p=za(o[0]),p.Index&&(b=+p.Index-1),K={},(p.AutoFitHeight=="0"||p.Height)&&(K.hpx=parseInt(p.Height,10),K.hpt=pd(K.hpx),X[b]=K),p.Hidden=="1"&&(K.hidden=!0,X[b]=K));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(h["!ref"]=it(S),r.sheetRows&&r.sheetRows<=S.e.r&&(h["!fullref"]=h["!ref"],S.e.r=r.sheetRows-1,h["!ref"]=it(S))),E.length&&(h["!merges"]=E),F.length>0&&(h["!cols"]=F),X.length>0&&(h["!rows"]=X),u[d]=h}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,l.push([o[3],!1]),c=za(o[0]),d=xt(c.Name),h=r.dense?[]:{},E=[],I=[],X=[],G={name:d,Hidden:0},B.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),F=[],H=!1}break;case"style":o[1]==="/"?Cwe(w,_,r):_=za(o[0]);break;case"numberformat":_.nf=xt(za(o[0]).Format||"General"),th[_.nf]&&(_.nf=th[_.nf]);for(var re=0;re!=392&&Je[re]!=_.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Je[re]==null){Ki(_.nf,re);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(L=za(o[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!H&&L.wpx>10){H=!0,dn=sL;for(var se=0;se<F.length;++se)F[se]&&Qs(F[se])}H&&Qs(L),F[L.Index-1||F.length]=L;for(var xe=0;xe<+L.Span;++xe)F[F.length]=Jt(L);break;case"namedrange":if(o[1]==="/")break;B.Names||(B.Names=[]);var D=et(o[0]),Ce={Name:D.Name,Ref:Cc(D.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Ce.Sheet=B.Sheets.length-1),B.Names.push(Ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;_.Interior=za(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?epe(C,te,n.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Pwe(W),z.push(W)}else l.push([o[3],!1]),c=za(o[0]),W={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ee=za(o[0]);h["!autofilter"]={ref:Cc(Ee.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return kP(n,r);var $e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:$e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:$e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:$e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:$e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(O,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else O=o.index+o[0].length;break;case"header":h["!margins"]||Qo(h["!margins"]={},"xlml"),isNaN(+et(o[0]).Margin)||(h["!margins"].header=+et(o[0]).Margin);break;case"footer":h["!margins"]||Qo(h["!margins"]={},"xlml"),isNaN(+et(o[0]).Margin)||(h["!margins"].footer=+et(o[0]).Margin);break;case"pagemargins":var ze=et(o[0]);h["!margins"]||Qo(h["!margins"]={},"xlml"),isNaN(+ze.Top)||(h["!margins"].top=+ze.Top),isNaN(+ze.Left)||(h["!margins"].left=+ze.Left),isNaN(+ze.Right)||(h["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(h["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:$e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:$e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:$e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:$e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:$e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:$e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:$e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:$e=!1}break;case"smarttags":break;default:$e=!1;break}if($e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ewe(T,te,N,n.slice(O,o.index)):(N=o,O=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ie={};return!r.bookSheets&&!r.bookProps&&(ie.Sheets=u),ie.SheetNames=f,ie.Workbook=B,ie.SSF=Jt(Je),ie.Props=C,ie.Custprops=T,ie}function pw(t,e){switch(Ak(e=e||{}),e.type||"base64"){case"base64":return ey(oa(t),e);case"binary":case"buffer":case"file":return ey(t,e);case"array":return ey(go(t),e)}}function Iwe(t,e){var r=[];return t.Props&&r.push(tpe(t.Props,e)),t.Custprops&&r.push(rpe(t.Props,t.Custprops)),r.join("")}function Nwe(){return""}function Fwe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(Oe("NumberFormat",null,{"ss:Format":It(Je[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(Oe("Style",i.join(""),s))}),Oe("Styles",r.join(""))}function FL(t){return Oe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+yk(t.Ref,{r:0,c:0})})}function jwe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(FL(a)))}return Oe("Names",r.join(""))}function Mwe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(FL(o)))}return i.join("")}function Dwe(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Oe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Oe("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Oe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Oe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(Kr("ProtectContents","True")),t["!protect"].objects&&a.push(Kr("ProtectObjects","True")),t["!protect"].scenarios&&a.push(Kr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(Kr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(Kr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":Oe("WorksheetOptions",a.join(""),{xmlns:Jn.x})}function Rwe(t){return t.map(function(e){var r=a0e(e.t||""),n=Oe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Oe("Comment",n,{"ss:Author":e.a})}).join("")}function Lwe(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+It(yk(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=ar(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=It(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=It(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=ps[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Je[14]);break;case"s":f="String",h=n0e(t.v||"");break}var d=vo(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=s.c+1;var g=t.v!=null?h:"",p=t.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(t.c||[]).length>0&&(p+=Rwe(t.c)),Oe("Cell",p,o)}function Bwe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=fu(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function $we(t,e,r,n){if(!t["!ref"])return"";var a=bt(t["!ref"]),i=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(m,v){Qs(m);var y=!!m.width,b=Iv(v,m),S={"ss:Index":v+1};y&&(S["ss:Width"]=hd(b.width)),m.hidden&&(S["ss:Hidden"]="1"),o.push(Oe("Column",null,S))});for(var l=Array.isArray(t),c=a.s.r;c<=a.e.r;++c){for(var u=[Bwe(c,(t["!rows"]||[])[c])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>c)&&!(i[s].e.c<f)&&!(i[s].e.r<c)){(i[s].s.c!=f||i[s].s.r!=c)&&(h=!0);break}if(!h){var d={r:c,c:f},g=Ze(d),p=l?(t[c]||[])[f]:t[g];u.push(Lwe(p,g,t,e,r,n,d))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function zwe(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?Mwe(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?$we(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Dwe(i,e,t,r)),n.join("")}function Wwe(t,e){e||(e={}),t.SSF||(t.SSF=Jt(Je)),t.SSF&&(Du(),kv(t.SSF),e.revssf=Ev(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],vo(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Iwe(t,e)),r.push(Nwe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Oe("Worksheet",zwe(n,e,t),{"ss:Name":It(t.SheetNames[n])}));return r[2]=Fwe(t,e),r[3]=jwe(t),yr+Oe("Workbook",r.join(""),{xmlns:Jn.ss,"xmlns:o":Jn.o,"xmlns:x":Jn.x,"xmlns:ss":Jn.ss,"xmlns:dt":Jn.dt,"xmlns:html":Jn.html})}function Uwe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=j0e(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=M0e(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Hwe=[60,1084,2066,2165,2175];function Xwe(t,e,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=zi(r,r.l),c=gw[l],u=0;c!=null&&Hwe.indexOf(l)>-1;)i=zi(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=gw[l=zi(r,r.l)];var f=zr(s);Gr(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,a)}function di(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Je[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||ps[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sd(t.v):t.w=fl(t.v):t.w=Ma(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Mu(Je[n]||String(n))){var a=Wo(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function J0(t,e,r){return{v:t,ixfe:e,t:r}}function Ywe(t,e){var r={opts:{}},n={},a=e.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,g,p,m,v={},y=[],b,S,w=[],_=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},E=function(je){return je<8?Ko[je]:je<64&&_[je-8]||Ko[je]},C=function(je,tt,br){var jt=tt.XF.data;if(!(!jt||!jt.patternType||!br||!br.cellStyles)){tt.s={},tt.s.patternType=jt.patternType;var fi;(fi=fd(E(jt.icvFore)))&&(tt.s.fgColor={rgb:fi}),(fi=fd(E(jt.icvBack)))&&(tt.s.bgColor={rgb:fi})}},T=function(je,tt,br){if(!(K>1)&&!(br.sheetRows&&je.r>=br.sheetRows)){if(br.cellStyles&&tt.XF&&tt.XF.data&&C(je,tt,br),delete tt.ixfe,delete tt.XF,f=je,h=Ze(je),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),je.r<s.s.r&&(s.s.r=je.r),je.c<s.s.c&&(s.s.c=je.c),je.r+1>s.e.r&&(s.e.r=je.r+1),je.c+1>s.e.c&&(s.e.c=je.c+1),br.cellFormula&&tt.f){for(var jt=0;jt<y.length;++jt)if(!(y[jt][0].s.c>je.c||y[jt][0].s.r>je.r)&&!(y[jt][0].e.c<je.c||y[jt][0].e.r<je.r)){tt.F=it(y[jt][0]),(y[jt][0].s.c!=je.c||y[jt][0].s.r!=je.r)&&delete tt.f,tt.f&&(tt.f=""+cn(y[jt][1],s,je,I,O));break}}br.dense?(a[je.r]||(a[je.r]=[]),a[je.r][je.c]=tt):a[h]=tt}},O={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var N,z=[],W=[],F=[],L=[],H=!1,I=[];I.SheetNames=O.snames,I.sharedf=O.sharedf,I.arrayf=O.arrayf,I.names=[],I.XTI=[];var X=0,K=0,P=0,Y=[],B=[],G;O.codepage=1200,Qa(1200);for(var te=!1;t.l<t.length-1;){var oe=t.l,le=t.read_shift(2);if(le===0&&X===10)break;var re=t.l===t.length?0:t.read_shift(2),se=gw[le];if(se&&se.f){if(e.bookSheets&&X===133&&le!==133)break;if(X=le,se.r===2||se.r==12){var xe=t.read_shift(2);if(re-=2,!O.enc&&xe!==le&&((xe&255)<<8|xe>>8)!==le)throw new Error("rt mismatch: "+xe+"!="+le);se.r==12&&(t.l+=10,re-=10)}var D={};if(le===10?D=se.f(t,re,O):D=Xwe(le,se,t,re,O),K==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(le){case 34:r.opts.Date1904=k.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(O.enc||(t.l=0),O.enc=D,!e.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=D;break;case 66:var Ce=Number(D);switch(Ce){case 21010:Ce=1200;break;case 32768:Ce=1e4;break;case 32769:Ce=1252;break}Qa(O.codepage=Ce),te=!0;break;case 317:O.rrtabid=D;break;case 25:O.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:O.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:w.push(D);break;case 430:I.push([D]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(D);break;case 24:case 536:G={Name:D.Name,Ref:cn(D.rgce,s,null,I,O)},D.itab>0&&(G.Sheet=D.itab-1),I.names.push(G),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(B[D.itab-1]={ref:it(D.rgce[0][0][1][2])});break;case 22:O.ExternCount=D;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(D),I.XTI=I.XTI.concat(D);break;case 2196:if(O.biff<8)break;G!=null&&(G.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&O.WTF&&console.error("Password verifier: "+D);break;case 133:i[D.pos]=D,O.snames.push(D.name);break;case 10:{if(--K)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=it(s),e.sheetRows&&e.sheetRows<=s.e.r){var Ee=s.e.r;s.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=it(s),s.e.r=Ee}s.e.r++,s.e.c++}z.length>0&&(a["!merges"]=z),W.length>0&&(a["!objects"]=W),F.length>0&&(a["!cols"]=F),L.length>0&&(a["!rows"]=L),k.Sheets.push(A)}c===""?u=a:n[c]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),O.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(O.biff=5,te=!0,Qa(O.codepage=28591)),O.biff==8&&D.BIFFVer==0&&D.dt==16&&(O.biff=2),K++)break;if(a=e.dense?[]:{},O.biff<8&&!te&&(te=!0,Qa(O.codepage=e.codepage||1252)),O.biff<5||D.BIFFVer==0&&D.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var $e={pos:t.l-re,name:c};i[$e.pos]=$e,O.snames.push(c)}else c=(i[oe]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),z=[],W=[],O.arrayf=y=[],F=[],L=[],H=!1,A={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[D.r]||[])[D.c]:a[Ze({c:D.c,r:D.r})])&&++D.c,b={ixfe:D.ixfe,XF:w[D.ixfe]||{},v:D.val,t:"n"},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e);break;case 5:case 517:b={ixfe:D.ixfe,XF:w[D.ixfe],v:D.val,t:D.t},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e);break;case 638:b={ixfe:D.ixfe,XF:w[D.ixfe],v:D.rknum,t:"n"},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e);break;case 189:for(var ze=D.c;ze<=D.C;++ze){var ie=D.rkrec[ze-D.c][0];b={ixfe:ie,XF:w[ie],v:D.rkrec[ze-D.c][1],t:"n"},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:ze,r:D.r},b,e)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(b=J0(D.val,D.cell.ixfe,D.tt),b.XF=w[b.ixfe],e.cellFormula){var Me=D.formula;if(Me&&Me[0]&&Me[0][0]&&Me[0][0][0]=="PtgExp"){var Qe=Me[0][0][1][0],M=Me[0][0][1][1],Z=Ze({r:Qe,c:M});v[Z]?b.f=""+cn(D.formula,s,D.cell,I,O):b.F=((e.dense?(a[Qe]||[])[M]:a[Z])||{}).F}else b.f=""+cn(D.formula,s,D.cell,I,O)}P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T(D.cell,b,e),o=D}break;case 7:case 519:if(o)o.val=D,b=J0(D,o.cell.ixfe,"s"),b.XF=w[b.ixfe],e.cellFormula&&(b.f=""+cn(o.formula,s,o.cell,I,O)),P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(D);var ue=Ze(D[0].s);if(d=e.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[ue],e.cellFormula&&d){if(!o||!ue||!d)break;d.f=""+cn(D[1],s,D[0],I,O),d.F=it(D[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;v[Ze(o.cell)]=D[0],d=e.dense?(a[o.cell.r]||[])[o.cell.c]:a[Ze(o.cell)],(d||{}).f=""+cn(D[0],s,f,I,O)}}break;case 253:b=J0(l[D.isst].t,D.ixfe,"s"),l[D.isst].h&&(b.h=l[D.isst].h),b.XF=w[b.ixfe],P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:D.ixfe,XF:w[D.ixfe],t:"z"},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e));break;case 190:if(e.sheetStubs)for(var pe=D.c;pe<=D.C;++pe){var Se=D.ixfe[pe-D.c];b={ixfe:Se,XF:w[Se],t:"z"},P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:pe,r:D.r},b,e)}break;case 214:case 516:case 4:b=J0(D.val,D.ixfe,"s"),b.XF=w[b.ixfe],P>0&&(b.z=Y[b.ixfe>>8&63]),di(b,e,r.opts.Date1904),T({c:D.c,r:D.r},b,e);break;case 0:case 512:K===1&&(s=D);break;case 252:l=D;break;case 1054:if(O.biff==4){Y[P++]=D[1];for(var Ge=0;Ge<P+163&&Je[Ge]!=D[1];++Ge);Ge>=163&&Ki(D[1],P+163)}else Ki(D[1],D[0]);break;case 30:{Y[P++]=D;for(var He=0;He<P+163&&Je[He]!=D;++He);He>=163&&Ki(D,P+163)}break;case 229:z=z.concat(D);break;case 93:W[D.cmo[0]]=O.lastobj=D;break;case 438:O.lastobj.TxO=D;break;case 127:O.lastobj.ImData=D;break;case 440:for(m=D[0].s.r;m<=D[0].e.r;++m)for(p=D[0].s.c;p<=D[0].e.c;++p)d=e.dense?(a[m]||[])[p]:a[Ze({c:p,r:m})],d&&(d.l=D[1]);break;case 2048:for(m=D[0].s.r;m<=D[0].e.r;++m)for(p=D[0].s.c;p<=D[0].e.c;++p)d=e.dense?(a[m]||[])[p]:a[Ze({c:p,r:m})],d&&d.l&&(d.l.Tooltip=D[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;d=e.dense?(a[D[0].r]||[])[D[0].c]:a[Ze(D[0])];var Ne=W[D[2]];d||(e.dense?(a[D[0].r]||(a[D[0].r]=[]),d=a[D[0].r][D[0].c]={t:"z"}):d=a[Ze(D[0])]={t:"z"},s.e.r=Math.max(s.e.r,D[0].r),s.s.r=Math.min(s.s.r,D[0].r),s.e.c=Math.max(s.e.c,D[0].c),s.s.c=Math.min(s.s.c,D[0].c)),d.c||(d.c=[]),g={a:D[1],t:Ne.TxO.t},d.c.push(g)}break;case 2173:Fve(w[D.ixfe],D.ext);break;case 125:{if(!O.cellStyles)break;for(;D.e>=D.s;)F[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},H||(H=!0,mk(D.w/256)),Qs(F[D.e+1])}break;case 520:{var Xe={};D.level!=null&&(L[D.r]=Xe,Xe.level=D.level),D.hidden&&(L[D.r]=Xe,Xe.hidden=!0),D.hpt&&(L[D.r]=Xe,Xe.hpt=D.hpt,Xe.hpx=fu(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Qo(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[le]]=D;break;case 161:a["!margins"]||Qo(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(k.Views[0].RTL=!0);break;case 146:_=D;break;case 2198:N=D;break;case 140:S=D;break;case 442:c?A.CodeName=D||A.name:k.WBProps.CodeName=D||"ThisWorkbook";break}}else se||console.error("Missing Info for XLS Record 0x"+le.toString(16)),t.l+=re}return r.SheetNames=pr(i).sort(function(wt,je){return Number(wt)-Number(je)}).map(function(wt){return i[wt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&B.forEach(function(wt,je){r.Sheets[r.SheetNames[je]]["!autofilter"]=wt}),r.Strings=l,r.SSF=Jt(Je),O.enc&&(r.Encryption=O.enc),N&&(r.Themes=N),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),I.names.length>0&&(k.Names=I.names),r.Workbook=k,r}var rh={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Vwe(t,e,r){var n=Ve.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=eP(n,lw,rh.DSI);for(var i in a)e[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Ve.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=eP(s,cw,rh.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(NR(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Gwe(t,e){var r=[],n=[],a=[],i=0,s,o=PO(lw,"n"),l=PO(cw,"n");if(t.Props)for(s=pr(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=pr(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)BR.indexOf(a[i][0])>-1||IR.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&Ve.utils.cfb_add(e,"/SummaryInformation",tP(n,rh.SI,l,cw)),(r.length||c.length)&&Ve.utils.cfb_add(e,"/DocumentSummaryInformation",tP(r,rh.DSI,o,lw,c.length?c:null,rh.UDI))}function jL(t,e){e||(e={}),Ak(e),Y_(),e.codepage&&X_(e.codepage);var r,n;if(t.FullPaths){if(Ve.find(t,"/encryption"))throw new Error("File is password-protected");r=Ve.find(t,"!CompObj"),n=Ve.find(t,"/Workbook")||Ve.find(t,"/Book")}else{switch(e.type){case"base64":t=ea(oa(t));break;case"binary":t=ea(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Gr(t,0),n={content:t}}var a,i;if(r&&Uwe(r),e.bookProps&&!e.bookSheets)a={};else{var s=ct?"buffer":"array";if(n&&n.content)a=Ywe(n.content,e);else if((i=Ve.find(t,"PerfectOffice_MAIN"))&&i.content)a=Zo.to_workbook(i.content,(e.type=s,e));else if((i=Ve.find(t,"NativeContent_MAIN"))&&i.content)a=Zo.to_workbook(i.content,(e.type=s,e));else throw(i=Ve.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ve.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=oxe(t))}var o={};return t.FullPaths&&Vwe(t,o,e),a.Props=a.Custprops=o,e.bookFiles&&(a.cfb=t),a}function qwe(t,e){var r=e||{},n=Ve.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ve.utils.cfb_add(n,a,ML(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Gwe(t,n),r.biff==8&&t.vbaraw&&lxe(n,Ve.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var gd={0:{f:ybe},1:{f:Tbe},2:{f:Ybe},3:{f:Mbe},4:{f:Ibe},5:{f:Ube},6:{f:Jbe},7:{f:Bbe},8:{f:a1e},9:{f:n1e},10:{f:t1e},11:{f:r1e},12:{f:Obe},13:{f:Gbe},14:{f:Rbe},15:{f:Fbe},16:{f:EL},17:{f:Qbe},18:{f:zbe},19:{f:sk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Q1e},40:{},42:{},43:{f:Jme},44:{f:qme},45:{f:eve},46:{f:rve},47:{f:tve},48:{},49:{f:S0e},50:{},51:{f:Dve},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:KR},62:{f:Kbe},63:{f:Xve},64:{f:b1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:m1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Abe},148:{f:Sbe,p:16},151:{f:u1e},152:{},153:{f:K1e},154:{},155:{},156:{f:G1e},157:{},158:{},159:{T:1,f:hme},160:{T:-1},161:{T:1,f:Il},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:i1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:jve},336:{T:-1},337:{f:Bve,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ow},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:f1e},427:{f:h1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:p1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:l1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ow},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rxe},633:{T:1},634:{T:-1},635:{T:1,f:exe},636:{T:-1},637:{f:E0e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:R1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:w1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gw={6:{f:Zx},10:{f:xs},12:{f:kr},13:{f:kr},14:{f:gr},15:{f:gr},16:{f:pn},17:{f:gr},18:{f:gr},19:{f:kr},20:{f:oP},21:{f:oP},23:{f:qR},24:{f:cP},25:{f:gr},26:{},27:{},28:{f:wge},29:{},34:{f:gr},35:{f:lP},38:{f:pn},39:{f:pn},40:{f:pn},41:{f:pn},42:{f:gr},43:{f:gr},47:{f:Fme},49:{f:Gpe},51:{f:kr},60:{},61:{f:Upe},64:{f:gr},65:{f:Vpe},66:{f:kr},77:{},80:{},81:{},82:{},85:{f:kr},89:{},90:{},91:{},92:{f:Npe},93:{f:kge},94:{},95:{f:gr},96:{},97:{},99:{f:gr},125:{f:KR},128:{f:cge},129:{f:jpe},130:{f:kr},131:{f:gr},132:{f:gr},133:{f:Mpe},134:{},140:{f:Nge},141:{f:kr},144:{},146:{f:Mge},151:{},152:{},153:{},154:{},155:{},156:{f:kr},157:{},158:{},160:{f:Wge},161:{f:Lge},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ige},190:{f:sge},193:{f:xs},197:{},198:{},199:{},200:{},201:{},202:{f:gr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:kr},220:{},221:{f:gr},222:{},224:{f:lge},225:{f:Ipe},226:{f:xs},227:{},229:{f:Sge},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Rpe},253:{f:Kpe},255:{f:Bpe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$R},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:gr},353:{f:xs},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pge},431:{f:gr},432:{},433:{},434:{},437:{},438:{f:Tge},439:{f:gr},440:{f:Cge},441:{},442:{f:Xd},443:{},444:{f:kr},445:{},446:{},448:{f:xs},449:{f:Wpe,r:2},450:{f:xs},512:{f:aP},513:{f:zge},515:{f:hge},516:{f:Zpe},517:{f:sP},519:{f:Uge},520:{f:$pe},523:{},545:{f:uP},549:{f:nP},566:{},574:{f:Xpe},638:{f:age},659:{},1048:{},1054:{f:ege},1084:{},1212:{f:xge},2048:{f:Pge},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:xs},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Dge,r:12},2173:{f:Nve,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:gr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vge,r:12},2197:{},2198:{f:Eve,r:12},2199:{},2200:{},2201:{},2202:{f:yge,r:12},2203:{f:xs},2204:{},2205:{},2206:{},2207:{},2211:{f:zpe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:kr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Bge},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:jge},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:aP},1:{},2:{f:Gge},3:{f:Yge},4:{f:Xge},5:{f:sP},7:{f:Kge},8:{},9:{f:G0},11:{},22:{f:kr},30:{f:rge},31:{},32:{},33:{f:uP},36:{},37:{f:nP},50:{f:Jge},62:{},52:{},67:{},68:{f:kr},69:{},86:{},126:{},127:{f:Hge},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Zge},223:{},234:{},354:{},421:{},518:{f:Zx},521:{f:G0},536:{f:cP},547:{f:lP},561:{},579:{},1030:{f:Zx},1033:{f:G0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Pe(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&nk(r)&&t.push(r)}}function Kwe(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return Pe(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<a;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function qd(t,e,r){return t||(t=ge(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Jwe(t,e,r,n){var a=ge(9);return qd(a,t,e),zR(r,n||"b",a),a}function Zwe(t,e,r){var n=ge(8+2*r.length);return qd(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Qwe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Dr(Kt(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Pe(t,2,qge(r,n,a)):Pe(t,3,Vge(r,n,a));return;case"b":case"e":Pe(t,5,Jwe(r,n,e.v,e.t));return;case"s":case"str":Pe(t,4,Zwe(r,n,(e.v||"").slice(0,255)));return}Pe(t,1,qd(null,r,n))}function eSe(t,e,r,n){var a=Array.isArray(e),i=bt(e["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=it(i)}for(var c=i.s.r;c<=i.e.r;++c){o=xr(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=nr(u)),s=l[u]+o;var f=a?(e[c]||[])[u]:e[s];f&&Qwe(t,f,c,u)}}}function tSe(t,e){for(var r=e||{},n=Un(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Pe(n,r.biff==4?1033:r.biff==3?521:9,dk(t,16,r)),eSe(n,t.Sheets[t.SheetNames[a]],a,r),Pe(n,10),n.end()}function rSe(t,e,r){Pe(t,49,qpe({sz:12,name:"Arial"},r))}function nSe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Pe(t,1054,tge(a,e[a],r))})}function aSe(t,e){var r=ge(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Pe(t,2151,r),r=ge(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),YR(bt(e["!ref"]||"A1"),r),r.write_shift(4,4),Pe(t,2152,r)}function iSe(t,e){for(var r=0;r<16;++r)Pe(t,224,iP({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pe(t,224,iP(n,0,e))})}function sSe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Pe(t,440,Oge(n)),n[1].Tooltip&&Pe(t,2048,Ige(n))}delete e["!links"]}function oSe(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&Pe(t,125,Rge(Iv(a,n),a))})}}function lSe(t,e,r,n,a){var i=16+vo(a.cellXfs,e,a);if(e.v==null&&!e.bf){Pe(t,513,gl(r,n,i));return}if(e.bf)Pe(t,6,jye(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?Dr(Kt(e.v)):e.v;Pe(t,515,dge(r,n,s,i));break;case"b":case"e":Pe(t,517,fge(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=wk(a.Strings,e.v,a.revStrings);Pe(t,253,Jpe(r,n,o,i))}else Pe(t,516,Qpe(r,n,(e.v||"").slice(0,255),i,a));break;default:Pe(t,513,gl(r,n,i))}}function cSe(t,e,r){var n=Un(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(i),c=e.biff==8,u,f="",h=[],d=bt(i["!ref"]||"A1"),g=c?65536:16384;if(d.e.c>255||d.e.r>=g){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,g-1)}Pe(n,2057,dk(r,16,e)),Pe(n,13,ba(1)),Pe(n,12,ba(100)),Pe(n,15,kn(!0)),Pe(n,17,kn(!1)),Pe(n,16,dl(.001)),Pe(n,95,kn(!0)),Pe(n,42,kn(!1)),Pe(n,43,kn(!1)),Pe(n,130,ba(1)),Pe(n,128,uge()),Pe(n,131,kn(!1)),Pe(n,132,kn(!1)),c&&oSe(n,i["!cols"]),Pe(n,512,nge(d,e)),c&&(i["!links"]=[]);for(var p=d.s.r;p<=d.e.r;++p){f=xr(p);for(var m=d.s.c;m<=d.e.c;++m){p===d.s.r&&(h[m]=nr(m)),u=h[m]+f;var v=l?(i[p]||[])[m]:i[u];v&&(lSe(n,v,p,m,e),c&&v.l&&i["!links"].push([u,v.l]))}}var y=o.CodeName||o.name||a;return c&&Pe(n,574,Ype((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&Pe(n,229,_ge(i["!merges"])),c&&sSe(n,i),Pe(n,442,WR(y)),c&&aSe(n,i),Pe(n,10),n.end()}function uSe(t,e,r){var n=Un(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(Pe(n,2057,dk(t,5,r)),r.bookType=="xla"&&Pe(n,135),Pe(n,225,o?ba(1200):null),Pe(n,193,fpe(2)),l&&Pe(n,191),l&&Pe(n,192),Pe(n,226),Pe(n,92,Fpe("SheetJS",r)),Pe(n,66,ba(o?1200:1252)),o&&Pe(n,353,ba(0)),o&&Pe(n,448),Pe(n,317,$ge(t.SheetNames.length)),o&&t.vbaraw&&Pe(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";Pe(n,442,WR(c))}Pe(n,156,ba(17)),Pe(n,25,kn(!1)),Pe(n,18,kn(!1)),Pe(n,19,ba(0)),o&&Pe(n,431,kn(!1)),o&&Pe(n,444,ba(0)),Pe(n,61,Hpe()),Pe(n,64,kn(!1)),Pe(n,141,ba(0)),Pe(n,34,kn(W1e(t)=="true")),Pe(n,14,kn(!0)),o&&Pe(n,439,kn(!1)),Pe(n,218,ba(0)),rSe(n,t,r),nSe(n,t.SSF,r),iSe(n,r),o&&Pe(n,352,kn(!1));var u=n.end(),f=Un();o&&Pe(f,140,Fge()),o&&r.Strings&&Kwe(f,252,Lpe(r.Strings)),Pe(f,10);var h=f.end(),d=Un(),g=0,p=0;for(p=0;p<t.SheetNames.length;++p)g+=(o?12:11)+(o?2:1)*t.SheetNames[p].length;var m=u.length+g+h.length;for(p=0;p<t.SheetNames.length;++p){var v=i[p]||{};Pe(d,133,Dpe({pos:m,hs:v.Hidden||0,dt:0,name:t.SheetNames[p]},r)),m+=e[p].length}var y=d.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var b=[];return u.length&&b.push(u),y.length&&b.push(y),h.length&&b.push(h),zr(b)}function fSe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Jt(Je)),t&&t.SSF&&(Du(),kv(t.SSF),r.revssf=Ev(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ek(r),r.cellXfs=[],vo(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=cSe(a,r,t);return n.unshift(uSe(t,n,r)),zr(n)}function ML(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Hn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return fSe(t,e);case 4:case 3:case 2:return tSe(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function bP(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),s=a.index,o=i&&i.index||t.length,l=qde(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var p=l[s].trim(),m=p.slice(0,3).toLowerCase();if(m=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(m!="<td"&&m!="<th")){var v=p.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,S=0;b.charAt(0)=="<"&&(S=b.indexOf(">"))>-1;)b=b.slice(S+1);for(var w=0;w<g.length;++w){var _=g[w];_.s.c==u&&_.s.r<c&&c<=_.e.r&&(u=_.e.c+1,w=-1)}var k=et(y.slice(0,y.indexOf(">")));h=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var A=k.t||k["data-t"]||"";if(!b.length){u+=h;continue}if(b=iR(b),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!b.length){u+=h;continue}var E={t:"s",v:b};r.raw||!b.trim().length||A=="s"||(b==="TRUE"?E={t:"b",v:!0}:b==="FALSE"?E={t:"b",v:!1}:isNaN(ii(b))?isNaN(cu(b).getDate())||(E={t:"d",v:Kt(b)},r.cellDates||(E={t:"n",v:Dr(E.v)}),E.z=r.dateNF||Je[14]):E={t:"n",v:ii(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=E):n[Ze({r:c,c:u})]=E,u+=h}}}}return n["!ref"]=it(d),g.length&&(n["!merges"]=g),n}function hSe(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Ze({r,c:s}),f=n.dense?(t[r]||[])[s]:t[u],h=f&&f.v!=null&&(f.h||ek(f.w||(os(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(Oe("td",h,d))}}var g="<tr>";return g+i.join("")+"</tr>"}var dSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pSe="</body></html>";function gSe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return mo(bP(r[0],e),e);var n=Ok();return r.forEach(function(a,i){Pk(n,bP(a,e),"Sheet"+(i+1))}),n}function mSe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function DL(t,e){var r=e||{},n=r.header!=null?r.header:dSe,a=r.footer!=null?r.footer:pSe,i=[n],s=Hn(t["!ref"]);r.dense=Array.isArray(t),i.push(mSe(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(hSe(t,s,o,r));return i.push("</table>"+a),i.join("")}function RL(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?ar(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Hn(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=t["!rows"]||(t["!rows"]=[]),g=0,p=0,m=0,v=0,y=0,b=0;for(t["!cols"]||(t["!cols"]=[]);g<o.length&&p<l;++g){var S=o[g];if(wP(S)){if(n.display)continue;d[p]={hidden:!0}}var w=S.children;for(m=v=0;m<w.length;++m){var _=w[m];if(!(n.display&&wP(_))){var k=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):iR(_.innerHTML),A=_.getAttribute("data-z")||_.getAttribute("z");for(h=0;h<f.length;++h){var E=f[h];E.s.c==v+i&&E.s.r<p+a&&p+a<=E.e.r&&(v=E.e.c+1-i,h=-1)}b=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:p+a,c:v+i},e:{r:p+a+(y||1)-1,c:v+i+(b||1)-1}});var C={t:"s",v:k},T=_.getAttribute("data-t")||_.getAttribute("t")||"";k!=null&&(k.length==0?C.t=T||"z":n.raw||k.trim().length==0||T=="s"||(k==="TRUE"?C={t:"b",v:!0}:k==="FALSE"?C={t:"b",v:!1}:isNaN(ii(k))?isNaN(cu(k).getDate())||(C={t:"d",v:Kt(k)},n.cellDates||(C={t:"n",v:Dr(C.v)}),C.z=n.dateNF||Je[14]):C={t:"n",v:ii(k)})),C.z===void 0&&A!=null&&(C.z=A);var O="",N=_.getElementsByTagName("A");if(N&&N.length)for(var z=0;z<N.length&&!(N[z].hasAttribute("href")&&(O=N[z].getAttribute("href"),O.charAt(0)!="#"));++z);O&&O.charAt(0)!="#"&&(C.l={Target:O}),n.dense?(t[p+a]||(t[p+a]=[]),t[p+a][v+i]=C):t[Ze({c:v+i,r:p+a})]=C,c.e.c<v+i&&(c.e.c=v+i),v+=b}}++p}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,p-1+a),t["!ref"]=it(c),p>=l&&(t["!fullref"]=it((c.e.r=o.length-g+p-1+a,c))),t}function LL(t,e){var r=e||{},n=r.dense?[]:{};return RL(n,t,e)}function vSe(t,e){return mo(LL(t,e),e)}function wP(t){var e="",r=xSe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function xSe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ySe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=xt(e.replace(/<[^>]*>/g,""));return[r]}var SP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function BL(t,e){var r=e||{},n=tk(t),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],g=r.dense?[]:{},p,m,v={value:""},y="",b=0,S=[],w=-1,_=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,E={},C=[],T={},O=0,N=0,z=[],W=1,F=1,L=[],H={Names:[]},I={},X=["",""],K=[],P={},Y="",B=0,G=!1,te=!1,oe=0;for(cd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=cd.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?g["!ref"]=it(k):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(g["!fullref"]=g["!ref"],k.e.r=r.sheetRows-1,g["!ref"]=it(k)),C.length&&(g["!merges"]=C),z.length&&(g["!rows"]=z),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=g,te=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=et(p[0],!1),w=_=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,g=r.dense?[]:{},C=[],z=[],te=!0);break;case"table-row-group":p[1]==="/"?--A:++A;break;case"table-row":case"":if(p[1]==="/"){w+=W,W=1;break}if(f=et(p[0],!1),f.?w=f.-1:w==-1&&(w=0),W=+f["number-rows-repeated"]||1,W<10)for(oe=0;oe<W;++oe)A>0&&(z[w+oe]={level:A});_=-1;break;case"covered-table-cell":p[1]!=="/"&&++_,r.sheetStubs&&(r.dense?(g[w]||(g[w]=[]),g[w][_]={t:"z"}):g[Ze({r:w,c:_})]={t:"z"}),y="",S=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++_,v=et(p[0],!1),F=parseInt(v["number-columns-repeated"]||"1",10),m={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(m.f=vP(xt(v.formula))),(v.||v["value-type"])=="string"&&(m.t="s",m.v=xt(v["string-value"]||""),r.dense?(g[w]||(g[w]=[]),g[w][_]=m):g[Ze({r:w,c:_})]=m),_+=F-1;else if(p[1]!=="/"){++_,y="",b=0,S=[],F=1;var le=W?w+W-1:w;if(_>k.e.c&&(k.e.c=_),_<k.s.c&&(k.s.c=_),w<k.s.r&&(k.s.r=w),le>k.e.r&&(k.e.r=le),v=et(p[0],!1),K=[],P={},m={t:v.||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=xt(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(O=parseInt(v["number-matrix-rows-spanned"],10)||0,N=parseInt(v["number-matrix-columns-spanned"],10)||0,T={s:{r:w,c:_},e:{r:w+O-1,c:_+N-1}},m.F=it(T),L.push([T,m.F])),v.formula)m.f=vP(v.formula);else for(oe=0;oe<L.length;++oe)w>=L[oe][0].s.r&&w<=L[oe][0].e.r&&_>=L[oe][0].s.c&&_<=L[oe][0].e.c&&(m.F=L[oe][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(O=parseInt(v["number-rows-spanned"],10)||0,N=parseInt(v["number-columns-spanned"],10)||0,T={s:{r:w,c:_},e:{r:w+O-1,c:_+N-1}},C.push(T)),v["number-columns-repeated"]&&(F=parseInt(v["number-columns-repeated"],10)),m.t){case"boolean":m.t="b",m.v=Gt(v["boolean-value"]);break;case"float":m.t="n",m.v=parseFloat(v.value);break;case"percentage":m.t="n",m.v=parseFloat(v.value);break;case"currency":m.t="n",m.v=parseFloat(v.value);break;case"date":m.t="d",m.v=Kt(v["date-value"]),r.cellDates||(m.t="n",m.v=Dr(m.v)),m.z="m/d/yy";break;case"time":m.t="n",m.v=Yde(v["time-value"])/86400,r.cellDates&&(m.t="d",m.v=Tv(m.v)),m.z="HH:MM:SS";break;case"number":m.t="n",m.v=parseFloat(v.);break;default:if(m.t==="string"||m.t==="text"||!m.t)m.t="s",v["string-value"]!=null&&(y=xt(v["string-value"]),S=[]);else throw new Error("Unsupported value type "+m.t)}}else{if(G=!1,m.t==="s"&&(m.v=y||"",S.length&&(m.R=S),G=b==0),I.Target&&(m.l=I),K.length>0&&(m.c=K,K=[]),y&&r.cellText!==!1&&(m.w=y),G&&(m.t="z",delete m.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var re=0;re<W;++re){if(F=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(g[w+re]||(g[w+re]=[]),g[w+re][_]=re==0?m:Jt(m);--F>0;)g[w+re][_+F]=Jt(m);else for(g[Ze({r:w+re,c:_})]=m;--F>0;)g[Ze({r:w+re,c:_+F})]=Jt(m);k.e.c<=_&&(k.e.c=_)}F=parseInt(v["number-columns-repeated"]||"1",10),_+=F-1,F=0,m={},y="",S=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i;P.t=y,S.length&&(P.R=S),P.a=Y,K.push(P)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);Y="",B=0,y="",b=0,S=[];break;case"creator":p[1]==="/"?Y=n.slice(B,p.index):B=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);y="",b=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(E[o.name]=l,(i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=et(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=et(p[0],!1),l+=SP[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=et(p[0],!1),l+=SP[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,p.index);break}else c=p.index+p[0].length;break;case"named-range":s=et(p[0],!1),X=Qx(s["cell-range-address"]);var se={Name:s.name,Ref:X[0]+"!"+X[1]};te&&(se.Sheet=d.length),H.Names.push(se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!v||!v["string-value"])){var xe=ySe(n.slice(b,p.index));y=(y.length>0?y+`
`:"")+xe[0]}else et(p[0],!1),b=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{X=Qx(et(p[0])["target-range-address"]),h[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(I=et(p[0],!1),!I.href)break;I.Target=xt(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(X=Qx(I.Target.slice(1)),I.Target="#"+X[0]+"!"+X[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var D={Sheets:h,SheetNames:d,Workbook:H};return r.bookSheets&&delete D.Sheets,D}function _P(t,e){e=e||{},ya(t,"META-INF/manifest.xml")&&Y0e(_r(t,"META-INF/manifest.xml"),e);var r=ta(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=BL(Dt(r),e);return ya(t,"meta.xml")&&(n.Props=OR(_r(t,"meta.xml"))),n}function kP(t,e){return BL(t,e)}var bSe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ld({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return yr+e}}(),AP=function(){var t=function(i){return It(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+It(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Hn(i["!ref"]||"A1"),h=i["!merges"]||[],d=0,g=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",m=i["!rows"]||[];for(c=0;c<f.s.r;++c)p=m[c]?' table:style-name="ro'+m[c].ods+'"':"",l.push("        <table:table-row"+p+`></table:table-row>
`);for(;c<=f.e.r;++c){for(p=m[c]?' table:style-name="ro'+m[c].ods+'"':"",l.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var v=!1,y={},b="";for(d=0;d!=h.length;++d)if(!(h[d].s.c>u)&&!(h[d].s.r>c)&&!(h[d].e.c<u)&&!(h[d].e.r<c)){(h[d].s.c!=u||h[d].s.r!=c)&&(v=!0),y["table:number-columns-spanned"]=h[d].e.c-h[d].s.c+1,y["table:number-rows-spanned"]=h[d].e.r-h[d].s.r+1;break}if(v){l.push(r);continue}var S=Ze({r:c,c:u}),w=g?(i[c]||[])[u]:i[S];if(w&&w.f&&(y["table:formula"]=It($ye(w.f)),w.F&&w.F.slice(0,S.length)==S)){var _=Hn(w.F);y["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,y["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!w){l.push(e);continue}switch(w.t){case"b":b=w.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=w.v?"true":"false";break;case"n":b=w.w||String(w.v||0),y["office:value-type"]="float",y["office:value"]=w.v||0;break;case"s":case"str":b=w.v==null?"":w.v,y["office:value-type"]="string";break;case"d":b=w.w||Kt(w.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Kt(w.v).toISOString(),y["table:style-name"]="ce1";break;default:l.push(e);continue}var k=t(b);if(w.l&&w.l.Target){var A=w.l.Target;A=A.charAt(0)=="#"?"#"+zye(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),k=Oe("text:a",k,{"xlink:href":A.replace(/&/g,"&amp;")})}l.push("          "+Oe("table:table-cell",Oe("text:p",k,{}),y)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Qs(f),f.ods=o;var h=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[yr],c=ld({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=ld({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(CR().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function $L(t,e){if(e.bookType=="fods")return AP(t,e);var r=J_(),n="",a=[],i=[];return n="mimetype",st(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",st(r,n,AP(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",st(r,n,bSe(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",st(r,n,yr+CR()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",st(r,n,q0e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",st(r,n,V0e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ml(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Dt(go(t))}function wSe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ea(bi(t))}function SSe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function to(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function EP(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function _Se(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function kSe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function md(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Tt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function hr(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function St(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=md(t,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=md(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};e[a]==null?e[a]=[c]:e[a].push(c)}return e}function Xr(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Tt(n*8+a.type)),a.type==2&&e.push(Tt(a.data.length)),e.push(a.data))})}),to(e)}function kk(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function va(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=md(t,n),i=St(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:hr(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=St(o.data),c=hr(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(s.merge=hr(i[3][0].data)>>>0>0),r.push(s)}return r}function Xl(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Tt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Tt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Tt(s.data.length)}],n[2].push({data:Xr(s.meta),type:2})});var i=Xr(n);e.push(Tt(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),to(e)}function ASe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=md(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,i==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[to(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=to(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function xa(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(ASe(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return to(e)}function Yl(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Tt(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return to(e)}function ESe(t,e,r,n){var a=ml(t),i=a.getUint32(4,!0),s=(n>1?12:8)+EP(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=EP(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function TSe(t,e,r){var n=ml(t),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=_Se(t,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return f}function ty(t,e){var r=new Uint8Array(32),n=ml(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,kSe(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ry(t,e){var r=new Uint8Array(32),n=ml(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function CSe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return ESe(t,e,r,t[0]);case 5:return TSe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ln(t){var e=St(t);return md(e[1][0].data)}function TP(t,e){var r=St(e.data),n=hr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=St(s.data),l=hr(o[1][0].data)>>>0;switch(n){case 1:i[l]=mw(o[3][0].data);break;case 8:{var c=t[ln(o[9][0].data)][0],u=St(c.data),f=t[ln(u[1][0].data)][0],h=hr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=St(f.data);i[l]=d[3].map(function(g){return mw(g.data)}).join("")}break}}),i}function OSe(t,e){var r,n,a,i,s,o,l,c,u,f,h,d,g,p,m=St(t),v=hr(m[1][0].data)>>>0,y=hr(m[2][0].data)>>>0,b=((n=(r=m[8])==null?void 0:r[0])==null?void 0:n.data)&&hr(m[8][0].data)>0||!1,S,w;if((i=(a=m[7])==null?void 0:a[0])!=null&&i.data&&e!=0)S=(o=(s=m[7])==null?void 0:s[0])==null?void 0:o.data,w=(c=(l=m[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=m[4])==null?void 0:u[0])!=null&&f.data&&e!=1)S=(d=(h=m[4])==null?void 0:h[0])==null?void 0:d.data,w=(p=(g=m[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var _=b?4:1,k=ml(S),A=[],E=0;E<S.length/2;++E){var C=k.getUint16(E*2,!0);C<65535&&A.push([E,C])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var T=[];for(E=0;E<A.length-1;++E)T[A[E][0]]=w.subarray(A[E][1]*_,A[E+1][1]*_);return A.length>=1&&(T[A[A.length-1][0]]=w.subarray(A[A.length-1][1]*_)),{R:v,cells:T}}function PSe(t,e){var r,n=St(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?hr(n[7][0].data)>>>0>0?1:0:-1,i=kk(n[5],function(s){return OSe(s,a)});return{nrows:hr(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function ISe(t,e,r){var n,a=St(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(hr(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(hr(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=it(i);var s=St(a[4][0].data),o=TP(t,t[ln(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?TP(t,t[ln(s[17][0].data)][0]):[],c=St(s[3][0].data),u=0;c[1].forEach(function(f){var h=St(f.data),d=t[ln(h[2][0].data)][0],g=hr(d.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=PSe(t,d);p.data.forEach(function(m,v){m.forEach(function(y,b){var S=Ze({r:u+v,c:b}),w=CSe(y,o,l);w&&(r[S]=w)})}),u+=p.nrows})}function NSe(t,e){var r=St(e.data),n={"!ref":"A1"},a=t[ln(r[2][0].data)],i=hr(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return ISe(t,a[0],n),n}function FSe(t,e){var r,n=St(e.data),a={name:(r=n[1])!=null&&r[0]?mw(n[1][0].data):"",sheets:[]},i=kk(n[2],ln);return i.forEach(function(s){t[s].forEach(function(o){var l=hr(o.meta[1][0].data);l==6e3&&a.sheets.push(NSe(t,o))})}),a}function jSe(t,e){var r=Ok(),n=St(e.data),a=kk(n[1],ln);if(a.forEach(function(i){t[i].forEach(function(s){var o=hr(s.meta[1][0].data);if(o==2){var l=FSe(t,s);l.sheets.forEach(function(c,u){Pk(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function ny(t){var e,r,n,a,i={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=xa(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=va(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&hr(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=hr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return jSe(i,o)}function MSe(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&hr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=ml(t[7][0].data),u=0,f=[],h=ml(t[4][0].data),d=0,g=[],p=0;p<e.length;++p){if(e[p]==null){c.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}c.setUint16(p*2,u,!0),h.setUint16(p*2,d,!0);var m,v;switch(typeof e[p]){case"string":m=ty({t:"s",v:e[p]},r),v=ry({t:"s",v:e[p]},r);break;case"number":m=ty({t:"n",v:e[p]},r),v=ry({t:"n",v:e[p]},r);break;case"boolean":m=ty({t:"b",v:e[p]},r),v=ry({t:"b",v:e[p]},r);break;default:throw new Error("Unsupported value "+e[p])}f.push(m),u+=m.length,g.push(v),d+=v.length,++l}for(t[2][0].data=Tt(l);p<t[7][0].data.length/2;++p)c.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return t[6][0].data=to(f),t[3][0].data=to(g),l}function DSe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Hn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(it(n)));var i=lm(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(Y){return Y.forEach(function(B){typeof B=="string"&&s.push(B)})});var o={},l=[],c=Ve.read(e.numbers,{type:"base64"});c.FileIndex.map(function(Y,B){return[Y,c.FullPaths[B]]}).forEach(function(Y){var B=Y[0],G=Y[1];if(B.type==2&&B.name.match(/\.iwa/)){var te=B.content,oe=xa(te),le=va(oe);le.forEach(function(re){l.push(re.id),o[re.id]={deps:[],location:G,type:hr(re.messages[0].meta[1][0].data)}})}}),l.sort(function(Y,B){return Y-B});var u=l.filter(function(Y){return Y>1}).map(function(Y){return[Y,Tt(Y)]});c.FileIndex.map(function(Y,B){return[Y,c.FullPaths[B]]}).forEach(function(Y){var B=Y[0];if(Y[1],!!B.name.match(/\.iwa/)){var G=va(xa(B.content));G.forEach(function(te){te.messages.forEach(function(oe){u.forEach(function(le){te.messages.some(function(re){return hr(re.meta[1][0].data)!=11006&&SSe(re.data,le[1])})&&o[le[0]].deps.push(te.id)})})})}});for(var f=Ve.find(c,o[1].location),h=va(xa(f.content)),d,g=0;g<h.length;++g){var p=h[g];p.id==1&&(d=p)}var m=ln(St(d.messages[0].data)[1][0].data);for(f=Ve.find(c,o[m].location),h=va(xa(f.content)),g=0;g<h.length;++g)p=h[g],p.id==m&&(d=p);for(m=ln(St(d.messages[0].data)[2][0].data),f=Ve.find(c,o[m].location),h=va(xa(f.content)),g=0;g<h.length;++g)p=h[g],p.id==m&&(d=p);for(m=ln(St(d.messages[0].data)[2][0].data),f=Ve.find(c,o[m].location),h=va(xa(f.content)),g=0;g<h.length;++g)p=h[g],p.id==m&&(d=p);var v=St(d.messages[0].data);{v[6][0].data=Tt(n.e.r+1),v[7][0].data=Tt(n.e.c+1);var y=ln(v[46][0].data),b=Ve.find(c,o[y].location),S=va(xa(b.content));{for(var w=0;w<S.length&&S[w].id!=y;++w);if(S[w].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=St(S[w].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var k=0;k<=n.e.c;++k){var A=[];A[1]=A[2]=[{type:0,data:Tt(k+420690)}],_[1].push({type:2,data:Xr(A)}),_[2].push({type:0,data:Tt(k)}),_[3].push({type:0,data:Tt(k)})}_[4]=[],_[5]=[],_[6]=[];for(var E=0;E<=n.e.r;++E)A=[],A[1]=A[2]=[{type:0,data:Tt(E+726270)}],_[4].push({type:2,data:Xr(A)}),_[5].push({type:0,data:Tt(E)}),_[6].push({type:0,data:Tt(E)});S[w].messages[0].data=Xr(_)}b.content=Yl(Xl(S)),b.size=b.content.length,delete v[46];var C=St(v[4][0].data);{C[7][0].data=Tt(n.e.r+1);var T=St(C[1][0].data),O=ln(T[2][0].data);b=Ve.find(c,o[O].location),S=va(xa(b.content));{if(S[0].id!=O)throw"Bad HeaderStorageBucket";var N=St(S[0].messages[0].data);for(E=0;E<i.length;++E){var z=St(N[2][0].data);z[1][0].data=Tt(E),z[4][0].data=Tt(i[E].length),N[2][E]={type:N[2][0].type,data:Xr(z)}}S[0].messages[0].data=Xr(N)}b.content=Yl(Xl(S)),b.size=b.content.length;var W=ln(C[2][0].data);b=Ve.find(c,o[W].location),S=va(xa(b.content));{if(S[0].id!=W)throw"Bad HeaderStorageBucket";for(N=St(S[0].messages[0].data),k=0;k<=n.e.c;++k)z=St(N[2][0].data),z[1][0].data=Tt(k),z[4][0].data=Tt(n.e.r+1),N[2][k]={type:N[2][0].type,data:Xr(z)};S[0].messages[0].data=Xr(N)}b.content=Yl(Xl(S)),b.size=b.content.length;var F=ln(C[4][0].data);(function(){for(var Y=Ve.find(c,o[F].location),B=va(xa(Y.content)),G,te=0;te<B.length;++te){var oe=B[te];oe.id==F&&(G=oe)}var le=St(G.messages[0].data);{le[3]=[];var re=[];s.forEach(function(D,Ce){re[1]=[{type:0,data:Tt(Ce)}],re[2]=[{type:0,data:Tt(1)}],re[3]=[{type:2,data:wSe(D)}],le[3].push({type:2,data:Xr(re)})})}G.messages[0].data=Xr(le);var se=Xl(B),xe=Yl(se);Y.content=xe,Y.size=Y.content.length})();var L=St(C[3][0].data);{var H=L[1][0];delete L[2];var I=St(H.data);{var X=ln(I[2][0].data);(function(){for(var Y=Ve.find(c,o[X].location),B=va(xa(Y.content)),G,te=0;te<B.length;++te){var oe=B[te];oe.id==X&&(G=oe)}var le=St(G.messages[0].data);{delete le[6],delete L[7];var re=new Uint8Array(le[5][0].data);le[5]=[];for(var se=0,xe=0;xe<=n.e.r;++xe){var D=St(re);se+=MSe(D,i[xe],s),D[1][0].data=Tt(xe),le[5].push({data:Xr(D),type:2})}le[1]=[{type:0,data:Tt(n.e.c+1)}],le[2]=[{type:0,data:Tt(n.e.r+1)}],le[3]=[{type:0,data:Tt(se)}],le[4]=[{type:0,data:Tt(n.e.r+1)}]}G.messages[0].data=Xr(le);var Ce=Xl(B),Ee=Yl(Ce);Y.content=Ee,Y.size=Y.content.length})()}H.data=Xr(I)}C[3][0].data=Xr(L)}v[4][0].data=Xr(C)}d.messages[0].data=Xr(v);var K=Xl(h),P=Yl(K);return f.content=P,f.size=f.content.length,c}function zL(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Ak(t){zL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Ek(t){zL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function RSe(t){return ut.WS.indexOf(t)>-1?"sheet":t==ut.CS?"chart":t==ut.DS?"dialog":t==ut.MS?"macro":t&&t.length?t:"sheet"}function LSe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,RSe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function BSe(t,e,r,n,a,i,s,o,l,c,u,f){try{i[n]=Zf(ta(t,r,!0),e);var h=_r(t,e),d;switch(o){case"sheet":d=owe(h,e,a,l,i[n],c,u,f);break;case"chart":if(d=lwe(h,e,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var g=Pf(d["!drawel"].Target,e),p=ud(g),m=Gve(ta(t,g,!0),Zf(ta(t,p,!0),g)),v=Pf(m,g),y=ud(v);d=M1e(ta(t,v,!0),v,l,Zf(ta(t,y,!0),v),c,d);break;case"macro":d=cwe(h,e,a,l,i[n],c,u,f);break;case"dialog":d=uwe(h,e,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var b=[];i&&i[n]&&pr(i[n]).forEach(function(S){var w="";if(i[n][S].Type==ut.CMNT){w=Pf(i[n][S].Target,e);var _=pwe(_r(t,w,!0),w,l);if(!_||!_.length)return;hP(d,_,!1)}i[n][S].Type==ut.TCMNT&&(w=Pf(i[n][S].Target,e),b=b.concat(Kve(_r(t,w,!0),l)))}),b&&b.length&&hP(d,b,!0,l.people||[])}catch(S){if(l.WTF)throw S}}function pa(t){return t.charAt(0)=="/"?t.slice(1):t}function $Se(t,e){if(Du(),e=e||{},Ak(e),ya(t,"META-INF/manifest.xml")||ya(t,"objectdata.xml"))return _P(t,e);if(ya(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof ny<"u"){if(t.FileIndex)return ny(t);var r=Ve.utils.cfb_new();return FO(t).forEach(function(z){st(r,z,Jde(t,z))}),ny(r)}throw new Error("Unsupported NUMBERS file")}if(!ya(t,"[Content_Types].xml"))throw ya(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ya(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=FO(t),a=H0e(ta(t,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",_r(t,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!_r(t,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Qf=[],a.sst)try{Qf=dwe(_r(t,pa(a.sst)),a.sst,e)}catch(z){if(e.WTF)throw z}e.cellStyles&&a.themes.length&&(l=hwe(ta(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(c=fwe(_r(t,pa(a.style)),a.style,l,e))}a.links.map(function(z){try{var W=Zf(ta(t,ud(pa(z))),z);return mwe(_r(t,pa(z)),W,z,e)}catch{}});var u=swe(_r(t,pa(a.workbooks[0])),a.workbooks[0],e),f={},h="";a.coreprops.length&&(h=_r(t,pa(a.coreprops[0]),!0),h&&(f=OR(h)),a.extprops.length!==0&&(h=_r(t,pa(a.extprops[0]),!0),h&&J0e(h,f,e)));var d={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(h=ta(t,pa(a.custprops[0]),!0),h&&(d=Q0e(h,e)));var g={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(W){return W.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(g.Props=f,g.Custprops=d),e.bookSheets&&typeof s<"u"&&(g.SheetNames=s),e.bookSheets?g.SheetNames:e.bookProps))return g;s={};var p={};e.bookDeps&&a.calcchain&&(p=gwe(_r(t,pa(a.calcchain)),a.calcchain));var m=0,v={},y,b;{var S=u.Sheets;f.Worksheets=S.length,f.SheetNames=[];for(var w=0;w!=S.length;++w)f.SheetNames[w]=S[w].name}var _=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ya(t,A)||(A="xl/_rels/workbook."+_+".rels");var E=Zf(ta(t,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=vwe(_r(t,pa(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=Zve(_r(t,pa(a.people[0])),e)),E&&(E=LSe(E,u.Sheets));var C=_r(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(m=0;m!=f.Worksheets;++m){var T="sheet";if(E&&E[m]?(y="xl/"+E[m][1].replace(/[\/]?xl\//,""),ya(t,y)||(y=E[m][1]),ya(t,y)||(y=A.replace(/_rels\/.*$/,"")+E[m][1]),T=E[m][2]):(y="xl/worksheets/sheet"+(m+1-C)+"."+_,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(m!=e.sheets)continue e;break;case"string":if(f.SheetNames[m].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,N=0;N!=e.sheets.length;++N)typeof e.sheets[N]=="number"&&e.sheets[N]==m&&(O=1),typeof e.sheets[N]=="string"&&e.sheets[N].toLowerCase()==f.SheetNames[m].toLowerCase()&&(O=1);if(!O)continue e}}BSe(t,y,b,f.SheetNames[m],m,v,s,T,e,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:Qf,Styles:c,Themes:l,SSF:Jt(Je)},e&&e.bookFiles&&(t.files?(g.keys=n,g.files=t.files):(g.keys=[],g.files={},t.FullPaths.forEach(function(z,W){z=z.replace(/^Root Entry[\/]/,""),g.keys.push(z),g.files[z]=t.FileIndex[W]}))),e&&e.bookVBA&&(a.vba.length>0?g.vbaraw=_r(t,pa(a.vba[0]),!0):a.defaults&&a.defaults.bin===sxe&&(g.vbaraw=_r(t,"xl/vbaProject.bin",!0))),g}function zSe(t,e){var r=e||{},n="Workbook",a=Ve.find(t,n);try{if(n="/!DataSpaces/Version",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(vme(a.content),n="/!DataSpaces/DataSpaceMap",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=yme(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=bme(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Sme(a.content)}catch{}if(n="/EncryptionInfo",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=_me(a.content);if(n="/EncryptedPackage",a=Ve.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function WSe(t,e){return e.bookType=="ods"?$L(t,e):e.bookType=="numbers"?DSe(t,e):e.bookType=="xlsb"?USe(t,e):HSe(t,e)}function USe(t,e){gc=1024,t&&!t.SSF&&(t.SSF=Jt(Je)),t&&t.SSF&&(Du(),kv(t.SSF),e.revssf=Ev(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,eh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=pL.indexOf(e.bookType)>-1,a=fk();Ek(e=e||{});var i=J_(),s="",o=0;if(e.cellXfs=[],vo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",st(i,s,PR(t.Props,e)),a.coreprops.push(s),Pt(e.rels,2,s,ut.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,st(i,s,FR(t.Props)),a.extprops.push(s),Pt(e.rels,3,s,ut.EXT_PROPS),t.Custprops!==t.Props&&pr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",st(i,s,jR(t.Custprops)),a.custprops.push(s),Pt(e.rels,4,s,ut.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,st(i,s,ywe(o-1,s,e,t,u)),a.sheets.push(s),Pt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,ut.WS[0])}if(f){var d=f["!comments"],g=!1,p="";d&&d.length>0&&(p="xl/comments"+o+"."+r,st(i,p,Swe(d,p)),a.comments.push(p),Pt(u,-1,"../comments"+o+"."+r,ut.CMNT),g=!0),f["!legacy"]&&g&&st(i,"xl/drawings/vmlDrawing"+o+".vml",hL(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&st(i,ud(s),Tc(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,st(i,s,wwe(e.Strings,s,e)),a.strs.push(s),Pt(e.wbrels,-1,"sharedStrings."+r,ut.SST)),s="xl/workbook."+r,st(i,s,xwe(t,s)),a.workbooks.push(s),Pt(e.rels,1,s,ut.WB),s="xl/theme/theme1.xml",st(i,s,vk(t.Themes,e)),a.themes.push(s),Pt(e.wbrels,-1,"theme/theme1.xml",ut.THEME),s="xl/styles."+r,st(i,s,bwe(t,s,e)),a.styles.push(s),Pt(e.wbrels,-1,"styles."+r,ut.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",st(i,s,t.vbaraw),a.vba.push(s),Pt(e.wbrels,-1,"vbaProject.bin",ut.VBA)),s="xl/metadata."+r,st(i,s,_we(s)),a.metadata.push(s),Pt(e.wbrels,-1,"metadata."+r,ut.XLMETA),st(i,"[Content_Types].xml",TR(a,e)),st(i,"_rels/.rels",Tc(e.rels)),st(i,"xl/_rels/workbook."+r+".rels",Tc(e.wbrels)),delete e.revssf,delete e.ssf,i}function HSe(t,e){gc=1024,t&&!t.SSF&&(t.SSF=Jt(Je)),t&&t.SSF&&(Du(),kv(t.SSF),e.revssf=Ev(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,eh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=pL.indexOf(e.bookType)>-1,a=fk();Ek(e=e||{});var i=J_(),s="",o=0;if(e.cellXfs=[],vo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",st(i,s,PR(t.Props,e)),a.coreprops.push(s),Pt(e.rels,2,s,ut.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,st(i,s,FR(t.Props)),a.extprops.push(s),Pt(e.rels,3,s,ut.EXT_PROPS),t.Custprops!==t.Props&&pr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",st(i,s,jR(t.Custprops)),a.custprops.push(s),Pt(e.rels,4,s,ut.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,st(i,s,AL(o-1,e,t,f)),a.sheets.push(s),Pt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,ut.WS[0])}if(h){var g=h["!comments"],p=!1,m="";if(g&&g.length>0){var v=!1;g.forEach(function(y){y[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(m="xl/threadedComments/threadedComment"+o+"."+r,st(i,m,Jve(g,u,e)),a.threadedcomments.push(m),Pt(f,-1,"../threadedComments/threadedComment"+o+"."+r,ut.TCMNT)),m="xl/comments"+o+"."+r,st(i,m,dL(g)),a.comments.push(m),Pt(f,-1,"../comments"+o+"."+r,ut.CMNT),p=!0}h["!legacy"]&&p&&st(i,"xl/drawings/vmlDrawing"+o+".vml",hL(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&st(i,ud(s),Tc(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,st(i,s,eL(e.Strings,e)),a.strs.push(s),Pt(e.wbrels,-1,"sharedStrings."+r,ut.SST)),s="xl/workbook."+r,st(i,s,PL(t)),a.workbooks.push(s),Pt(e.rels,1,s,ut.WB),s="xl/theme/theme1.xml",st(i,s,vk(t.Themes,e)),a.themes.push(s),Pt(e.wbrels,-1,"theme/theme1.xml",ut.THEME),s="xl/styles."+r,st(i,s,lL(t,e)),a.styles.push(s),Pt(e.wbrels,-1,"styles."+r,ut.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",st(i,s,t.vbaraw),a.vba.push(s),Pt(e.wbrels,-1,"vbaProject.bin",ut.VBA)),s="xl/metadata."+r,st(i,s,fL()),a.metadata.push(s),Pt(e.wbrels,-1,"metadata."+r,ut.XLMETA),u.length>1&&(s="xl/persons/person.xml",st(i,s,Qve(u)),a.people.push(s),Pt(e.wbrels,-1,"persons/person.xml",ut.PEOPLE)),st(i,"[Content_Types].xml",TR(a,e)),st(i,"_rels/.rels",Tc(e.rels)),st(i,"xl/_rels/workbook."+r+".rels",Tc(e.wbrels)),delete e.revssf,delete e.ssf,i}function Tk(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=oa(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function XSe(t,e){return Ve.find(t,"EncryptedPackage")?zSe(t,e):jL(t,e)}function YSe(t,e){var r,n=t,a=e||{};return a.type||(a.type=ct&&Buffer.isBuffer(t)?"buffer":"base64"),r=rR(n,a),$Se(r,a)}function WL(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return pw(t.slice(r),e);default:break e}return uu.to_workbook(t,e)}function VSe(t,e){var r="",n=Tk(t,e);switch(e.type){case"base64":r=oa(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=hl(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dt(r)),e.type="binary",WL(r,e)}function GSe(t,e){var r=t;return e.type=="base64"&&(r=oa(r)),r=ad.utils.decode(1200,r.slice(2),"str"),e.type="binary",WL(r,e)}function qSe(t){return t.match(/[^\x00-\x7F]/)?bi(t):t}function ay(t,e,r,n){return n?(r.type="string",uu.to_workbook(t,r)):uu.to_workbook(e,r)}function vd(t,e){Y_();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return vd(new Uint8Array(t),(r=Jt(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Oc={},r.dateNF&&(Oc.dateNF=r.dateNF),r.type||(r.type=ct&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=ct?"buffer":"binary",n=Ude(t),typeof Uint8Array<"u"&&!ct&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=qSe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Jt(r),r.type="array",vd(V_(n),r)}switch((a=Tk(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return XSe(Ve.read(n,r),r);break;case 9:if(a[1]<=8)return jL(n,r);break;case 60:return pw(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return eme(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return ZR.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?YSe(n,r):ay(t,n,r,i);case 239:return a[3]===60?pw(n,r):ay(t,n,r,i);case 255:if(a[1]===254)return GSe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Zo.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Zo.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return dw.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return iL.to_workbook(n,r);break;case 10:case 13:case 32:return VSe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Qge.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?dw.to_workbook(n,r):ay(t,n,r,i)}function UL(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Wd(e.file,Ve.write(t,{type:ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ve.write(t,e)}function KSe(t,e){var r=Jt(e||{}),n=WSe(t,r);return JSe(n,r)}function JSe(t,e){var r={},n=ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Ve.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(_v(a))}return e.password&&typeof encrypt_agile<"u"?UL(encrypt_agile(a,e.password),e):e.type==="file"?Wd(e.file,a):e.type=="string"?Dt(a):a}function ZSe(t,e){var r=e||{},n=qwe(t,r);return UL(n,r)}function gi(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return id(bi(n));case"binary":return bi(n);case"string":return t;case"file":return Wd(e.file,n,"utf8");case"buffer":return ct?hs(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):gi(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function QSe(t,e){switch(e.type){case"base64":return id(t);case"binary":return t;case"string":return t;case"file":return Wd(e.file,t,"binary");case"buffer":return ct?hs(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Z0(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?id(r):e.type=="string"?Dt(r):r;case"file":return Wd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function HL(t,e){Y_(),X1e(t);var r=Jt(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=HL(t,r);return r.type="array",_v(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return gi(Wwe(t,r),r);case"slk":case"sylk":return gi(JR.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return gi(DL(t.Sheets[t.SheetNames[a]],r),r);case"txt":return QSe(XL(t.Sheets[t.SheetNames[a]],r),r);case"csv":return gi(Ck(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return gi(ZR.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return Z0(dw.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return gi(uu.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return gi(iL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return gi(QR.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return gi($L(t,r),r);case"wk1":return Z0(Zo.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return Z0(Zo.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Z0(ML(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),ZSe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return KSe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function e_e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function t_e(t,e,r){var n={};return n.type="file",n.file=e,e_e(n),HL(t,n)}function r_e(t,e,r,n,a,i,s,o){var l=xr(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||t[r])for(var d=e.s.c;d<=e.e.c;++d){var g=s?t[r][d]:t[n[d]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[d]!=null){if(p==null)if(g.t=="e"&&p===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&p===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:os(g,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function lm(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=bt(u);break;case"number":l=bt(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=xr(l.s.r),h=[],d=[],g=0,p=0,m=Array.isArray(t),v=l.s.r,y=0,b={};m&&!t[v]&&(t[v]=[]);var S=c.skipHidden&&t["!cols"]||[],w=c.skipHidden&&t["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(S[y]||{}).hidden)switch(h[y]=nr(y),r=m?t[v][y]:t[h[y]+f],n){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=c.header[y-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=os(r,null,c),p=b[s]||0,!p)b[s]=1;else{do o=s+"_"+p++;while(b[o]);b[s]=p,b[o]=1}i[y]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var _=r_e(t,l,v,h,n,i,m,c);(_.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[g++]=_.row)}return d.length=g,d}var CP=/"/g;function n_e(t,e,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=xr(r),h=e.s.c;h<=e.e.c;++h)if(n[h]){var d=o.dense?(t[r]||[])[h]:t[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:os(d,null,o));for(var g=0,p=0;g!==u.length;++g)if((p=u.charCodeAt(g))===a||p===i||p===34||o.forceQuotes){u='"'+u.replace(CP,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(CP,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Ck(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=bt(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(t);for(var h=n.skipHidden&&t["!cols"]||[],d=n.skipHidden&&t["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=nr(g));for(var p=0,m=a.s.r;m<=a.e.r;++m)(d[m]||{}).hidden||(u=n_e(t,a,m,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function XL(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Ck(t,e);return r}function a_e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=bt(t["!ref"]),i="",s=[],o,l=[],c=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)s[o]=nr(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=xr(u),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function YL(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ar(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var f=bt(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+a)}else s==-1&&(s=0,u.e.r=e.length-1+a);var h=n.header||[],d=0;e.forEach(function(p,m){pr(p).forEach(function(v){(d=h.indexOf(v))==-1&&(h[d=h.length]=v);var y=p[v],b="z",S="",w=Ze({c:o+d,r:s+m+a});c=xd(i,w),y&&typeof y=="object"&&!(y instanceof Date)?i[w]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=Dr(y)),S=n.dateNF||Je[14]):y===null&&n.nullError&&(b="e",y=0),c?(c.t=b,c.v=y,delete c.w,delete c.R,S&&(c.z=S)):i[w]=c={t:b,v:y},S&&(c.z=S))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=xr(s);if(a)for(d=0;d<h.length;++d)i[nr(d+o)+g]={t:"s",v:h[d]};return i["!ref"]=it(u),i}function i_e(t,e){return YL(null,t,e)}function xd(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=ar(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?xd(t,Ze(e)):xd(t,Ze({r:e,c:r||0}))}function s_e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Ok(){return{SheetNames:[],Sheets:{}}}function Pk(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(OL(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function o_e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=s_e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function l_e(t,e){return t.z=e,t}function VL(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function c_e(t,e,r){return VL(t,"#"+e,r)}function u_e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function f_e(t,e,r,n){for(var a=typeof e!="string"?e:bt(e),i=typeof e=="string"?e:it(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=xd(t,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return t}var An={encode_col:nr,encode_row:xr,encode_cell:Ze,encode_range:it,decode_col:ik,decode_row:ak,split_cell:w0e,decode_cell:ar,decode_range:Hn,format_cell:os,sheet_add_aoa:bR,sheet_add_json:YL,sheet_add_dom:RL,aoa_to_sheet:Ru,json_to_sheet:i_e,table_to_sheet:LL,table_to_book:vSe,sheet_to_csv:Ck,sheet_to_txt:XL,sheet_to_json:lm,sheet_to_html:DL,sheet_to_formulae:a_e,sheet_to_row_object_array:lm,sheet_get_cell:xd,book_new:Ok,book_append_sheet:Pk,book_set_sheet_visibility:o_e,cell_set_number_format:l_e,cell_set_hyperlink:VL,cell_set_internal_link:c_e,cell_add_comment:u_e,sheet_set_array_formula:f_e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function h_e({storageKey:t,delayMs:e=2e3,serializeDraft:r,deserializeDraft:n,onFlush:a}){const[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,u]=U.useState(null),[f,h]=U.useState(null),d=U.useRef(null),g=U.useRef(null),p=U.useRef(!1),m=U.useCallback(k=>{try{const A=r(k);localStorage.setItem(t,A)}catch(A){console.error("Failed to persist draft:",A)}},[t,r]),v=U.useCallback(()=>{try{localStorage.removeItem(t)}catch(k){console.error("Failed to clear draft:",k)}},[t]),y=U.useCallback(()=>{try{const k=localStorage.getItem(t);if(k)return n(k)}catch(k){console.error("Failed to load draft:",k)}return null},[t,n]),b=U.useCallback(async()=>{if(!(p.current||!d.current)){p.current=!0,l(!0),h(null);try{await a(d.current),d.current=null,s(!1),u(new Date().toISOString()),v()}catch(k){console.error("Autosave flush failed:",k);const A=k.message||k.error_description||String(k);h(A)}finally{l(!1),p.current=!1}}},[a,v]),S=U.useCallback(k=>{d.current=k,s(!0),h(null),m(k),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{b()},e)},[e,m,b]),w=U.useCallback(async()=>{g.current&&(clearTimeout(g.current),g.current=null),await b()},[b]),_=U.useCallback(()=>{g.current&&(clearTimeout(g.current),g.current=null),d.current=null,s(!1),h(null),v()},[v]);return U.useEffect(()=>{const k=A=>{if(i)return A.preventDefault(),A.returnValue="You have unsaved changes. Are you sure you want to leave?",A.returnValue};return window.addEventListener("beforeunload",k),()=>{window.removeEventListener("beforeunload",k)}},[i]),U.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]),{hasUnsavedChanges:i,isSaving:o,lastSavedAt:c,error:f,queueChanges:S,saveNow:w,discard:_,loadDraft:y}}function d_e({visible:t,isSaving:e,lastSavedAt:r,error:n,onSave:a,onDiscard:i}){if(!t)return null;const s=o=>{if(!o)return"";try{const l=new Date(o),c=String(l.getHours()).padStart(2,"0"),u=String(l.getMinutes()).padStart(2,"0"),f=String(l.getSeconds()).padStart(2,"0");return`${c}:${u}:${f}`}catch{return""}};return x.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ease-in-out",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-slate-300 px-6 py-3 flex items-center gap-4",children:[x.jsx("div",{className:"flex items-center gap-2 min-w-[150px]",children:e?x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"animate-spin h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x.jsx("span",{className:"text-sm text-slate-600",children:"Saving..."})]}):n?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-red-600",children:""}),x.jsx("span",{className:"text-sm text-red-600",title:n,children:"Save failed"})]}):r?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-green-600",children:""}),x.jsxs("span",{className:"text-sm text-slate-600",children:["Saved at ",s(r)]})]}):x.jsx("span",{className:"text-sm text-slate-600",children:"Unsaved changes"})}),x.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-300 pl-4",children:[x.jsx("button",{onClick:i,disabled:e,className:"px-4 py-1.5 text-sm rounded-lg border border-slate-300 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Discard"}),x.jsx("button",{onClick:a,disabled:e,className:"px-4 py-1.5 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Save"})]})]})})}var iy={};function p_e(){const t=typeof window<"u"&&window.__ENV?window.__ENV:{};return([t.API_BASE,t.NEXT_PUBLIC_API_BASE,t.VITE_API_BASE,iy.API_BASE,iy.NEXT_PUBLIC_API_BASE,iy.VITE_API_BASE].find(Boolean)||"").replace(/\/$/,"")}async function g_e(t,e,r={}){const n=p_e(),a=t.match(/^https?:\/\//)?t:`${n}/${t.replace(/^\/+/,"")}`,i={method:r.method||"POST",...r,body:e},s=await fetch(a,i),o=await s.text(),l=(s.headers.get("content-type")||"").toLowerCase();if(!s.ok){const c=o?o.slice(0,1e3):"";throw new Error(`API error ${s.status} ${s.statusText} from ${a}: ${c}`)}if(l.includes("application/json"))try{return JSON.parse(o)}catch{throw new Error(`Invalid JSON from ${a}: ${o.slice(0,1e3)}`)}throw new Error(`Expected JSON from ${a} but got content-type: ${l}  preview: ${o.slice(0,1e3)}`)}const GL="kpi_local_imports";function OP(t){try{const e=m_e(),r=`local_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,n={id:r,...t,status:"local_pending",created_at:new Date().toISOString(),uploaded_locally:!0};return e.push(n),localStorage.setItem(GL,JSON.stringify(e)),console.debug("[localImports] Saved local import:",r),r}catch(e){throw console.error("[localImports] Failed to save local import:",e),new Error(`Failed to save import locally: ${e.message}`)}}function m_e(){try{const t=localStorage.getItem(GL);return t?JSON.parse(t):[]}catch(t){return console.error("[localImports] Failed to read local imports:",t),[]}}function v_e(){const[t,e]=U.useState(!1),[r,n]=U.useState(!1),[a,i]=U.useState(null),s=U.useRef(null),o=async u=>{var h,d,g,p,m,v,y,b,S;const f=u.target.files;if(!(!f||f.length===0)){e(!0),i(null);try{console.debug("[UploadServiceScanButton] === Upload Diagnostics ==="),console.debug("[UploadServiceScanButton] Files selected:",f.length),console.debug("[UploadServiceScanButton] File details:",Array.from(f).map(P=>({name:P.name,size:P.size,type:P.type})));const w=typeof window<"u"&&((h=window.__ENV)==null?void 0:h.VITE_SUPABASE_URL)||"https://jskajkwulaaakhaolzdu.supabase.co",_=typeof window<"u"&&((d=window.__ENV)==null?void 0:d.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impza2Fqa3d1bGFhYWtoYW9semR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NTExMjEsImV4cCI6MjA3MzAyNzEyMX0.8pq0sVGGofg2vGmrOdbvqbVX-mFcdQInZ3T5pc70Qb4";console.debug("[UploadServiceScanButton] Supabase URL (truncated):",(P=>P?`${P.substring(0,30)}...`:"missing")(w)),console.debug("[UploadServiceScanButton] Supabase Anon Key:",_?" present":" missing"),console.debug("[UploadServiceScanButton] Using shared Supabase client"),console.debug("[UploadServiceScanButton] Testing bucket access...");try{const{data:P,error:Y}=await be.storage.from("ticket-scans").list("",{limit:1});if(Y){if(console.error("[UploadServiceScanButton] Bucket test error:",Y.message),(g=Y.message)!=null&&g.includes("not found")||(p=Y.message)!=null&&p.includes("Bucket not found"))throw new Error("Storage bucket 'ticket-scans' not found. Please create it in Supabase Dashboard or run: supabase storage create-bucket ticket-scans --public false. See SUPABASE_UPLOAD_SETUP.md for detailed instructions.")}else console.debug("[UploadServiceScanButton] Bucket access test:  OK")}catch(P){if((m=P.message)!=null&&m.includes("Storage bucket"))throw P;console.warn("[UploadServiceScanButton] Bucket test failed (will retry on upload):",P.message)}const A=()=>new Date().toISOString().replace(/[:T]/g,"-").split(".")[0],E=P=>P.replace(/\.\./g,"").replace(/[\/\\]/g,"_").replace(/[^a-zA-Z0-9._-]/g,"_"),C=P=>new Promise((Y,B)=>{const G=new FileReader;G.onload=()=>{const te=G.result.split(",")[1];Y(te)},G.onerror=B,G.readAsDataURL(P)}),T=async P=>{const Y=[];for(const B of Array.from(P)){const G=await C(B);Y.push({name:B.name,mimetype:B.type,size:B.size,base64:G})}return Y},O=async P=>{var le,re,se;const Y=await C(P),B=typeof window<"u"&&((le=window.__ENV)==null?void 0:le.API_BASE)||typeof window<"u"&&((re=window.__ENV)==null?void 0:re.NEXT_PUBLIC_API_BASE)||typeof window<"u"&&((se=window.__ENV)==null?void 0:se.VITE_API_BASE)||void 0||void 0||"",G=B?`${B}/.netlify/functions/imports-upload`:"/.netlify/functions/imports-upload";console.debug("[UploadServiceScanButton] Upload endpoint:",G);const te=JSON.stringify({filename:P.name,contentType:P.type,base64:Y});return await g_e(G,te,{headers:{"Content-Type":"application/json"}})},N=[],z=A();let W=!1;for(const P of Array.from(f)){const Y=E(P.name),B=`upload_${z}/${Y}`;console.debug(`[UploadServiceScanButton] Uploading file: ${P.name} -> ${B}`);let G=null,te=null;if(!W){const re=await be.storage.from("ticket-scans").upload(B,P,{cacheControl:"3600",upsert:!1});G=re.data,te=re.error}if(te){console.error("[UploadServiceScanButton] Upload error:",te),console.error("[UploadServiceScanButton] Upload error details:",{message:te.message,status:te.status,statusCode:te.statusCode});const re=te.message||"",se=te.status||te.statusCode,xe=re.includes("not found")||re.includes("Bucket not found")||se===404,D=re.includes("permission")||re.includes("policy")||se===403;if(xe||D){console.debug("[UploadServiceScanButton] Client upload failed, attempting server-signed-upload fallback..."),W=!0;try{const Ce=await O(P);console.debug("[UploadServiceScanButton] Server upload successful:",Ce.storagePath),N.push({name:P.name,mimetype:P.type,storage_path:Ce.storagePath,url:Ce.signedViewUrl});continue}catch(Ce){console.error("[UploadServiceScanButton] Server upload fallback failed:",Ce),console.warn("[UploadServiceScanButton] Attempting local storage fallback...");const Ee=await T(f);try{const $e=OP({src:"upload",attached_files:Ee,status:"local_pending",meta:{importType:"service",source:"delivery_page_upload",uploadFailed:!0,clientError:te==null?void 0:te.message,serverError:Ce.message}});console.debug(`[imports/upload] source=delivery_page_upload id=${$e} files=${Ee.length} (saved locally)`),e(!1),alert(` Upload to cloud storage failed. Your import has been saved locally.

Note: Local imports are stored in your browser and will not sync across devices.
Please ensure storage bucket is configured in Supabase for full functionality.`),sessionStorage.setItem("highlightImportId",$e),console.debug("[UploadServiceScanButton] Dispatching navigateToImports event with local importId:",$e),window.dispatchEvent(new CustomEvent("navigateToImports",{detail:{importId:$e}}));return}catch($e){throw console.error("[UploadServiceScanButton] Local storage fallback failed:",$e),new Error(` Upload failed - all methods exhausted.

Client upload: ${(te==null?void 0:te.message)||"Failed"}
Server upload: ${Ce.message}
Local storage: ${$e.message}

Please contact administrator to configure storage access.`)}}}else throw se===400?new Error(` Bad request during upload.

Error: ${re}

This may indicate a configuration issue with the storage bucket or file validation.`):new Error(`Failed to upload ${P.name}: ${re}`)}if(W&&!te)try{const re=await O(P);console.debug("[UploadServiceScanButton] Server upload successful:",re.storagePath),N.push({name:P.name,mimetype:P.type,storage_path:re.storagePath,url:re.signedViewUrl});continue}catch(re){console.error("[UploadServiceScanButton] Server upload failed:",re),console.warn("[UploadServiceScanButton] Attempting local storage fallback...");const se=await T(f);try{const xe=OP({src:"upload",attached_files:se,status:"local_pending",meta:{importType:"service",source:"delivery_page_upload",uploadFailed:!0,serverError:re.message}});console.debug(`[imports/upload] source=delivery_page_upload id=${xe} files=${se.length} (saved locally)`),e(!1),alert(` Upload to cloud storage failed. Your import has been saved locally.

Note: Local imports are stored in your browser and will not sync across devices.
Please ensure storage bucket is configured in Supabase for full functionality.`),sessionStorage.setItem("highlightImportId",xe),console.debug("[UploadServiceScanButton] Dispatching navigateToImports event with local importId:",xe),window.dispatchEvent(new CustomEvent("navigateToImports",{detail:{importId:xe}}));return}catch(xe){throw console.error("[UploadServiceScanButton] Local storage fallback failed:",xe),new Error(` Upload failed - all methods exhausted.

Server upload: ${re.message}
Local storage: ${xe.message}

Please contact administrator.`)}}console.debug(`[UploadServiceScanButton] File uploaded successfully: ${B}`);const{data:oe,error:le}=await be.storage.from("ticket-scans").createSignedUrl(B,3600);le?console.error("[UploadServiceScanButton] Signed URL error:",le):console.debug(`[UploadServiceScanButton] Signed URL created: ${oe!=null&&oe.signedUrl?"":""}`),N.push({name:P.name,mimetype:P.type,storage_path:B,url:(oe==null?void 0:oe.signedUrl)||null})}console.debug("[UploadServiceScanButton] Files uploaded:",N.length),console.debug("[UploadServiceScanButton] Creating ticket_imports record...");const{data:F,error:L}=await be.from("ticket_imports").insert({src:"upload",attached_files:N,status:"needs_review",meta:{importType:"service",source:"delivery_page_upload"}}).select().single();if(L)throw console.error("[UploadServiceScanButton] Insert error:",L),(v=L.message)!=null&&v.includes("permission")||(y=L.message)!=null&&y.includes("policy")?new Error("Permission denied for creating import record. Please verify anon RLS policies. Run the SQL from supabase/migrations/0005_enable_anon_ticket_imports.sql"):new Error(`Failed to create import record: ${L.message}`);const H=F.id;console.debug(`[imports/upload] source=delivery_page_upload id=${H} files=${N.length}`),e(!1),n(!0);let I=!1,X="";try{const P=typeof window<"u"&&((b=window.__ENV)==null?void 0:b.NEXT_PUBLIC_API_BASE)||typeof window<"u"&&((S=window.__ENV)==null?void 0:S.VITE_API_BASE)||void 0||void 0||"",Y=P?`${P}/api/imports/process/${H}`:"/.netlify/functions/imports-process",B=P?{}:{importId:H};console.debug("[UploadServiceScanButton] Process endpoint:",Y),console.debug("[UploadServiceScanButton] Process payload:",B);const G=await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(G.ok){const te=await G.json();console.debug("[UploadServiceScanButton] Processing result:",te),I=!0,X=te.message||"Processing completed successfully"}else{const te=await G.json().catch(()=>({message:"Unknown error"}));console.warn("[UploadServiceScanButton] Processing failed:",te),X=te.message||"OCR processing failed - import saved for manual review"}}catch(P){console.warn("[UploadServiceScanButton] Processing trigger error:",P.message),X="OCR processing not available - import saved for manual review"}n(!1);const K=I?` Successfully uploaded ${N.length} file(s). ${X}`:` Upload successful, but OCR processing failed.

${X}

You can find the import in the Imports Review section and process it manually.`;alert(K),sessionStorage.setItem("highlightImportId",H),console.debug("[UploadServiceScanButton] Dispatching navigateToImports event with importId:",H),window.dispatchEvent(new CustomEvent("navigateToImports",{detail:{importId:H}})),s.current&&(s.current.value="")}catch(w){console.error("[UploadServiceScanButton] Error:",w),console.error("[UploadServiceScanButton] Error stack:",w.stack),i({title:"Upload Failed",message:w.message,timestamp:new Date().toISOString()}),e(!1),n(!1)}}},l=()=>{i(null)},c=()=>t?" Uploading...":r?" Processing...":" Upload Service Scan";return x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{var u;return(u=s.current)==null?void 0:u.click()},disabled:t||r,title:"Upload scanned service tickets (PDF/Image) for processing",children:c()}),x.jsx("input",{ref:s,type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif",multiple:!0,className:"hidden",onChange:o}),a&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[x.jsxs("div",{className:"flex items-start justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("span",{className:"text-2xl mr-2",children:""}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.title})]}),x.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:x.jsx("span",{className:"text-2xl",children:""})})]}),x.jsx("div",{className:"mb-4",children:x.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.message})}),a.timestamp&&x.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Time: ",new Date(a.timestamp).toLocaleString()]}),x.jsx("div",{className:"flex justify-end gap-2",children:x.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"OK"})})]})})]})}function x_e(){const[t,e]=U.useState([]),[r,n]=U.useState([]),[a,i]=U.useState("open"),[s,o]=U.useState([]),l=U.useRef(null),c=U.useRef(null),[u,f]=U.useState(null),[h,d]=U.useState({}),[g,p]=U.useState(1),[m]=U.useState(15),[v,y]=U.useState(0),[b,S]=U.useState({}),[w,_]=U.useState("all"),[k,A]=U.useState(""),[E,C]=U.useState(""),[T,O]=U.useState("ALL"),N=h_e({storageKey:"delivery-tickets-draft",delayMs:2e3,serializeDraft:M=>JSON.stringify(M),deserializeDraft:M=>JSON.parse(M),onFlush:async M=>{const Z=await yz(M),ue=Object.entries(Z).filter(([pe,Se])=>!Se.success);if(ue.length>0)throw console.error("Some ticket updates failed:",ue),new Error(`Failed to save ${ue.length} ticket(s). See console for details.`)}}),z=U.useMemo(()=>{if(w==="all")return r;const M=new Date;let Z,ue;if(w==="today")Z=new Date(M.getFullYear(),M.getMonth(),M.getDate()),ue=new Date(M.getFullYear(),M.getMonth(),M.getDate()+1);else if(w==="week"){const pe=M.getDay();Z=new Date(M.getFullYear(),M.getMonth(),M.getDate()-pe),ue=new Date(M.getFullYear(),M.getMonth(),M.getDate()+(7-pe))}else if(w==="month")Z=new Date(M.getFullYear(),M.getMonth(),1),ue=new Date(M.getFullYear(),M.getMonth()+1,1);else if(w==="year")Z=new Date(M.getFullYear(),0,1),ue=new Date(M.getFullYear()+1,0,1);else if(w==="custom"){if(!k&&!E)return r;Z=k?new Date(k):new Date(0),ue=E?new Date(new Date(E).getTime()+864e5):new Date(864e13)}return r.filter(pe=>{if(!pe.date)return!1;const Se=new Date(pe.date);return Se>=Z&&Se<ue})},[r,w,k,E]),W=U.useMemo(()=>{if(w==="all")return t;const M=new Date;let Z,ue;if(w==="today")Z=new Date(M.getFullYear(),M.getMonth(),M.getDate()),ue=new Date(M.getFullYear(),M.getMonth(),M.getDate()+1);else if(w==="week"){const pe=M.getDay();Z=new Date(M.getFullYear(),M.getMonth(),M.getDate()-pe),ue=new Date(M.getFullYear(),M.getMonth(),M.getDate()+(7-pe))}else if(w==="month")Z=new Date(M.getFullYear(),M.getMonth(),1),ue=new Date(M.getFullYear(),M.getMonth()+1,1);else if(w==="year")Z=new Date(M.getFullYear(),0,1),ue=new Date(M.getFullYear()+1,0,1);else if(w==="custom"){if(!k&&!E)return t;Z=k?new Date(k):new Date(0),ue=E?new Date(new Date(E).getTime()+864e5):new Date(864e13)}return t.filter(pe=>{if(!pe.date)return!1;const Se=new Date(pe.date);return Se>=Z&&Se<ue})},[t,w,k,E]),F=U.useMemo(()=>Az(z),[z]),L=U.useMemo(()=>T==="ALL"?W:W.filter(M=>(M.truck||M.truck_id||"Unassigned")===T),[W,T]),H=U.useMemo(()=>T==="ALL"?z:z.filter(M=>(M.truck||M.truck_id||"Unassigned")===T),[z,T]),I=U.useMemo(()=>jb(z),[z]),X=U.useMemo(()=>T==="ALL"?I:jb(H),[H,T,I]),K=U.useMemo(()=>{const M=kz(z);return Object.keys(M).map(Z=>({truck:Z,...M[Z]})).sort((Z,ue)=>ue.amount-Z.amount)},[z]);U.useMemo(()=>({qty:I.tickets,amount:I.amount,totalGallons:I.totalGallons,avgMiles:I.avgMiles,onTimePct:I.onTimePct}),[I]);async function P(){var Z;const{data:M}=await be.auth.getUser();return((Z=M==null?void 0:M.user)==null?void 0:Z.id)??null}U.useEffect(()=>{let M=!0;async function Z(){try{const[{rows:ue,count:pe},Se]=await Promise.all([TA(g,m),gz()]);if(!M)return;y(pe),n(Se);const Ge=N.loadDraft();if(Ge){const Ne=ue.map(Xe=>Ge[Xe.id]?{...Xe,...Ge[Xe.id]}:Xe);e(Ne),S(Ge),setTimeout(()=>{M&&N.queueChanges(Ge)},100)}else e(ue);const He={};if(await Promise.all(ue.slice(0,30).map(async Ne=>{try{const Xe=await CA(Ne.id);He[Ne.id]=Xe}catch(Xe){console.error(`Failed to load attachments for ticket ${Ne.id}:`,Xe.message||Xe),He[Ne.id]=[]}})),!M)return;d(He)}catch(ue){console.error("Failed to load tickets:",ue);const pe=ue.message||ue.error_description||JSON.stringify(ue);alert(`Failed to load tickets: ${pe}. See console for details.`)}}return Z(),()=>{M=!1}},[g,m]),U.useEffect(()=>{const M=document.querySelector(".delivery-table-container");if(!M)return;const Z=Se=>{if(!Se)return;const Ge=Se.querySelector('[data-col="gallons"] input'),He=Se.querySelector('[data-col="qty"] input'),Ne=Se.querySelector('[data-col="price"] input'),Xe=Se.querySelector('[data-col="account"] input'),wt=(Ge==null?void 0:Ge.value)||"",je=(He==null?void 0:He.value)||"",tt=(Ne==null?void 0:Ne.value)||"",br=(Xe==null?void 0:Xe.value)||"",jt=document.getElementById("preview-gallons"),fi=document.getElementById("preview-qty"),Hu=document.getElementById("preview-price"),n0=document.getElementById("preview-account");if(jt&&(jt.textContent=wt!==""?wt:""),fi&&(fi.textContent=je!==""?je:""),Hu){const a0=parseFloat(tt);Hu.textContent=tt!==""&&!isNaN(a0)?`$${a0.toFixed(2)}`:""}n0&&(n0.textContent=br!==""?br:"")},ue=Se=>{const He=Se.target.closest("tr");Z(He)},pe=Se=>{const He=Se.target.closest("tr");Z(He)};return M.addEventListener("input",ue),M.addEventListener("focusin",pe),()=>{M.removeEventListener("input",ue),M.removeEventListener("focusin",pe)}},[]);async function Y(){const M=await P(),Z=new Date(Date.now()-864e5).toISOString().slice(0,10),ue={date:Z,driver:"",truck:"",truck_id:null,customerName:"",customer_name:"",account:"",qty:null,price:null,tax:null,hazmat_fee:null,amount:null,status:"draft",notes:"",ticket_id:null,ticket_no:null,gallons:null,gallons_delivered:null,price_per_gallon:null,total_amount:null,delivery_date:Z,ticket_date:Z,scheduled_window_start:null,arrival_time:null,departure_time:null,odometer_start:null,odometer_end:null,miles_driven:null,on_time_flag:null,created_by:M};try{const pe=await mz(ue);e(Se=>[pe,...Se])}catch(pe){console.error("Failed to add ticket:",pe);const Se=pe.message||pe.error_description||JSON.stringify(pe);alert(`Failed to add ticket: ${Se}. See console for details.`)}}async function B(M,Z,ue){const Se=["qty","price","tax","hazmat_fee","amount","gallons_delivered","odometer_start","odometer_end"].includes(Z)?ue===""||ue==null?null:Number(ue):ue,Ge={[Z]:Se},He=t.find(Ne=>Ne.id===M);if(He){if(Z==="qty"||Z==="price"||Z==="tax"||Z==="hazmat_fee"){const Ne=Z==="qty"?Se||0:He.qty||0,Xe=Z==="price"?Se||0:He.price||0,wt=Z==="tax"?Se||0:He.tax||0,je=Z==="hazmat_fee"?Se||0:He.hazmat_fee||0;Ge.amount=Ne*Xe+wt+je}if(Z==="odometer_start"||Z==="odometer_end"){const Ne=Z==="odometer_start"?Se:He.odometer_start,Xe=Z==="odometer_end"?Se:He.odometer_end;Ne!=null&&Xe!=null&&Ne!==""&&Xe!==""?Ge.miles_driven=Number(Xe)-Number(Ne):Ge.miles_driven=null}if(Z==="scheduled_window_start"||Z==="arrival_time"){const Ne=Z==="scheduled_window_start"?Se:He.scheduled_window_start,Xe=Z==="arrival_time"?Se:He.arrival_time;if(Ne&&Xe){const wt=new Date(Ne),je=new Date(Xe),tt=5*60*1e3;Ge.on_time_flag=je<=new Date(wt.getTime()+tt)?1:0}else Ge.on_time_flag=null}e(Ne=>Ne.map(Xe=>Xe.id!==M?Xe:{...Xe,...Ge})),S(Ne=>{const Xe={...Ne,[M]:{...Ne[M]||{},...Ge}};return N.queueChanges(Xe),Xe})}}async function G(M){if(confirm("Delete this ticket?"))try{await xz(M),e(Z=>Z.filter(ue=>ue.id!==M)),d(Z=>{const ue={...Z};return delete ue[M],ue}),S(Z=>{const ue={...Z};return delete ue[M],Object.keys(ue).length>0?N.queueChanges(ue):N.discard(),ue})}catch(Z){console.error(Z),alert("Delete failed.")}}async function te(){await N.saveNow(),S({})}async function oe(){if(confirm("Discard all unsaved changes? This will reload data from the server.")){S({}),N.discard();try{const{rows:M,count:Z}=await TA(g,m);e(M),y(Z)}catch(M){console.error("Failed to reload tickets:",M),alert("Failed to reload tickets. Please refresh the page.")}}}function le(M){M.target&&(M.target.tagName==="INPUT"||M.target.tagName==="TEXTAREA")&&(M.target.scrollLeft=0)}async function re(M){const Z=await M.text(),[ue,...pe]=Z.split(/\r?\n/).filter(Boolean),Se=ue.split(",").map(je=>je.trim()),He=["date","driver","truck","customer","account","qty","price","tax","amount"].filter(je=>!Se.includes(je));if(He.length){alert("Missing csv columns: "+He.join(", "));return}const Ne=Object.fromEntries(Se.map((je,tt)=>[je,tt])),Xe=pe.map(je=>{const tt=je.split(",");return{date:tt[Ne.date],driver:tt[Ne.driver],truck:tt[Ne.truck],customerName:tt[Ne.customer],account:tt[Ne.account],qty:Number(tt[Ne.qty]||0),price:Number(tt[Ne.price]||0),tax:Number(tt[Ne.tax]||0),amount:Number(tt[Ne.amount]||0),status:"draft"}}),wt=await P();try{const je=Xe.map(jt=>({...jt,created_by:wt})),{data:tt,error:br}=await be.from("delivery_tickets").insert(je).select();if(br)throw br;e(jt=>[...tt,...jt]),alert(`Imported ${tt.length} rows.`)}catch(je){console.error("Import failed:",je),alert("CSV import failed. See console.")}}function se(M){var ue;const Z=(ue=M.target.files)==null?void 0:ue[0];Z&&re(Z),M.target.value=""}function xe(M){var Z;f(M),(Z=c.current)==null||Z.click()}async function D(M){var ue;const Z=(ue=M.target.files)==null?void 0:ue[0];if(Z&&u){await Ce(u,Z);const pe=await CA(u);d(Se=>({...Se,[u]:pe})),f(null)}M.target.value=""}async function Ce(M,Z){const ue=`tickets/${M}/${Date.now()}-${Z.name}`;try{const pe=await bz(Z,ue),Se=await P(),Ge=(pe==null?void 0:pe.path)||(pe==null?void 0:pe.Key)||ue;await wz({ticket_id:M,storage_key:Ge,filename:Z.name,content_type:Z.type,size:Z.size,uploaded_by:Se}),alert("Attachment uploaded.")}catch(pe){console.error("Upload failed:",pe),alert("Attachment upload failed.")}}function Ee(){const M=[];t.forEach((Z,ue)=>{Z.customerName||M.push({i:ue,msg:"Missing customer"}),Z.account||M.push({i:ue,msg:"Missing account"}),(Z.qty||0)<=0&&M.push({i:ue,msg:"Qty must be > 0"}),(Z.price||0)<0&&M.push({i:ue,msg:"Price must be >= 0"})}),o(M),M.length||alert("No exceptions. Ready to transfer.")}async function $e(){if(s.length)return alert("Resolve exceptions first.");if(!t.length)return alert("Nothing to post.");try{const M=t.filter(ue=>ue.status==="draft").map(ue=>ue.id);M.length&&await be.from("delivery_tickets").update({status:"posted"}).in("id",M);const Z=await pz();e(Z),i("posted"),alert("Batch posted.")}catch(M){console.error("Post failed:",M),alert("Post failed.")}}function ze(){const M=["date,driver,truck,customer,qty,amount",...t.filter(pe=>pe.status==="posted").map(pe=>[pe.date,pe.driver,pe.truck,pe.customerName,pe.qty,pe.amount].join(","))].join(`
`),Z=new Blob([M],{type:"text/csv"}),ue=document.createElement("a");ue.href=URL.createObjectURL(Z),ue.download="pps-truck-export.csv",ue.click(),URL.revokeObjectURL(ue.href)}function ie(){const M=["date","truck","driver","ticket_id","customerName","gallons_delivered","account","qty","price","tax","hazmat_fee","amount","status"],Z=[M.join(","),...L.map(Ge=>M.map(He=>{const Ne=Ge[He]??"";return String(Ne).includes(",")||String(Ne).includes('"')?`"${String(Ne).replace(/"/g,'""')}"`:Ne}).join(","))].join(`
`),ue=new Blob([Z],{type:"text/csv"}),pe=URL.createObjectURL(ue),Se=document.createElement("a");Se.href=pe,Se.download=`delivery-tickets-${w}-${T}-${new Date().toISOString().slice(0,10)}.csv`,Se.click(),URL.revokeObjectURL(pe)}function Me(){const M=["Date","Truck","Driver","Ticket ID","Customer","Gallons Delivered","Account","Qty","Price","Tax","Hazmat Fee","Amount","Status"],Z=["date","truck","driver","ticket_id","customerName","gallons_delivered","account","qty","price","tax","hazmat_fee","amount","status"],ue=[M,...L.map(He=>Z.map(Ne=>He[Ne]??""))],pe=An.aoa_to_sheet(ue),Se=An.book_new();An.book_append_sheet(Se,pe,"Tickets");const Ge=`delivery-tickets-${w}-${T}-${new Date().toISOString().slice(0,10)}.xlsx`;t_e(Se,Ge)}const Qe=U.useMemo(()=>{const M=T==="ALL"?W:L,Z={};return M.forEach(ue=>{const pe=ue.date||"Unknown";Z[pe]||(Z[pe]={date:pe,gallons:0,revenue:0}),Z[pe].gallons+=Number(ue.gallons_delivered||ue.qty)||0,Z[pe].revenue+=Number(ue.amount)||0}),Object.values(Z).sort((ue,pe)=>ue.date.localeCompare(pe.date))},[W,L,T]);return x.jsxs("div",{className:"dt-page space-y-6",children:[x.jsx(d_e,{visible:N.hasUnsavedChanges,isSaving:N.isSaving,lastSavedAt:N.lastSavedAt,error:N.error,onSave:te,onDiscard:oe}),x.jsxs("header",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Delivery Tickets"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border px-3 py-1.5",onClick:Y,children:"Add ticket"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5",onClick:()=>{var M;return(M=l.current)==null?void 0:M.click()},children:"Import CSV"}),x.jsx("input",{ref:l,type:"file",accept:".csv",className:"hidden",onChange:se})]})]}),x.jsx("div",{className:"rounded-lg border p-4 bg-slate-50",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[x.jsx("label",{className:"font-semibold",children:"Filters:"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="all"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("all"),children:"All"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="today"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("today"),children:"Today"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="week"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("week"),children:"This Week"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="month"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("month"),children:"This Month"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="year"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("year"),children:"This Year"}),x.jsx("button",{className:`px-3 py-1 rounded ${w==="custom"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>_("custom"),children:"Custom Range"}),w==="custom"&&x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"date",value:k,onChange:M=>A(M.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Start"}),x.jsx("span",{children:"to"}),x.jsx("input",{type:"date",value:E,onChange:M=>C(M.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"End"})]})]})}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("label",{className:"font-semibold",children:"Truck:"}),x.jsxs("select",{value:T,onChange:M=>O(M.target.value),className:"px-3 py-1.5 border rounded",children:[x.jsx("option",{value:"ALL",children:"All Trucks"}),F.map(M=>x.jsx("option",{value:M,children:M},M))]}),x.jsxs("span",{className:"text-sm text-slate-600",children:["Showing ",L.length," of ",t.length," tickets"]})]}),x.jsxs("div",{className:"rounded-lg border p-4",children:[x.jsxs("h3",{className:"font-semibold mb-3",children:["Overall Metrics ",T!=="ALL"&&`(${T})`]}),x.jsxs("div",{className:"grid gap-3 sm:grid-cols-4 lg:grid-cols-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Tickets"}),x.jsx("div",{className:"text-lg font-semibold",children:X.tickets})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Total Gallons"}),x.jsx("div",{className:"text-lg font-semibold",children:X.totalGallons.toFixed(1)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Revenue"}),x.jsxs("div",{className:"text-lg font-semibold",children:["$",X.amount.toFixed(2)]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Avg $/Gallon"}),x.jsxs("div",{className:"text-lg font-semibold",children:["$",X.avgPricePerGallon.toFixed(2)]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Avg Miles/Ticket"}),x.jsx("div",{className:"text-lg font-semibold",children:X.avgMiles.toFixed(1)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-slate-600",children:"On-Time %"}),x.jsxs("div",{className:"text-lg font-semibold",children:[X.onTimePct.toFixed(1),"%"]})]})]})]}),T==="ALL"&&K.length>0&&x.jsxs("div",{className:"rounded-lg border p-4",children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Per-Truck Breakdown"}),x.jsx("div",{className:"overflow-x-hidden max-w-full",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-slate-50 text-left",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2 text-xs",children:"Truck"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Tickets"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Gallons"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Revenue"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Avg $/Gal"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"On-Time %"})]})}),x.jsx("tbody",{children:K.map(M=>x.jsxs("tr",{className:"border-t",children:[x.jsx("td",{className:"px-3 py-2 font-medium",children:M.truck}),x.jsx("td",{className:"px-3 py-2 tabular-nums",children:M.tickets}),x.jsx("td",{className:"px-3 py-2 tabular-nums",children:M.totalGallons.toFixed(1)}),x.jsxs("td",{className:"px-3 py-2 tabular-nums",children:["$",M.amount.toFixed(2)]}),x.jsxs("td",{className:"px-3 py-2 tabular-nums",children:["$",M.avgPricePerGallon.toFixed(2)]}),x.jsxs("td",{className:"px-3 py-2 tabular-nums",children:[M.onTimePct.toFixed(1),"%"]})]},M.truck))})]})})]}),x.jsxs("div",{className:"delivery-top-bar",role:"region","aria-label":"Delivery header",children:[x.jsx("div",{children:"Delivery Tickets"}),x.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx(v_e,{}),x.jsxs("div",{style:{fontSize:"14px",opacity:.85},children:[L.length," tickets on this page"]})]})]}),x.jsxs("div",{id:"delivery-input-preview",className:"delivery-input-preview","aria-live":"polite",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Gallons:"})," ",x.jsx("span",{id:"preview-gallons",children:""})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Quantity:"})," ",x.jsx("span",{id:"preview-qty",children:""})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Price:"})," ",x.jsx("span",{id:"preview-price",children:""})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Account:"})," ",x.jsx("span",{id:"preview-account",children:""})]})]}),x.jsx("div",{className:"delivery-table-container",children:x.jsx("div",{className:"dt-table-wrap rounded-xl border",onBlurCapture:le,children:x.jsxs("table",{className:"delivery-table dt-table w-full text-sm",children:[x.jsx("thead",{className:"bg-slate-50 text-left",children:x.jsxs("tr",{children:[x.jsx("th",{className:"dt-th px-2 py-2 text-xs",children:"Date"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs",children:"Truck"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden md:table-cell",children:"Driver"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden lg:table-cell",children:"TicketID"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs",children:"Customer"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs gal",children:"Gallons"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden 2xl:table-cell",children:"Arrival"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden 2xl:table-cell",children:"Odo Start"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden 2xl:table-cell",children:"Odo End"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden 2xl:table-cell",children:"Miles"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden xl:table-cell",children:"On-Time"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden md:table-cell",children:"Account"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs qty",children:"Quantity"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs",children:"Price"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden md:table-cell",children:"Tax"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden md:table-cell",children:"Hazmat"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs amt",children:"Amount"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden lg:table-cell",children:"Status"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs hidden xl:table-cell",children:"Files"}),x.jsx("th",{className:"dt-th px-2 py-2 text-xs"})]})}),x.jsxs("tbody",{children:[L.map(M=>x.jsxs("tr",{className:"border-t",children:[x.jsx("td",{className:"dt-td px-2 py-2 whitespace-nowrap",children:x.jsx("input",{type:"date",value:M.date||"",onChange:Z=>B(M.id,"date",Z.target.value),className:"input text-xs w-28"})}),x.jsx("td",{className:"dt-td px-2 py-2",children:x.jsx("input",{value:M.truck||"",onChange:Z=>B(M.id,"truck",Z.target.value),className:"input text-xs w-16"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden md:table-cell",children:x.jsx("input",{value:M.driver||"",onChange:Z=>B(M.id,"driver",Z.target.value),className:"input text-xs w-20"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden lg:table-cell",children:x.jsx("input",{value:M.ticket_id||"",onChange:Z=>B(M.id,"ticket_id",Z.target.value),className:"input text-xs w-20",placeholder:"ID"})}),x.jsx("td",{className:"dt-td px-2 py-2",children:x.jsx("input",{value:M.customerName||"",onChange:Z=>B(M.id,"customerName",Z.target.value),className:"input text-xs w-24"})}),x.jsx("td",{className:"dt-td px-2 py-2","data-col":"gallons",children:x.jsx("input",{value:M.gallons_delivered??"",type:"number",step:"0.1",onChange:Z=>B(M.id,"gallons_delivered",Z.target.value),className:"input text-xs w-16 tabular-nums"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden 2xl:table-cell whitespace-nowrap",children:x.jsx("input",{type:"datetime-local",value:Sz(M.arrival_time),onChange:Z=>B(M.id,"arrival_time",_z(Z.target.value)),className:"input text-xs w-36"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden 2xl:table-cell",children:x.jsx("input",{value:M.odometer_start??"",type:"number",step:"0.1",onChange:Z=>B(M.id,"odometer_start",Z.target.value),className:"input text-xs w-20 tabular-nums",placeholder:"Start"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden 2xl:table-cell",children:x.jsx("input",{value:M.odometer_end??"",type:"number",step:"0.1",onChange:Z=>B(M.id,"odometer_end",Z.target.value),className:"input text-xs w-20 tabular-nums",placeholder:"End"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden 2xl:table-cell",children:x.jsx("span",{className:"text-xs font-mono tabular-nums",children:M.miles_driven!=null?Number(M.miles_driven).toFixed(1):"-"})}),x.jsxs("td",{className:"dt-td px-2 py-2 text-center hidden xl:table-cell",children:[M.on_time_flag===1&&x.jsx("span",{title:"On Time",children:""}),M.on_time_flag===0&&x.jsx("span",{title:"Late",children:""}),M.on_time_flag==null&&x.jsx("span",{className:"text-slate-400",children:"-"})]}),x.jsx("td",{className:"dt-td px-2 py-2 hidden md:table-cell","data-col":"account",children:x.jsx("input",{value:M.account||"",onChange:Z=>B(M.id,"account",Z.target.value),className:"input text-xs w-20"})}),x.jsx("td",{className:"dt-td px-2 py-2","data-col":"qty",children:x.jsx("input",{value:M.qty??"",type:"number",step:"1",onChange:Z=>B(M.id,"qty",Z.target.value),className:"input text-xs w-14 tabular-nums"})}),x.jsx("td",{className:"dt-td px-2 py-2","data-col":"price",children:x.jsx("input",{value:M.price??"",type:"number",step:"0.01",onChange:Z=>B(M.id,"price",Z.target.value),className:"input text-xs w-16 tabular-nums"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden md:table-cell",children:x.jsx("input",{value:M.tax??"",type:"number",step:"0.01",onChange:Z=>B(M.id,"tax",Z.target.value),className:"input text-xs w-14 tabular-nums"})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden md:table-cell",children:x.jsx("input",{value:M.hazmat_fee??"",type:"number",step:"0.01",onChange:Z=>B(M.id,"hazmat_fee",Z.target.value),className:"input text-xs w-14 tabular-nums"})}),x.jsx("td",{className:"dt-td px-2 py-2 whitespace-nowrap",children:x.jsxs("span",{className:"text-xs font-mono tabular-nums",children:["$",(M.amount||0).toFixed(2)]})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden lg:table-cell",children:x.jsxs("select",{value:M.status||"draft",onChange:Z=>B(M.id,"status",Z.target.value),className:"text-xs w-20",children:[x.jsx("option",{value:"draft",children:"draft"}),x.jsx("option",{value:"posted",children:"posted"})]})}),x.jsx("td",{className:"dt-td px-2 py-2 hidden xl:table-cell",children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:"rounded border px-1 py-0.5 text-xs whitespace-nowrap",onClick:()=>xe(M.id),children:""}),(h[M.id]||[]).length>0&&x.jsxs("span",{className:"text-xs text-slate-500",children:["(",(h[M.id]||[]).length,")"]})]})}),x.jsx("td",{className:"dt-td px-2 py-2",children:x.jsx("button",{className:"text-red-600 text-xs",onClick:()=>G(M.id),title:"Remove",children:""})})]},M.id)),!L.length&&x.jsx("tr",{children:x.jsx("td",{colSpan:20,className:"dt-td px-3 py-6 text-center text-slate-500",children:"No tickets match the current filters."})})]})]})})}),x.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4 bg-slate-50",children:[x.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.length>0?(g-1)*m+1:0," - ",Math.min(g*m,v)," of ",v," tickets"]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>p(M=>Math.max(1,M-1)),disabled:g===1,className:"px-3 py-1.5 rounded border disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),x.jsxs("span",{className:"text-sm font-medium",children:["Page ",g," of ",Math.max(1,Math.ceil(v/m))]}),x.jsx("button",{onClick:()=>p(M=>M+1),disabled:g*m>=v,className:"px-3 py-1.5 rounded border disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-blue-600 text-white hover:bg-blue-700 ml-2",onClick:Y,style:{fontWeight:500},children:"+ Add Ticket"})]})]}),Qe.length>0&&x.jsxs("div",{className:"dt-analytics rounded-lg border p-4",children:[x.jsxs("h3",{className:"font-semibold mb-4",children:["Analytics ",T!=="ALL"&&`(${T})`]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-medium mb-2 text-slate-700",children:"Gallons Delivered by Day"}),x.jsx(cg,{width:"100%",height:250,children:x.jsxs(qg,{data:Qe,children:[x.jsx(Hg,{strokeDasharray:"3 3"}),x.jsx(au,{dataKey:"date",tick:{fontSize:12}}),x.jsx(su,{tick:{fontSize:12}}),x.jsx(Kn,{}),x.jsx(Vi,{}),x.jsx(ss,{type:"monotone",dataKey:"gallons",stroke:"#3b82f6",strokeWidth:2,name:"Gallons"})]})})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-medium mb-2 text-slate-700",children:"Revenue by Day"}),x.jsx(cg,{width:"100%",height:250,children:x.jsxs(qg,{data:Qe,children:[x.jsx(Hg,{strokeDasharray:"3 3"}),x.jsx(au,{dataKey:"date",tick:{fontSize:12}}),x.jsx(su,{tick:{fontSize:12}}),x.jsx(Kn,{formatter:M=>`$${M.toFixed(2)}`}),x.jsx(Vi,{}),x.jsx(ss,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenue ($)"})]})})]})]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border px-3 py-1.5",onClick:Ee,children:"Run Edit Listing (Preview)"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5",onClick:$e,disabled:a==="posted",children:"Transfer / Post"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5",onClick:ze,disabled:a!=="posted",children:"Export to Trucks (PPS)"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-blue-50",onClick:ie,children:"Export CSV"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-green-50",onClick:Me,children:"Export Excel"})]}),x.jsx("input",{ref:c,type:"file",accept:"*",className:"hidden",onChange:D})]})}function y_e(t){if(typeof t!="string")return t;const e=t.match(/^="([^"]*)"$/);return e?e[1]:t.startsWith("=")?t.substring(1):t}function b_e(t){if(!t)return"";let e=String(t);return e=e.replace(/^\uFEFF/,""),e=e.replace(/["""'']/g,""),e=e.replace(/\u00A0/g," "),e=e.toLowerCase().trim(),e=e.replace(/\s+/g," "),e}function w_e(t){if(t==null||t==="")return null;let e=String(t).trim();e=e.replace(/[$]/g,""),e=e.replace(/\s/g,""),e=e.replace(/,/g,"");const r=e.split(".");r.length>2&&(e=r.slice(0,-1).join("")+"."+r[r.length-1]);const n=parseFloat(e);return isNaN(n)?null:n}function PP(t){if(!t)return"unscheduled";const e=String(t).toLowerCase().trim();return e.includes("completed")||e.includes("done")||e.includes("finished")?"completed":e.includes("cancel")||e.includes("void")?"canceled":e.includes("in progress")||e.includes("active")||e.includes("working")?"in_progress":e.includes("scheduled")||e.includes("confirmed")||e.includes("pending")?"scheduled":"unscheduled"}function S_e(t){if(!t)return null;const e=new Date(t);return isNaN(e.getTime())?null:e.toISOString()}function __e(t,e){if(t){const r=new Date(t);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}if(e){const r=new Date(e);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}return null}function k_e(t){var r;return t&&((r=String(t).split(",")[0])==null?void 0:r.trim())||null}const A_e={"job #":"job_number","job#":"job_number","job number":"job_number","estimate #":"hcp_estimate_id","estimate#":"hcp_estimate_id","estimate number":"hcp_estimate_id","job description":"job_description",description:"job_description","job status":"raw_status",status:"raw_status","estimate status":"estimate_status",outcome:"hcp_outcome","estimate tags":"estimate_tags",tags:"estimate_tags","options count":"options_count","estimate lead source":"lead_source","lead source":"lead_source","customer name":"customer_name",customer:"customer_name","location name":"location_name",location:"location_name",address:"address","service address":"address","job created date":"job_created_at","created date":"job_created_at",created:"job_created_at","job scheduled start date":"scheduled_start_at","scheduled start date":"scheduled_start_at","scheduled start":"scheduled_start_at","scheduled date":"scheduled_start_at","assigned employees":"assigned_employees_raw",employees:"assigned_employees_raw",techs:"assigned_employees_raw",technicians:"assigned_employees_raw","job amount":"job_amount",amount:"job_amount",total:"job_amount","due amount":"due_amount",due:"due_amount",balance:"due_amount","open value":"open_value","won value":"won_value","lost value":"lost_value"};function qL(t){const e=b_e(t);return A_e[e]||null}function KL(t,e){const r={raw:t};if(e.forEach((n,a)=>{if(!n)return;let i=t[a];i=y_e(i),n==="job_created_at"||n==="scheduled_start_at"?r[n]=S_e(i):n==="job_amount"||n==="due_amount"||n==="open_value"||n==="won_value"||n==="lost_value"?r[n]=w_e(i):n==="raw_status"?(r[n]=i,r.status=PP(i)):r[n]=i||null}),r.job_date=__e(r.scheduled_start_at,r.job_created_at),r.primary_tech=k_e(r.assigned_employees_raw),r.is_estimate=!!r.hcp_estimate_id||/estimate/i.test(r.job_description||"")||/estimate/i.test(r.status||"")||/estimate/i.test(r.raw_status||""),r.is_estimate&&r.hcp_estimate_id&&!r.job_number&&(r.job_number=`EST-${r.hcp_estimate_id}`),r.is_estimate&&(r.open_value!=null||r.won_value!=null||r.lost_value!=null)){const n=(r.hcp_outcome||"").toLowerCase();n==="open"?r.job_amount=r.open_value||0:n==="won"?r.job_amount=r.won_value||0:n==="lost"?r.job_amount=r.lost_value||0:r.job_amount=Math.max(r.open_value||0,r.won_value||0,r.lost_value||0)}return r.is_estimate&&!r.raw_status&&r.estimate_status&&(r.raw_status=r.estimate_status,r.status=PP(r.estimate_status)),r.is_estimate&&r.hcp_outcome&&!r.status&&(r.status=r.hcp_outcome.toLowerCase()),r}function IP(t){const e=[];let r="",n=!1;for(let a=0;a<t.length;a++){const i=t[a];i==='"'?n=!n:i===","&&!n?(e.push(r.trim()),r=""):r+=i}return e.push(r.trim()),e}function E_e(t){const e=t.split(/\r?\n/).filter(o=>o.trim());if(e.length===0)throw new Error("CSV file is empty");const r=e[0],a=IP(r).map(o=>qL(o));if(!a.some(o=>o!==null))throw new Error("No recognized columns found. Expected Housecall Pro format with headers like: Job #, Job description, Job status, Customer name, etc.");const s=[];for(let o=1;o<e.length;o++){const l=e[o];if(!l.trim())continue;const c=IP(l),u=KL(c,a);u.job_number&&s.push(u)}return{rows:s,totalRows:s.length,mappedHeaders:a.filter(o=>o!==null)}}function T_e(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=a=>{try{const i=new Uint8Array(a.target.result),s=vd(i,{type:"array"}),o=s.SheetNames[0],l=s.Sheets[o],c=An.sheet_to_json(l,{header:1,raw:!1,defval:""});if(c.length===0)throw new Error("Excel file is empty");const f=c[0].map(g=>String(g||"")).map(g=>qL(g));if(!f.some(g=>g!==null))throw new Error("No recognized columns found. Expected Housecall Pro format with headers like: Job #, Job description, Job status, Customer name, etc.");const d=[];for(let g=1;g<c.length;g++){const p=c[g];if(!p||p.length===0)continue;const m=KL(p,f);m.job_number&&d.push(m)}e({rows:d,totalRows:d.length,mappedHeaders:f.filter(g=>g!==null)})}catch(i){r(i)}},n.onerror=()=>{r(new Error("Failed to read file"))},n.readAsArrayBuffer(t)})}async function C_e(t){const e=t.name.toLowerCase();if(e.endsWith(".csv")){const r=await t.text();return E_e(r)}else{if(e.endsWith(".xlsx")||e.endsWith(".xls"))return await T_e(t);throw new Error("Unsupported file format. Please upload a CSV or XLSX file.")}}const O_e=500;function P_e(t){if(!t||t.length===0)return[];const e=new Map;return t.forEach(r=>{const n=String(r.job_number||"").trim();n&&e.set(n,r)}),Array.from(e.values())}async function I_e(t,e){var s,o,l;if(!t||t.length===0)throw new Error("No rows to import");const r=P_e(t);if(r.length===0)throw new Error("No valid jobs found after deduplication");const n=r.map(c=>({job_number:String(c.job_number||"").trim(),job_description:c.job_description||null,status:c.status||"unscheduled",raw_status:c.raw_status||null,customer_name:c.customer_name||null,address:c.address||null,location_name:c.location_name||null,job_created_at:c.job_created_at||null,scheduled_start_at:c.scheduled_start_at||null,job_date:c.job_date||null,assigned_employees_raw:c.assigned_employees_raw||null,primary_tech:c.primary_tech||null,job_amount:c.job_amount||null,due_amount:c.due_amount||null,is_estimate:c.is_estimate||!1,auto_schedule:c.auto_schedule!==void 0?c.auto_schedule:!0,hcp_estimate_id:c.hcp_estimate_id||null,estimate_status:c.estimate_status||null,hcp_outcome:c.hcp_outcome||null,estimate_tags:c.estimate_tags||null,open_value:c.open_value||null,won_value:c.won_value||null,lost_value:c.lost_value||null,raw:c.raw||null})),{data:a,error:i}=await be.rpc("service_jobs_bulk_upsert",{rows:n});if(i)throw console.error("Bulk upsert error:",i),i.code==="42883"?new Error("RPC function 'service_jobs_bulk_upsert' does not exist. Please run the setup migration."):i.code==="42P01"?new Error("Table 'service_jobs' does not exist. Please run the setup migration."):i.code==="42501"||(s=i.message)!=null&&s.includes("permission denied")?new Error("Permission denied. Please ensure you are authenticated and have the required permissions."):(o=i.message)!=null&&o.includes("JWT")||(l=i.message)!=null&&l.includes("Not authenticated")?new Error("Authentication required. Please sign in and try again."):new Error(i.message||"Failed to save jobs to database");return{success:!0,inserted:(a==null?void 0:a.inserted)||0,updated:(a==null?void 0:a.updated)||0,total:(a==null?void 0:a.total)||0}}async function N_e(t={}){var s,o;const{data:e}=await be.auth.getUser(),r=(s=e==null?void 0:e.user)==null?void 0:s.id;if(!r)throw new Error("Not authenticated");let n=be.from("service_jobs").select("*").eq("created_by",r);t.startDate&&(n=n.gte("job_date",t.startDate)),t.endDate&&(n=n.lte("job_date",t.endDate)),t.status&&t.status!=="all"&&(n=n.eq("status",t.status)),t.tech&&t.tech!=="all"&&(n=n.eq("primary_tech",t.tech)),n=n.order("job_date",{ascending:!1,nullsLast:!0}).limit(O_e);const{data:a,error:i}=await n;if(i)throw console.error("Fetch error:",i),i.code==="42P01"?new Error("Table 'service_jobs' does not exist. Please run the setup migration."):(o=i.message)!=null&&o.includes("JWT")?new Error("Authentication required. Please sign in and try again."):new Error(i.message||"Failed to fetch jobs from database");return a||[]}function NP(t){const e={overall:{count:t.length,revenue:0,due:0},byStatus:{completed:{count:0,revenue:0,due:0},scheduled:{count:0,revenue:0,due:0},in_progress:{count:0,revenue:0,due:0},unscheduled:{count:0,revenue:0,due:0},canceled:{count:0,revenue:0,due:0}}};return t.forEach(r=>{const n=Number(r.job_amount)||0,a=Number(r.due_amount)||0,i=r.status||"unscheduled";e.overall.revenue+=n,e.overall.due+=a,e.byStatus[i]||(e.byStatus[i]={count:0,revenue:0,due:0}),e.byStatus[i].count+=1,e.byStatus[i].revenue+=n,e.byStatus[i].due+=a}),e}function F_e(t){const e=new Set;return t.forEach(r=>{r.primary_tech&&e.add(r.primary_tech)}),Array.from(e).sort()}async function j_e(t){const{error:e}=await be.from("service_jobs").delete().eq("id",t);if(e)throw console.error("Delete error:",e),e;return!0}async function M_e(){try{const{error:t}=await be.from("service_jobs").select("id").limit(0);return t?t.code!=="42P01":!0}catch(t){return console.error("Schema check error:",t),!1}}async function D_e(){try{const{data:t,error:e}=await be.from("service_jobs").select("is_estimate").limit(0);if(e){if(e.code==="42703"||e.message&&e.message.includes("is_estimate"))return console.warn("[serviceHelpers] is_estimate column missing:",e.message||e),!1;throw e}return!0}catch(t){return String((t==null?void 0:t.message)||"").includes("is_estimate")?(console.warn("[serviceHelpers] is_estimate column missing (caught):",t.message),!1):(console.warn("[serviceHelpers] Unexpected error checking is_estimate column:",t),!1)}}function R_e(){const[t,e]=U.useState(!1),r=U.useRef(null),n=async a=>{const i=a.target.files;if(!(!i||i.length===0)){e(!0);try{console.debug("[ServiceUploadButton] Uploading files:",i.length);const s=Array.from(i).map(h=>new Promise((d,g)=>{const p=new FileReader;p.onload=()=>{const m=p.result.split(",")[1];d({filename:h.name,mimeType:h.type,data:m})},p.onerror=g,p.readAsDataURL(h)})),o=await Promise.all(s),l=await fetch("/api/imports/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({files:o,meta:{}})});if(!l.ok){const h=await l.json();throw new Error(h.message||"Upload failed")}const c=await l.json();console.debug("[ServiceUploadButton] Upload success:",c);let u="";if(c.importId){console.debug("[ServiceUploadButton] Triggering processing for import:",c.importId);try{const h=await fetch("/api/imports/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({importId:c.importId})});if(h.ok){const d=await h.json();console.debug("[ServiceUploadButton] Processing result:",d),u=d.message||"Processing completed successfully"}else{const d=await h.json().catch(()=>({message:"Unknown error"}));console.warn("[ServiceUploadButton] Processing failed:",d),u=`OCR processing failed - ${d.message||"import saved for manual review"}`}}catch(h){console.error("[ServiceUploadButton] Processing error:",h),u="OCR processing not available - import saved for manual review"}}const f=u.includes("failed")||u.includes("not available")?` Successfully uploaded ${c.files.length} file(s), but ${u}

You can find the import in Imports Review.`:` Successfully uploaded ${c.files.length} file(s). ${u}`;alert(f),r.current&&(r.current.value="")}catch(s){console.error("[ServiceUploadButton] Error:",s),alert("Upload failed: "+s.message)}finally{e(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},disabled:t,title:"Upload scanned service tickets (PDF/Image)",children:t?" Uploading...":" Upload Service Scan"}),x.jsx("input",{ref:r,type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif",multiple:!0,className:"hidden",onChange:n})]})}function L_e(t){const e={completed:{bg:"#dcfce7",border:"#bbf7d0",text:"#166534"},scheduled:{bg:"#dbeafe",border:"#bfdbfe",text:"#1e40af"},in_progress:{bg:"#fed7aa",border:"#fdba74",text:"#9a3412"},unscheduled:{bg:"#f3f4f6",border:"#e5e7eb",text:"#374151"},canceled:{bg:"#fee2e2",border:"#fecaca",text:"#991b1b"}};return e[t]||e.unscheduled}function Q0({status:t}){const e=L_e(t);return x.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"9999px",fontSize:"12px",fontWeight:500,backgroundColor:e.bg,color:e.text,border:`1px solid ${e.border}`},children:t.replace(/_/g," ")})}function B_e(){var Ce,Ee,$e,ze;const[t,e]=U.useState([]),[r,n]=U.useState(null),[a,i]=U.useState(!1),[s,o]=U.useState(!1),[l,c]=U.useState(!1),[u,f]=U.useState(""),[h,d]=U.useState(""),[g,p]=U.useState(!1),[m,v]=U.useState(!1),[y,b]=U.useState(!1),[S,w]=U.useState(null),[_,k]=U.useState("all"),[A,E]=U.useState(""),[C,T]=U.useState(""),[O,N]=U.useState("ALL"),[z,W]=U.useState("all"),[F,L]=U.useState("all"),H=U.useRef(null);async function I(){var Me;const{data:ie}=await be.auth.getUser();return((Me=ie==null?void 0:ie.user)==null?void 0:Me.id)??null}async function X(){const Me=(await N_e()||[]).map(Qe=>{let M;return typeof Qe.is_estimate=="boolean"?M=Qe.is_estimate:M=String(Qe.job_number||"").toUpperCase().startsWith("EST-")||!!Qe.hcp_estimate_id,{...Qe,is_estimate:M}});return e(Me),Me}async function K(){c(!0),f(""),d("");try{await X(),d("Data reloaded successfully"),setTimeout(()=>d(""),3e3)}catch(ie){console.error("Reload error:",ie),f(`Failed to reload: ${ie.message}`)}finally{c(!1)}}U.useEffect(()=>{async function ie(){const Me=await I();w(Me),await M_e()||p(!0),await D_e()||(p(!0),console.warn("[ServiceTracking] is_estimate column not found; please run migration migrations/20251120_add_is_estimate_to_service_jobs.sql")),await K()}ie()},[]);async function P(ie){var Qe;const Me=(Qe=ie.target.files)==null?void 0:Qe[0];if(Me){i(!0),f(""),d("");try{const M=await C_e(Me);n(M)}catch(M){console.error("Parse error:",M),f(`Failed to parse file: ${M.message}`)}finally{i(!1),ie.target.value=""}}}async function Y(){if(r){o(!0),f(""),d("");try{const ie=await I();if(!ie)throw new Error("Not authenticated");const Me=await I_e(r.rows,ie),Qe=[];Me.inserted>0&&Qe.push(`${Me.inserted} new job(s)`),Me.updated>0&&Qe.push(`${Me.updated} updated`),d(`Successfully imported: ${Qe.join(", ")}. Total: ${Me.total} job(s).`),n(null),await K()}catch(ie){console.error("Import error:",ie),f(`Failed to import: ${ie.message}`)}finally{o(!1)}}}function B(){n(null),f("")}async function G(ie){if(confirm("Delete this job? This cannot be undone."))try{await j_e(ie),e(t.filter(Me=>Me.id!==ie)),d("Job deleted successfully")}catch(Me){console.error("Delete error:",Me),f(`Failed to delete: ${Me.message}`)}}const te=U.useMemo(()=>{if(_==="all")return t;const ie=new Date;let Me,Qe;if(_==="today")Me=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()),Qe=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()+1);else if(_==="week"){const M=ie.getDay();Me=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()-M),Qe=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()+(7-M))}else if(_==="month")Me=new Date(ie.getFullYear(),ie.getMonth(),1),Qe=new Date(ie.getFullYear(),ie.getMonth()+1,1);else if(_==="year")Me=new Date(ie.getFullYear(),0,1),Qe=new Date(ie.getFullYear()+1,0,1);else if(_==="custom"){if(!A&&!C)return t;Me=A?new Date(A):new Date(0),Qe=C?new Date(new Date(C).getTime()+864e5):new Date(864e13)}return t.filter(M=>{if(!M.job_date)return!1;const Z=new Date(M.job_date);return Z>=Me&&Z<Qe})},[t,_,A,C]),oe=U.useMemo(()=>O==="ALL"?te:te.filter(ie=>ie.primary_tech===O),[te,O]),le=U.useMemo(()=>z==="all"?oe:oe.filter(ie=>ie.status===z),[oe,z]),re=U.useMemo(()=>F==="jobs"?le.filter(ie=>!ie.is_estimate):F==="estimates"?le.filter(ie=>ie.is_estimate):le,[le,F]),se=U.useMemo(()=>F_e(te),[te]),xe=U.useMemo(()=>NP(re),[re]),D=U.useMemo(()=>r?NP(r.rows):null,[r]);return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Service Tracking"}),y&&S&&x.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-slate-100 text-slate-600 font-mono",title:"Current User ID",children:[S.slice(0,8),"..."]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-white hover:bg-slate-50 disabled:opacity-50",onClick:K,disabled:l,title:"Reload saved jobs from database",children:l?" Reloading...":" Reload"}),x.jsx("button",{className:"rounded-lg border px-3 py-1.5 bg-blue-600 text-white hover:bg-blue-700",onClick:()=>{var ie;return(ie=H.current)==null?void 0:ie.click()},disabled:a,children:a?"Processing...":"Upload Report"}),x.jsx(R_e,{})]}),x.jsx("input",{ref:H,type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:P})]}),g&&!m&&x.jsx("div",{className:"rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("strong",{className:"text-yellow-800",children:" Setup Required:"}),x.jsxs("p",{className:"text-yellow-700 mt-1",children:["The ",x.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"service_jobs"})," table is missing. Preview and import will work, but data cannot be saved until you run the setup migration."]}),x.jsxs("p",{className:"text-yellow-700 mt-2 text-sm",children:[" Run the SQL file:",x.jsx("code",{className:"bg-yellow-100 px-1 rounded ml-1",children:"sql/2025-10-16_service_tracking.sql"})," ","in your Supabase SQL editor."]})]}),x.jsx("button",{className:"text-yellow-800 hover:text-yellow-900 ml-4",onClick:()=>v(!0),title:"Dismiss",children:""})]})}),u&&x.jsxs("div",{className:"rounded-lg border border-red-300 bg-red-50 p-4 text-red-800",children:[x.jsx("strong",{children:"Error:"})," ",u]}),h&&x.jsxs("div",{className:"rounded-lg border border-green-300 bg-green-50 p-4 text-green-800",children:[x.jsx("strong",{children:"Success:"})," ",h]}),r&&x.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview Import"}),x.jsxs("div",{className:"mb-4 rounded-lg border bg-slate-50 p-4",children:[x.jsx("h4",{className:"font-semibold mb-3",children:"Summary by Status"}),x.jsx("div",{className:"grid gap-3 sm:grid-cols-3 lg:grid-cols-5",children:Object.entries(D.byStatus).map(([ie,Me])=>x.jsxs("div",{className:"rounded-lg border bg-white p-3",children:[x.jsx("div",{className:"mb-2",children:x.jsx(Q0,{status:ie})}),x.jsxs("div",{className:"text-sm",children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Count"}),x.jsx("div",{className:"font-semibold",children:Me.count})]}),x.jsxs("div",{className:"text-sm mt-1",children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Revenue"}),x.jsxs("div",{className:"font-semibold",children:["$",Me.revenue.toFixed(2)]})]}),x.jsxs("div",{className:"text-sm mt-1",children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Due"}),x.jsxs("div",{className:"font-semibold",children:["$",Me.due.toFixed(2)]})]})]},ie))}),x.jsxs("div",{className:"mt-4 pt-4 border-t",children:[x.jsxs("div",{className:"font-semibold",children:["Total: ",D.overall.count," jobs  Revenue: $",D.overall.revenue.toFixed(2),"  Due: $",D.overall.due.toFixed(2)]}),x.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Completed Revenue: $",(((Ce=D.byStatus.completed)==null?void 0:Ce.revenue)||0).toFixed(2),"  Pipeline: $",((D.overall.revenue||0)-(((Ee=D.byStatus.completed)==null?void 0:Ee.revenue)||0)).toFixed(2)]})]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("h4",{className:"font-semibold mb-2",children:"Preview Rows (first 100)"}),x.jsx("div",{className:"overflow-x-auto rounded-lg border max-h-96",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-slate-50 text-left sticky top-0 z-10",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2 text-xs",children:"Job #"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Customer"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Type"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Status"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Date"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Tech"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Amount"})]})}),x.jsx("tbody",{children:r.rows.slice(0,100).map((ie,Me)=>x.jsxs("tr",{className:"border-t",children:[x.jsx("td",{className:"px-3 py-2",children:ie.job_number}),x.jsx("td",{className:"px-3 py-2",children:ie.customer_name}),x.jsx("td",{className:"px-3 py-2",children:ie.is_estimate?x.jsx("span",{className:"inline-flex items-center rounded-full border border-purple-400 px-2 py-0.5 text-[11px] font-semibold text-purple-700",children:"EST"}):x.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-300 px-2 py-0.5 text-[11px] font-semibold text-slate-700",children:"JOB"})}),x.jsx("td",{className:"px-3 py-2",children:x.jsx(Q0,{status:ie.status})}),x.jsx("td",{className:"px-3 py-2",children:ie.job_date||"-"}),x.jsx("td",{className:"px-3 py-2",children:ie.primary_tech||"-"}),x.jsxs("td",{className:"px-3 py-2",children:["$",(ie.job_amount||0).toFixed(2)]})]},Me))})]})}),r.rows.length>100&&x.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Showing 100 of ",r.rows.length," rows"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border px-4 py-2 bg-blue-600 text-white hover:bg-blue-700",onClick:Y,disabled:s,children:s?"Importing...":"Import to Database"}),x.jsx("button",{className:"rounded-lg border px-4 py-2 hover:bg-slate-50",onClick:B,disabled:s,children:"Cancel"})]})]}),!r&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"rounded-lg border p-4 bg-slate-50",children:x.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[x.jsx("label",{className:"font-semibold",children:"Filters:"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="all"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("all"),children:"All"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="today"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("today"),children:"Today"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="week"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("week"),children:"This Week"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="month"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("month"),children:"This Month"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="year"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("year"),children:"This Year"}),x.jsx("button",{className:`px-3 py-1 rounded ${_==="custom"?"bg-blue-600 text-white":"bg-white border"}`,onClick:()=>k("custom"),children:"Custom Range"}),_==="custom"&&x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"date",value:A,onChange:ie=>E(ie.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Start"}),x.jsx("span",{children:"to"}),x.jsx("input",{type:"date",value:C,onChange:ie=>T(ie.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"End"})]})]})}),x.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"font-semibold",children:"Tech:"}),x.jsxs("select",{value:O,onChange:ie=>N(ie.target.value),className:"px-3 py-1.5 border rounded",children:[x.jsx("option",{value:"ALL",children:"All Techs"}),se.map(ie=>x.jsx("option",{value:ie,children:ie},ie))]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"font-semibold",children:"Status:"}),x.jsxs("select",{value:z,onChange:ie=>W(ie.target.value),className:"px-3 py-1.5 border rounded",children:[x.jsx("option",{value:"all",children:"All Statuses"}),x.jsx("option",{value:"completed",children:"Completed"}),x.jsx("option",{value:"scheduled",children:"Scheduled"}),x.jsx("option",{value:"in_progress",children:"In Progress"}),x.jsx("option",{value:"unscheduled",children:"Unscheduled"}),x.jsx("option",{value:"canceled",children:"Canceled"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"font-semibold",children:"Type:"}),x.jsxs("div",{className:"inline-flex gap-2 text-xs",children:[x.jsx("button",{onClick:()=>L("all"),className:`px-3 py-1.5 rounded ${F==="all"?"bg-blue-600 text-white":"bg-white border"}`,children:"All"}),x.jsx("button",{onClick:()=>L("jobs"),className:`px-3 py-1.5 rounded ${F==="jobs"?"bg-blue-600 text-white":"bg-white border"}`,children:"Jobs"}),x.jsx("button",{onClick:()=>L("estimates"),className:`px-3 py-1.5 rounded ${F==="estimates"?"bg-blue-600 text-white":"bg-white border"}`,children:"Estimates"})]})]}),x.jsxs("span",{className:"text-sm text-slate-600",children:["Showing ",re.length," of ",t.length," jobs"]})]}),x.jsxs("div",{className:"rounded-lg border p-4",children:[x.jsx("h3",{className:"font-semibold mb-3",children:"Summary"}),x.jsx("div",{className:"grid gap-3 sm:grid-cols-3 lg:grid-cols-5",children:Object.entries(xe.byStatus).map(([ie,Me])=>x.jsxs("div",{className:"rounded-lg border bg-slate-50 p-3",children:[x.jsx("div",{className:"mb-2",children:x.jsx(Q0,{status:ie})}),x.jsxs("div",{className:"text-sm",children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Count"}),x.jsx("div",{className:"font-semibold",children:Me.count})]}),x.jsxs("div",{className:"text-sm mt-1",children:[x.jsx("div",{className:"text-xs text-slate-600",children:"Revenue"}),x.jsxs("div",{className:"font-semibold",children:["$",Me.revenue.toFixed(2)]})]})]},ie))}),x.jsx("div",{className:"mt-4 pt-4 border-t",children:x.jsxs("div",{className:"font-semibold",children:["Total: ",xe.overall.count," jobs  Completed Revenue: $",((($e=xe.byStatus.completed)==null?void 0:$e.revenue)||0).toFixed(2),"  Pipeline: $",((xe.overall.revenue||0)-(((ze=xe.byStatus.completed)==null?void 0:ze.revenue)||0)).toFixed(2)]})})]}),x.jsx("div",{className:"rounded-lg border",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-slate-50 text-left",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2 text-xs",children:"Job #"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Customer"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Type"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Status"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Date"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Tech"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Defers"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Description"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Amount"}),x.jsx("th",{className:"px-3 py-2 text-xs",children:"Due"}),x.jsx("th",{className:"px-3 py-2 text-xs"})]})}),x.jsxs("tbody",{children:[re.map(ie=>x.jsxs("tr",{className:"border-t",children:[x.jsx("td",{className:"px-3 py-2",children:ie.job_number}),x.jsx("td",{className:"px-3 py-2",children:ie.customer_name}),x.jsx("td",{className:"px-3 py-2",children:ie.is_estimate?x.jsx("span",{className:"inline-flex items-center rounded-full border border-purple-400 px-2 py-0.5 text-[11px] font-semibold text-purple-700",children:"ESTIMATE"}):x.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-300 px-2 py-0.5 text-[11px] font-semibold text-slate-700",children:"JOB"})}),x.jsx("td",{className:"px-3 py-2",children:x.jsx(Q0,{status:ie.status})}),x.jsx("td",{className:"px-3 py-2",children:ie.job_date||"-"}),x.jsx("td",{className:"px-3 py-2",children:ie.primary_tech||"-"}),x.jsx("td",{className:"px-3 py-2 tabular-nums",children:ie.reschedule_count||0}),x.jsx("td",{className:"px-3 py-2 max-w-xs truncate",children:ie.job_description||"-"}),x.jsxs("td",{className:"px-3 py-2 tabular-nums",children:["$",(ie.job_amount||0).toFixed(2)]}),x.jsxs("td",{className:"px-3 py-2 tabular-nums",children:["$",(ie.due_amount||0).toFixed(2)]}),x.jsx("td",{className:"px-3 py-2",children:x.jsx("button",{className:"text-red-600 text-xs hover:text-red-800",onClick:()=>G(ie.id),title:"Delete",children:""})})]},ie.id)),re.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:11,className:"px-3 py-6 text-center text-slate-500",children:"No jobs found. Upload a Housecall Pro report to get started."})})]})]})})]})]})}const $_e="PGRST116";new Date().toISOString();const FP={serviceTracking:{completed:0,scheduled:0,deferred:0,completedRevenue:0,pipelineRevenue:0,scheduledJobs:0,scheduledRevenue:0},deliveryTickets:{totalTickets:0,totalGallons:0,revenue:0},weekCompare:{thisWeekTotalRevenue:0,lastWeekTotalRevenue:0,percentChange:0,scheduledJobs:0,scheduledRevenue:0,lastWeekScheduledJobs:0,lastWeekScheduledRevenue:0},cStoreGallons:[],dashboardSquares:{totalGallonsAllStores:0,weeklyServiceRevenue:0},dashboardKpis:{current_tanks:0,customers_lost:0,customers_gained:0,tanks_set:0},lastUpdated:new Date().toISOString()};function z_e(t){var i,s,o,l,c;if(!t)return!0;const r=[Number(((i=t.serviceTracking)==null?void 0:i.completed)||0),Number(((s=t.serviceTracking)==null?void 0:s.completedRevenue)||0),Number(((o=t.deliveryTickets)==null?void 0:o.totalTickets)||0),Number(((l=t.deliveryTickets)==null?void 0:l.totalGallons)||0),Number(((c=t.deliveryTickets)==null?void 0:c.revenue)||0)].every(u=>u===0),n=!t.cStoreGallons||t.cStoreGallons.length===0,a=!t.dashboardKpis||t.dashboardKpis.current_tanks===0&&t.dashboardKpis.customers_lost===0&&t.dashboardKpis.customers_gained===0&&t.dashboardKpis.tanks_set===0;return r&&n&&a}function JL(t){const e=new Date(t),r=e.getDay(),n=e.getDate()-r+(r===0?-6:1),a=new Date(e.setDate(n));return a.setHours(0,0,0,0),a}function W_e(t){const e=JL(t),r=new Date(e);return r.setDate(r.getDate()+6),r.setHours(23,59,59,999),r}function jP(t){const e=String(t||"").toLowerCase();return e==="scheduled"||e==="assigned"||e==="confirmed"||e==="in_progress"}function MP(t){return t.gallons_delivered!=null?Number(t.gallons_delivered)||0:Number(t.qty)||0}async function Nv(){try{const t=await fetch("/.netlify/functions/billboard-summary",{cache:"no-store"});if(t&&t.ok){const e=t.headers.get("content-type")||"";if(e.includes("application/json")){const r=await t.json();if(r&&(r.serviceTracking||r.deliveryTickets||r.cStoreGallons))if(z_e(r))console.warn("[fetchMetricsClient] serverless returned empty payload (all zeros), falling back to Supabase aggregation");else return{data:r,error:null};else console.warn("[fetchMetricsClient] serverless payload missing expected keys, falling back",r)}else console.warn("[fetchMetricsClient] serverless returned non-json:",e)}else console.warn("[fetchMetricsClient] serverless aggregator error status:",t&&t.status)}catch(t){console.warn("[fetchMetricsClient] serverless aggregator not reachable, falling back to direct aggregation:",t)}try{if(!be)return console.warn("[fetchMetricsClient] no supabase client configured - returning empty data"),{data:FP,error:null};const t=new Date,e=JL(t),r=W_e(t),n=y=>y.toISOString().slice(0,10);let a=[];try{const{data:y,error:b}=await be.from("service_jobs").select("status, job_amount, job_date").gte("job_date",n(e)).lte("job_date",n(r));b?console.warn("[fetchMetricsClient] service_jobs query error (fallback):",b):a=y||[]}catch(y){console.warn("[fetchMetricsClient] service_jobs fetch unexpected error:",y)}const i={completed:0,scheduled:0,deferred:0,completedRevenue:0,pipelineRevenue:0,scheduledJobs:0,scheduledRevenue:0};(a||[]).forEach(y=>{const b=Number(y.job_amount||0)||0,S=String(y.status||"").toLowerCase();S==="completed"?(i.completed+=1,i.completedRevenue+=b):jP(S)?(i.scheduled+=1,i.pipelineRevenue+=b,i.scheduledJobs+=1,i.scheduledRevenue+=b):(S==="deferred"&&(i.deferred+=1),i.pipelineRevenue+=b)});let s=[];try{const{data:y,error:b}=await be.from("delivery_tickets").select("qty, gallons_delivered, amount, date").gte("date",n(e)).lte("date",n(r));b?console.warn("[fetchMetricsClient] delivery_tickets query error (fallback):",b):s=y||[]}catch(y){console.warn("[fetchMetricsClient] delivery_tickets fetch unexpected error:",y)}let o={totalTickets:0,totalGallons:0,revenue:0};(s||[]).forEach(y=>{o.totalTickets+=1,o.totalGallons+=MP(y),o.revenue+=Number(y.amount||0)||0});let l=[];try{const{data:y,error:b}=await be.from("cstore_gallons").select("store_id, week_ending, total_gallons");b?console.warn("[fetchMetricsClient] cstore_gallons query error (fallback):",b):l=(y||[]).map(S=>({storeId:S.store_id,weekEnding:S.week_ending,totalGallons:Number(S.total_gallons||0)}))}catch(y){console.warn("[fetchMetricsClient] cstore_gallons fetch unexpected error:",y)}let c={current_tanks:0,customers_lost:0,customers_gained:0,tanks_set:0};try{const{data:y,error:b}=await be.from("dashboard_kpis").select("*").limit(1);!b&&y&&y.length>0?c=y[0]:b&&b.code!==$_e&&console.warn("[fetchMetricsClient] dashboard_kpis fetch warning:",b)}catch(y){console.warn("[fetchMetricsClient] dashboard_kpis fetch error:",y)}const u=new Date(e);u.setDate(u.getDate()-7);const f=new Date(r);f.setDate(f.getDate()-7);let h={completed:0,completedRevenue:0,scheduledJobs:0,scheduledRevenue:0},d={totalTickets:0,totalGallons:0,revenue:0};try{const{data:y}=await be.from("service_jobs").select("status, job_amount, job_date").gte("job_date",n(u)).lte("job_date",n(f));(y||[]).forEach(S=>{const w=Number(S.job_amount||0)||0,_=String(S.status||"").toLowerCase();_==="completed"?(h.completed+=1,h.completedRevenue+=w):jP(_)&&(h.scheduledJobs+=1,h.scheduledRevenue+=w)});const{data:b}=await be.from("delivery_tickets").select("qty, gallons_delivered, amount, date").gte("date",n(u)).lte("date",n(f));(b||[]).forEach(S=>{d.totalTickets+=1,d.totalGallons+=MP(S),d.revenue+=Number(S.amount||0)||0})}catch(y){console.warn("[fetchMetricsClient] lastWeek aggregation error:",y)}const g=(i.completedRevenue||0)+(o.revenue||0),p=(h.completedRevenue||0)+(d.revenue||0);let m=0;return p===0?m=g>0?100:0:m=(g-p)/p*100,{data:{serviceTracking:i,deliveryTickets:o,weekCompare:{thisWeekTotalRevenue:g,lastWeekTotalRevenue:p,percentChange:parseFloat(m.toFixed(1)),scheduledJobs:i.scheduledJobs||0,scheduledRevenue:i.scheduledRevenue||0,lastWeekScheduledJobs:h.scheduledJobs||0,lastWeekScheduledRevenue:h.scheduledRevenue||0},cStoreGallons:l,dashboardSquares:{totalGallonsAllStores:(l||[]).reduce((y,b)=>y+(Number(b.totalGallons)||0),0),weeklyServiceRevenue:Number(i.completedRevenue||0)},dashboardKpis:c,lastUpdated:new Date().toISOString()},error:null}}catch(t){return console.error("[fetchMetricsClient] direct aggregation failed:",t),{data:FP,error:null}}}async function U_e(t,e,r,n){try{let l=function(p){if(!p)return null;if(typeof p=="string")return p.split("T")[0];if(p instanceof Date){const m=p.getFullYear(),v=p.getMonth()+1,y=p.getDate();return new Date(Date.UTC(m,v-1,y)).toISOString().split("T")[0]}return String(p).split("T")[0]},c=function(p){const[m,v,y]=p.split("-"),b=parseInt(m,10),S=parseInt(v,10),w=parseInt(y,10),k=new Date(Date.UTC(b,S-1,w)).getUTCDay(),A=w-k+(k===0?-6:1);return new Date(Date.UTC(b,S-1,A)).toISOString().split("T")[0]},u=function(p){const[m,v]=p.split("-");return`${m}-${v}-01`};const a=t==="service"?"service_jobs":"delivery_tickets",i=t==="service"?"job_date":"date",{data:s,error:o}=await be.from(a).select("*").gte(i,r).lte(i,n);if(o)throw new Error(`Failed to fetch from ${a}: ${o.message}`);const f={};(s||[]).forEach(p=>{const m=p[i];if(!m)return;const v=l(m);if(!v)return;let y;if(e==="day"?y=v:e==="week"?y=c(v):y=u(v),f[y]||(t==="service"?f[y]={job_count:0,revenue:0}:f[y]={ticket_count:0,total_gallons:0,revenue:0}),t==="service"){const b=(p.status||"").toLowerCase();if(!b.includes("cancel")&&b.includes("completed")){const S=parseFloat(p.job_amount)||0;f[y].job_count+=1,f[y].revenue+=S}}else{const b=(p.status||"").toLowerCase();!b.includes("void")&&!b.includes("cancel")&&(f[y].ticket_count+=1,f[y].total_gallons+=parseFloat(p.qty)||0,f[y].revenue+=parseFloat(p.amount)||0)}});const d={day:"day",week:"week_start",month:"month_start"}[e];return{data:Object.entries(f).map(([p,m])=>({[d]:p,...m})).sort((p,m)=>p[d].localeCompare(m[d])),error:null}}catch(a){return console.error("[fetchMetricsClient] Error in aggregateFromBaseTable:",a),{data:null,error:a.message}}}async function DP(t,e,r,n,a,i){var f,h,d;const{data:s,error:o}=await be.from(t).select("*").gte(e,r).lte(e,n).order(e,{ascending:!0}),l=o&&(((f=o.message)==null?void 0:f.includes("does not exist"))||((h=o.message)==null?void 0:h.includes("relation"))||((d=o.message)==null?void 0:d.includes("schema cache"))||o.code==="42P01");if(o&&!l)return console.error("[fetchMetricsClient] Unexpected error querying view:",o),{data:null,error:o.message,debug:{usedFallback:!1,viewName:t,error:o.message},totals:null};const c=g=>{if(!g||g.length===0)return null;const p={recordCount:g.length};return a==="service"?(p.totalJobs=g.reduce((m,v)=>m+(parseFloat(v.job_count)||0),0),p.totalRevenue=g.reduce((m,v)=>m+(parseFloat(v.revenue)||0),0)):(p.totalTickets=g.reduce((m,v)=>m+(parseFloat(v.ticket_count)||0),0),p.totalGallons=g.reduce((m,v)=>m+(parseFloat(v.total_gallons)||0),0),p.totalRevenue=g.reduce((m,v)=>m+(parseFloat(v.revenue)||0),0)),p};if(l){console.warn(`[fetchMetricsClient] View '${t}' not found, falling back to base table aggregation`);const g=await U_e(a,i,r,n),p=c(g.data);return{data:g.data,error:g.error,totals:p,debug:{usedFallback:!0,viewName:t,reason:"View not found in database schema",suggestion:"Run migrations/001_create_metrics_views.sql in Supabase SQL Editor",totals:p}}}const u=c(s);return{data:s||[],error:null,totals:u,debug:{usedFallback:!1,viewName:t,totals:u}}}async function Ik(t){var e;try{if(!be)return console.warn("[fetchMetricsClient] Supabase not configured, cannot fetch timeseries"),{primary:[],comparison:null,error:"Supabase not configured",debug:{usedFallback:!1,error:"No Supabase client"},totals:null};const{source:r,start:n,end:a,granularity:i,compare:s,compareStart:o,compareEnd:l}=t;if(!r||!n||!a||!i)throw new Error("Missing required parameters: source, start, end, granularity");const u=(e={service:{day:"service_jobs_daily",week:"service_jobs_weekly",month:"service_jobs_monthly"},delivery:{day:"delivery_tickets_daily",week:"delivery_tickets_weekly",month:"delivery_tickets_monthly"}}[r])==null?void 0:e[i];if(!u)throw new Error(`Invalid source (${r}) or granularity (${i})`);const h={day:"day",week:"week_start",month:"month_start"}[i],d=n.toISOString().split("T")[0],g=a.toISOString().split("T")[0],p=await DP(u,h,d,g,r,i);if(p.error)throw console.error("[fetchMetricsClient] Error fetching primary data:",p.error),new Error(`Failed to fetch ${r} data: ${p.error}`);let m=null,v=null,y=null;if(s){let b,S;if(s==="previous"){const w=a-n,_=new Date(n.getTime()-w),k=new Date(n.getTime()-1);b=_.toISOString().split("T")[0],S=k.toISOString().split("T")[0]}else s==="custom"&&o&&l?(b=o.toISOString().split("T")[0],S=l.toISOString().split("T")[0]):console.warn("[fetchMetricsClient] Invalid compare mode or missing compareStart/compareEnd");if(b&&S){const w=await DP(u,h,b,S,r,i);w.error?console.warn("[fetchMetricsClient] Error fetching comparison data:",w.error):(m=w.data,v=w.debug,y=w.totals)}}return{primary:p.data||[],comparison:m,error:null,totals:{primary:p.totals,comparison:y},debug:{primary:p.debug,comparison:v}}}catch(r){return console.error("[fetchMetricsClient] Error in getMetricsTimeseries:",r),{primary:[],comparison:null,error:r.message,totals:null,debug:{error:r.message}}}}const H_e=Object.freeze(Object.defineProperty({__proto__:null,getBillboardSummary:Nv,getMetricsTimeseries:Ik},Symbol.toStringTag,{value:"Module"}));async function X_e(){try{const{data:t,error:e}=await be.from("dashboard_kpis").select("*").limit(1).single();return e?(console.warn("[dashboardKpis] fetch warning",e.message||e),{current_tanks:0,customers_lost:0,customers_gained:0,tanks_set:0}):t||{current_tanks:0,customers_lost:0,customers_gained:0,tanks_set:0}}catch(t){return console.error("[dashboardKpis] fetch error",t),{current_tanks:0,customers_lost:0,customers_gained:0,tanks_set:0}}}function RP(){const[t,e]=U.useState(!0),[r,n]=U.useState({score:null,message:""});U.useEffect(()=>{a()},[]);async function a(){var o,l,c,u,f,h,d,g;try{const{data:p,error:m}=await be.from("financial_imports").select("*").order("created_at",{ascending:!1}).limit(10);if(m)throw m;const v=p==null?void 0:p.find(k=>k.type==="profit_loss"),y=p==null?void 0:p.find(k=>k.type==="balance_sheet"),b=p==null?void 0:p.find(k=>k.type==="ar_aging_summary");if(!v&&!y){n({score:null,message:"No financial data available"}),e(!1);return}const S={revenue:{totalIncome:((o=v==null?void 0:v.summary)==null?void 0:o.totalIncome)||0,netIncome:((l=v==null?void 0:v.summary)==null?void 0:l.netIncome)||0,grossMarginPct:((c=v==null?void 0:v.summary)==null?void 0:c.grossMarginPct)||0},cash:{balance:((u=y==null?void 0:y.summary)==null?void 0:u.cash)||0},ar:{total:((f=y==null?void 0:y.summary)==null?void 0:f.accountsReceivable)||((h=b==null?void 0:b.summary)==null?void 0:h.total)||0,over60Pct:((d=b==null?void 0:b.summary)==null?void 0:d.over60Pct)||0},ap:{total:((g=y==null?void 0:y.summary)==null?void 0:g.accountsPayable)||0}},w=i(S),_=s(w);n({score:w,message:_})}catch(p){console.error("Error fetching health score:",p),n({score:null,message:"Error loading data"})}finally{e(!1)}}function i(o){let l=0;if(o.revenue.netIncome>0){const f=o.revenue.totalIncome>0?o.revenue.netIncome/o.revenue.totalIncome*100:0;l+=Math.min(30,f*3)}const c=o.ap.total>0?o.cash.balance/o.ap.total:1;l+=Math.min(25,c*25);const u=Math.max(0,25-o.ar.over60Pct*.5);return l+=u,l+=Math.min(20,o.revenue.grossMarginPct*.5),Math.round(Math.min(100,l))}function s(o){return o>=80?" Excellent: Strong financials":o>=65?" Good: Solid performance":o>=50?" Fair: Some areas need attention":" Needs Improvement"}return t?x.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:12,padding:16,color:"white",textAlign:"center"},children:x.jsx("div",{style:{fontSize:12,opacity:.9},children:"Loading..."})}):r.score===null?x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:16},children:[x.jsx("div",{style:{fontSize:12,color:"#6B7280",fontWeight:600,textTransform:"uppercase",marginBottom:8},children:"Company Health"}),x.jsx("div",{style:{fontSize:14,color:"#9CA3AF"},children:r.message}),x.jsx("div",{style:{fontSize:12,color:"#6B7280",marginTop:8},children:"Upload QuickBooks reports in Financial Health tab"})]}):x.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:12,padding:16,color:"white",cursor:"pointer",transition:"transform 0.2s"},onMouseOver:o=>o.currentTarget.style.transform="scale(1.02)",onMouseOut:o=>o.currentTarget.style.transform="scale(1)",onClick:()=>{window.dispatchEvent(new CustomEvent("navigateToFinancial"))},children:[x.jsx("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",opacity:.9},children:"Company Health"}),x.jsxs("div",{style:{fontSize:36,fontWeight:700,marginTop:8},children:[r.score,"/100"]}),x.jsx("div",{style:{fontSize:13,opacity:.95,marginTop:4},children:r.message})]})}function Ka({title:t,value:e,sub:r,status:n="ok",trend:a,ariaLabel:i}){const s={ok:"#10b981",warn:"#f59e0b",neg:"#ef4444"},o=s[n]||s.ok;return x.jsx("div",{className:"kpi-card",role:"group","aria-label":i||`${t}: ${e}`,style:{borderLeft:`4px solid ${o}`,padding:"16px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:l=>{l.currentTarget.style.transform="translateY(-2px)",l.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.15)"},onMouseLeave:l=>{l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)"},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:500,marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.025em"},children:t}),x.jsx("div",{style:{fontSize:"1.875rem",fontWeight:700,color:"#111827",lineHeight:1.2,marginBottom:"4px"},children:e}),r&&x.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:r})]}),a&&x.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:o,padding:"4px 8px",borderRadius:"4px",backgroundColor:`${o}15`},children:a})]})})}function Y_e(){const t=U.useRef(null),[e,r]=U.useState(!1);async function n(a){const i=a.target.files&&a.target.files[0];if(i){r(!0);try{const s=await i.arrayBuffer(),o=vd(s),l=o.Sheets[o.SheetNames[0]],u=An.sheet_to_json(l,{defval:null}).map(d=>({truck_number:String(d.truck_number||d.truck||d.truck_id||"").trim(),avg_miles:Number(d.avg_miles||d.avg||d.miles||0)||0,week_start:d.week_start||d.date||null,created_at:new Date().toISOString()})),{data:f,error:h}=await be.from("avg_miles_per_stop").insert(u);if(h)throw h;alert(`Uploaded ${f.length} avg miles records.`)}catch(s){console.error("[UploadAvgMilesButton] upload failed:",s),alert("Upload failed: "+(s.message||String(s)))}finally{r(!1),t.current&&(t.current.value="")}}}return x.jsxs("div",{children:[x.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[x.jsx("input",{ref:t,type:"file",accept:".csv,.xlsx,.xls",onChange:n,style:{display:"inline-block"}}),x.jsx("button",{className:"btn btn-primary",style:{marginLeft:8},disabled:e,children:e?"Uploading...":"Upload Avg Miles"})]}),x.jsx("div",{style:{fontSize:12,color:"#6B7280",marginTop:6},children:"CSV columns: truck_number, avg_miles, week_start (YYYY-MM-DD)"})]})}var ZL={};/*!
 * ApexCharts v5.3.6
 * (c) 2018-2025 ApexCharts
 */function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function QL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r3(n.key),n)}}function Re(t,e,r){return e&&LP(t.prototype,e),r&&LP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function If(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Nk(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function Kd(t){var e=e3();return function(){var r,n=um(t);if(e){var a=um(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(i,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QL(i)}(this,r)}}function cm(t,e,r){return(e=r3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},um(t)}function Jd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){cm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xw(t,e)}function t3(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,s,o,l,c=[],u=!0,f=!1;try{if(o=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(i=o.call(a)).done)&&(c.push(i.value),c.length!==n);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}(t,e)||Nk(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mr(t){return function(e){if(Array.isArray(e))return vw(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Nk(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r3(t){var e=function(r,n){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function Sn(t){return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(t)}function Nk(t,e){if(t){if(typeof t=="string")return vw(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vw(t,e):void 0}}var ne=function(){function t(){De(this,t)}return Re(t,[{key:"shadeRGBColor",value:function(e,r){var n=r.split(","),a=e<0?0:255,i=e<0?-1*e:e,s=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((a-s)*i)+s)+","+(Math.round((a-o)*i)+o)+","+(Math.round((a-l)*i)+l)+")"}},{key:"shadeHexColor",value:function(e,r){var n=parseInt(r.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,s=n>>16,o=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((a-s)*i)+s)+256*(Math.round((a-o)*i)+o)+(Math.round((a-l)*i)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,r){return t.isColorHex(r)?this.shadeHexColor(e,r):this.shadeRGBColor(e,r)}}],[{key:"bind",value:function(e,r){return function(){return e.apply(r,arguments)}}},{key:"isObject",value:function(e){return e&&Sn(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,r){return Object.prototype.toString.call(r)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var r,n=[];for(r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"extend",value:function(e,r){var n=this;typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(i),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}return s});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(r)&&Object.keys(r).forEach(function(i){n.isObject(r[i])&&i in e?a[i]=n.extend(e[i],r[i]):Object.assign(a,cm({},i,r[i]))}),a}},{key:"extendArray",value:function(e,r){var n=[];return e.map(function(a){n.push(t.extend(r,a))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Sn(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){r=[],n.set(e,r);for(var a=0;a<e.length;a++)r[a]=this.clone(e[a],n)}else if(e instanceof Date)r=new Date(e.getTime());else for(var i in r={},n.set(e,r),e)e.hasOwnProperty(i)&&(r[i]=this.clone(e[i],n));return r}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,r){return Math.pow(r,Math.floor(Math.log(e)/Math.log(r)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(r))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var r=e.getRootNode();return r&&r!==document&&t.is("ShadowRoot",r)}},{key:"getShadowRootHost",value:function(e){return t.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var r,n=e.getRootNode&&e.getRootNode();if(n&&n!==document&&n.host){var a=n.host.getBoundingClientRect();return[a.width,a.height]}try{r=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var i=e.clientHeight,s=e.clientWidth;return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[s-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var r=e.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:e.clientWidth,height:e.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(r,n){return Array.isArray(n)&&(n=n.reduce(function(a,i){return a.length>i.length?a:i})),r.length>n.length?r:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var a=0;a<n.length;a++)n[a]=parseInt(n[a].length===1?n[a]+n[a]:n[a],16);return r!==void 0&&n.push(r),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,r){for(var n=[],a=2*Math.PI/r,i=0;i<r;i++){var s={};s.x=e*Math.sin(i*a),s.y=-e*Math.cos(i*a),n.push(s)}return n}},{key:"polarToCartesian",value:function(e,r,n,a){var i=(a-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:r+n*Math.sin(i)}}},{key:"escapeString",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,r,n){if(n>=e.length)for(var a=n-e.length+1;a--;)e.push(void 0);return e.splice(n,0,e.splice(r,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}},{key:"setELstyles",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e.style.key=r[n])}},{key:"preciseAddition",value:function(e,r){var n=(String(e).split(".")[1]||"").length,a=(String(r).split(".")[1]||"").length,i=Math.pow(10,Math.max(n,a));return(Math.round(e*i)+Math.round(r*i))/i}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"getGCD",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));for(a>1?(e=Math.round(Math.abs(e)*a),r=Math.round(Math.abs(r)*a)):a=1;r;){var i=r;r=e%r,e=i}return e/a}},{key:"getPrimeFactors",value:function(e){for(var r=[],n=2;e>=2;)e%n==0?(r.push(n),e/=n):n++;return r}},{key:"mod",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,r))));return(e=Math.round(Math.abs(e)*a))%(r=Math.round(Math.abs(r)*a))/a}}]),t}(),Bu=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"animateLine",value:function(e,r,n,a){e.attr(r).animate(a).attr(n)}},{key:"animateMarker",value:function(e,r,n,a){e.attr({opacity:0}).animate(r).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(e,r,n,a,i){e.attr(r).animate(a).attr(n).after(function(){return i()})}},{key:"animatePathsGradually",value:function(e){var r=e.el,n=e.realIndex,a=e.j,i=e.fill,s=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,f=0;u.config.chart.animations.animateGradually.enabled&&(f=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(f=0),this.morphSVG(r,n,a,u.config.chart.type!=="line"||u.globals.comboCharts?i:"stroke",s,o,l,c*f)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var r=e.el;r.classList.remove("apexcharts-element-hidden"),r.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:e,w:r}))}},{key:"morphSVG",value:function(e,r,n,a,i,s,o,l){var c=this,u=this.w;i||(i=e.attr("pathFrom")),s||(s=e.attr("pathTo"));var f=function(h){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=f()),(!s.trim()||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=f()),u.globals.shouldAnimate||(o=1),e.plot(i).animate(1,l).plot(i).animate(o,l).plot(s).after(function(){ne.isNumber(n)?n===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):a!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&r===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),t}();const yw={},n3=[];function ot(t,e){if(Array.isArray(t))for(const r of t)ot(r,e);else if(typeof t!="object")a3(Object.getOwnPropertyNames(e)),yw[t]=Object.assign(yw[t]||{},e);else for(const r in t)ot(r,t[r])}function jn(t){return yw[t]||{}}function a3(t){n3.push(...t)}function Fk(t,e){let r;const n=t.length,a=[];for(r=0;r<n;r++)a.push(e(t[r]));return a}function sy(t){return t%360*Math.PI/180}function $u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zu(t,e,r,n){return e!=null&&r!=null||(n=n||t.bbox(),e==null?e=n.width/n.height*r:r==null&&(r=n.height/n.width*e)),{width:e,height:r}}function bw(t,e){const r=t.origin;let n=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",a=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";r!=null&&([n,a]=Array.isArray(r)?r:typeof r=="object"?[r.x,r.y]:[r,r]);const i=typeof n=="string",s=typeof a=="string";if(i||s){const{height:o,width:l,x:c,y:u}=e.bbox();i&&(n=n.includes("left")?c:n.includes("right")?c+l:c+l/2),s&&(a=a.includes("top")?u:a.includes("bottom")?u+o:u+o/2)}return[n,a]}const V_e=new Set(["desc","metadata","title"]),ww=t=>V_e.has(t.nodeName),i3=(t,e,r={})=>{const n={...e};for(const a in n)n[a].valueOf()===r[a]&&delete n[a];Object.keys(n).length?t.node.setAttribute("data-svgjs",JSON.stringify(n)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},jk="http://www.w3.org/2000/svg",oy="http://www.w3.org/2000/xmlns/",Wu="http://www.w3.org/1999/xlink",gt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Zd(){return gt.window}let Mk=class{};const el={},Dk="___SYMBOL___ROOT___";function yd(t,e=jk){return gt.document.createElementNS(e,t)}function En(t,e=!1){if(t instanceof Mk)return t;if(typeof t=="object")return ly(t);if(t==null)return new el[Dk];if(typeof t=="string"&&t.charAt(0)!=="<")return ly(gt.document.querySelector(t));const r=e?gt.document.createElement("div"):yd("svg");return r.innerHTML=t,t=ly(r.firstChild),r.removeChild(r.firstChild),t}function Bt(t,e){return e&&(e instanceof gt.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:yd(t)}function wa(t){if(!t)return null;if(t.instance instanceof Mk)return t.instance;if(t.nodeName==="#document-fragment")return new el.Fragment(t);let e=$u(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":el[e]||(e="Dom"),new el[e](t)}let ly=wa;function mt(t,e=t.name,r=!1){return el[e]=t,r&&(el[Dk]=t),a3(Object.getOwnPropertyNames(t.prototype)),t}let G_e=1e3;function s3(t){return"Svgjs"+$u(t)+G_e++}function o3(t){for(let e=t.children.length-1;e>=0;e--)o3(t.children[e]);return t.id&&(t.id=s3(t.nodeName)),t}function qe(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function Rt(t){return function(...e){const r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}ot("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=En(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=En(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=En(t)).before(this),this},insertAfter:function(t){return(t=En(t)).after(this),this}});const l3=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,q_e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,K_e=/rgb\((\d+),(\d+),(\d+)\)/,J_e=/(#[a-z_][a-z0-9\-_]*)/i,Z_e=/\)\s*,?\s*/,Q_e=/\s/g,$P=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,zP=/^rgb\(/,WP=/^(\s+)?$/,UP=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eke=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,gs=/[\s,]+/,Rk=/[MLHVCSQTAZ]/i;function tke(t){const e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function Vl(t,e){for(let r=e.length;r--;)if(t[e[r]]==null)return!1;return!0}function cy(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}ot("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(gs)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),ot("Dom",{css:function(t,e){const r={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const a=n.split(/\s*:\s*/);r[a[0]]=a[1]}),r;if(arguments.length<2){if(Array.isArray(t)){for(const n of t){const a=n;r[n]=this.node.style.getPropertyValue(a)}return r}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const n in t)this.node.style.setProperty(n,t[n]==null||WP.test(t[n])?"":t[n])}return arguments.length===2&&this.node.style.setProperty(t,e==null||WP.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ot("Dom",{data:function(t,e,r){if(t==null)return this.data(Fk(function(n,a){let i;const s=n.length,o=[];for(i=0;i<s;i++)a(n[i])&&o.push(n[i]);return o}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(t instanceof Array){const n={};for(const a of t)n[a]=this.data(a);return n}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:r===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),ot("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const r in t)this.remember(r,t[r]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class Ct{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Ct||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",r){const{random:n,round:a,sin:i,PI:s}=Math;if(e==="vibrant"){const o=24*n()+57,l=38*n()+45,c=360*n();return new Ct(o,l,c,"lch")}if(e==="sine"){const o=a(80*i(2*s*(r=r??n())/.5+.01)+150),l=a(50*i(2*s*r/.5+4.6)+200),c=a(100*i(2*s*r/.5+2.3)+150);return new Ct(o,l,c)}if(e==="pastel"){const o=8*n()+86,l=17*n()+9,c=360*n();return new Ct(o,l,c,"lch")}if(e==="dark"){const o=10+10*n(),l=50*n()+86,c=360*n();return new Ct(o,l,c,"lch")}if(e==="rgb"){const o=255*n(),l=255*n(),c=255*n();return new Ct(o,l,c)}if(e==="lab"){const o=100*n(),l=256*n()-128,c=256*n()-128;return new Ct(o,l,c,"lab")}if(e==="grey"){const o=255*n();return new Ct(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&($P.test(e)||zP.test(e))}cmyk(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(l=>l/255),o=Math.min(1-a,1-i,1-s);return o===1?new Ct(0,0,0,1,"cmyk"):new Ct((1-a-o)/(1-o),(1-i-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(h=>h/255),o=Math.max(a,i,s),l=Math.min(a,i,s),c=(o+l)/2,u=o===l,f=o-l;return new Ct(360*(u?0:o===a?((i-s)/f+(i<s?6:0))/6:o===i?((s-a)/f+2)/6:o===s?((a-i)/f+4)/6:0),100*(u?0:c>.5?f/(2-o-l):f/(o+l)),100*c,"hsl")}init(e=0,r=0,n=0,a=0,i="rgb"){if(e=e||0,this.space)for(const f in this.space)delete this[this.space[f]];if(typeof e=="number")i=typeof a=="string"?a:i,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:r,_c:n,_d:a,space:i});else if(e instanceof Array)this.space=r||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const f=function(h,d){const g=Vl(h,"rgb")?{_a:h.r,_b:h.g,_c:h.b,_d:0,space:"rgb"}:Vl(h,"xyz")?{_a:h.x,_b:h.y,_c:h.z,_d:0,space:"xyz"}:Vl(h,"hsl")?{_a:h.h,_b:h.s,_c:h.l,_d:0,space:"hsl"}:Vl(h,"lab")?{_a:h.l,_b:h.a,_c:h.b,_d:0,space:"lab"}:Vl(h,"lch")?{_a:h.l,_b:h.c,_c:h.h,_d:0,space:"lch"}:Vl(h,"cmyk")?{_a:h.c,_b:h.m,_c:h.y,_d:h.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return g.space=d||g.space,g}(e,r);Object.assign(this,f)}else if(typeof e=="string")if(zP.test(e)){const f=e.replace(Q_e,""),[h,d,g]=K_e.exec(f).slice(1,4).map(p=>parseInt(p));Object.assign(this,{_a:h,_b:d,_c:g,_d:0,space:"rgb"})}else{if(!$P.test(e))throw Error("Unsupported string format, can't construct Color");{const f=p=>parseInt(p,16),[,h,d,g]=q_e.exec(function(p){return p.length===4?["#",p.substring(1,2),p.substring(1,2),p.substring(2,3),p.substring(2,3),p.substring(3,4),p.substring(3,4)].join(""):p}(e)).map(f);Object.assign(this,{_a:h,_b:d,_c:g,_d:0,space:"rgb"})}}const{_a:s,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:s,g:o,b:l}:this.space==="xyz"?{x:s,y:o,z:l}:this.space==="hsl"?{h:s,s:o,l}:this.space==="lab"?{l:s,a:o,b:l}:this.space==="lch"?{l:s,c:o,h:l}:this.space==="cmyk"?{c:s,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:r,z:n}=this.xyz();return new Ct(116*r-16,500*(e-r),200*(r-n),"lab")}lch(){const{l:e,a:r,b:n}=this.lab(),a=Math.sqrt(r**2+n**2);let i=180*Math.atan2(n,r)/Math.PI;return i<0&&(i*=-1,i=360-i),new Ct(e,a,i,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:r,y:n,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:d,a:g,b:p}=this;if(this.space==="lch"){const{c:_,h:k}=this,A=Math.PI/180;g=_*Math.cos(A*k),p=_*Math.sin(A*k)}const m=(d+16)/116,v=g/500+m,y=m-p/200,b=16/116,S=.008856,w=7.787;r=.95047*(v**3>S?v**3:(v-b)/w),n=1*(m**3>S?m**3:(m-b)/w),a=1.08883*(y**3>S?y**3:(y-b)/w)}const i=3.2406*r+-1.5372*n+-.4986*a,s=-.9689*r+1.8758*n+.0415*a,o=.0557*r+-.204*n+1.057*a,l=Math.pow,c=.0031308,u=i>c?1.055*l(i,1/2.4)-.055:12.92*i,f=s>c?1.055*l(s,1/2.4)-.055:12.92*s,h=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new Ct(255*u,255*f,255*h)}if(this.space==="hsl"){let{h:r,s:n,l:a}=this;if(r/=360,n/=100,a/=100,n===0)return a*=255,new Ct(a,a,a);const i=a<.5?a*(1+n):a+n-a*n,s=2*a-i,o=255*cy(s,i,r+1/3),l=255*cy(s,i,r),c=255*cy(s,i,r-1/3);return new Ct(o,l,c)}if(this.space==="cmyk"){const{c:r,m:n,y:a,k:i}=this,s=255*(1-Math.min(1,r*(1-i)+i)),o=255*(1-Math.min(1,n*(1-i)+i)),l=255*(1-Math.min(1,a*(1-i)+i));return new Ct(s,o,l)}return this;var e}toArray(){const{_a:e,_b:r,_c:n,_d:a,space:i}=this;return[e,r,n,a,i]}toHex(){const[e,r,n]=this._clamped().map(tke);return`#${e}${r}${n}`}toRgb(){const[e,r,n]=this._clamped();return`rgb(${e},${r},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:r,_c:n}=this.rgb(),[a,i,s]=[e,r,n].map(m=>m/255),o=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,c=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,f=(.2126*o+.7152*l+.0722*c)/1,h=(.0193*o+.1192*l+.9505*c)/1.08883,d=u>.008856?Math.pow(u,1/3):7.787*u+16/116,g=f>.008856?Math.pow(f,1/3):7.787*f+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new Ct(d,g,p,"xyz")}_clamped(){const{_a:e,_b:r,_c:n}=this.rgb(),{max:a,min:i,round:s}=Math;return[e,r,n].map(o=>a(0,i(s(o),255)))}}class kt{constructor(...e){this.init(...e)}clone(){return new kt(this)}init(e,r){const i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:r};return this.x=i.x==null?0:i.x,this.y=i.y==null?0:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Ye.isMatrixLike(e)||(e=new Ye(e));const{x:r,y:n}=this;return this.x=e.a*r+e.c*n+e.e,this.y=e.b*r+e.d*n+e.f,this}}function Gl(t,e,r){return Math.abs(e-t)<1e-6}class Ye{constructor(...e){this.init(...e)}static formatTransforms(e){const r=e.flip==="both"||e.flip===!0,n=e.flip&&(r||e.flip==="x")?-1:1,a=e.flip&&(r||e.flip==="y")?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,s=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,l=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,c=e.shear||0,u=e.rotate||e.theta||0,f=new kt(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),h=f.x,d=f.y,g=new kt(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),p=g.x,m=g.y,v=new kt(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=v.x,b=v.y,S=new kt(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:i,skewY:s,shear:c,theta:u,rx:S.x,ry:S.y,tx:y,ty:b,ox:h,oy:d,px:p,py:m}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,r,n){const a=e.a*r.a+e.c*r.b,i=e.b*r.a+e.d*r.b,s=e.a*r.c+e.c*r.d,o=e.b*r.c+e.d*r.d,l=e.e+e.a*r.e+e.c*r.f,c=e.f+e.b*r.e+e.d*r.f;return n.a=a,n.b=i,n.c=s,n.d=o,n.e=l,n.f=c,n}around(e,r,n){return this.clone().aroundO(e,r,n)}aroundO(e,r,n){const a=e||0,i=r||0;return this.translateO(-a,-i).lmultiplyO(n).translateO(a,i)}clone(){return new Ye(this)}decompose(e=0,r=0){const n=this.a,a=this.b,i=this.c,s=this.d,o=this.e,l=this.f,c=n*s-a*i,u=c>0?1:-1,f=u*Math.sqrt(n*n+a*a),h=Math.atan2(u*a,u*n),d=180/Math.PI*h,g=Math.cos(h),p=Math.sin(h),m=(n*i+a*s)/c,v=i*f/(m*n-a)||s*f/(m*a+n);return{scaleX:f,scaleY:v,shear:m,rotate:d,translateX:o-e+e*g*f+r*(m*g*f-p*v),translateY:l-r+e*p*f+r*(m*p*f+g*v),originX:e,originY:r,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const r=new Ye(e);return Gl(this.a,r.a)&&Gl(this.b,r.b)&&Gl(this.c,r.c)&&Gl(this.d,r.d)&&Gl(this.e,r.e)&&Gl(this.f,r.f)}flip(e,r){return this.clone().flipO(e,r)}flipO(e,r){return e==="x"?this.scaleO(-1,1,r,0):e==="y"?this.scaleO(1,-1,0,r):this.scaleO(-1,-1,e,r||e)}init(e){const r=Ye.fromArray([1,0,0,1,0,0]);return e=e instanceof tn?e.matrixify():typeof e=="string"?Ye.fromArray(e.split(gs).map(parseFloat)):Array.isArray(e)?Ye.fromArray(e):typeof e=="object"&&Ye.isMatrixLike(e)?e:typeof e=="object"?new Ye().transform(e):arguments.length===6?Ye.fromArray([].slice.call(arguments)):r,this.a=e.a!=null?e.a:r.a,this.b=e.b!=null?e.b:r.b,this.c=e.c!=null?e.c:r.c,this.d=e.d!=null?e.d:r.d,this.e=e.e!=null?e.e:r.e,this.f=e.f!=null?e.f:r.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,r=this.b,n=this.c,a=this.d,i=this.e,s=this.f,o=e*a-r*n;if(!o)throw new Error("Cannot invert "+this);const l=a/o,c=-r/o,u=-n/o,f=e/o,h=-(l*i+u*s),d=-(c*i+f*s);return this.a=l,this.b=c,this.c=u,this.d=f,this.e=h,this.f=d,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const r=e instanceof Ye?e:new Ye(e);return Ye.matrixMultiply(r,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const r=e instanceof Ye?e:new Ye(e);return Ye.matrixMultiply(this,r,this)}rotate(e,r,n){return this.clone().rotateO(e,r,n)}rotateO(e,r=0,n=0){e=sy(e);const a=Math.cos(e),i=Math.sin(e),{a:s,b:o,c:l,d:c,e:u,f}=this;return this.a=s*a-o*i,this.b=o*a+s*i,this.c=l*a-c*i,this.d=c*a+l*i,this.e=u*a-f*i+n*i-r*a+r,this.f=f*a+u*i-r*i-n*a+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,r=e,n=0,a=0){arguments.length===3&&(a=n,n=r,r=e);const{a:i,b:s,c:o,d:l,e:c,f:u}=this;return this.a=i*e,this.b=s*r,this.c=o*e,this.d=l*r,this.e=c*e-n*e+n,this.f=u*r-a*r+a,this}shear(e,r,n){return this.clone().shearO(e,r,n)}shearO(e,r=0,n=0){const{a,b:i,c:s,d:o,e:l,f:c}=this;return this.a=a+i*e,this.c=s+o*e,this.e=l+c*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,r=e,n=0,a=0){arguments.length===3&&(a=n,n=r,r=e),e=sy(e),r=sy(r);const i=Math.tan(e),s=Math.tan(r),{a:o,b:l,c,d:u,e:f,f:h}=this;return this.a=o+l*i,this.b=l+o*s,this.c=c+u*i,this.d=u+c*s,this.e=f+h*i-a*i,this.f=h+f*s-n*s,this}skewX(e,r,n){return this.skew(e,0,r,n)}skewY(e,r,n){return this.skew(0,e,r,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Ye.isMatrixLike(e))return new Ye(e).multiplyO(this);const r=Ye.formatTransforms(e),{x:n,y:a}=new kt(r.ox,r.oy).transform(this),i=new Ye().translateO(r.rx,r.ry).lmultiplyO(this).translateO(-n,-a).scaleO(r.scaleX,r.scaleY).skewO(r.skewX,r.skewY).shearO(r.shear).rotateO(r.theta).translateO(n,a);if(isFinite(r.px)||isFinite(r.py)){const s=new kt(n,a).transform(i),o=isFinite(r.px)?r.px-s.x:0,l=isFinite(r.py)?r.py-s.y:0;i.translateO(o,l)}return i.translateO(r.tx,r.ty),i}translate(e,r){return this.clone().translateO(e,r)}translateO(e,r){return this.e+=e||0,this.f+=r||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Ns(){if(!Ns.nodes){const t=En().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;Ns.nodes={svg:t,path:e}}if(!Ns.nodes.svg.node.parentNode){const t=gt.document.body||gt.document.documentElement;Ns.nodes.svg.addTo(t)}return Ns.nodes}function c3(t){return!(t.width||t.height||t.x||t.y)}mt(Ye,"Matrix");class fr{constructor(...e){this.init(...e)}addOffset(){return this.x+=gt.window.pageXOffset,this.y+=gt.window.pageYOffset,new fr(this)}init(e){return e=typeof e=="string"?e.split(gs).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return c3(this)}merge(e){const r=Math.min(this.x,e.x),n=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-r,i=Math.max(this.y+this.height,e.y+e.height)-n;return new fr(r,n,a,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Ye||(e=new Ye(e));let r=1/0,n=-1/0,a=1/0,i=-1/0;return[new kt(this.x,this.y),new kt(this.x2,this.y),new kt(this.x,this.y2),new kt(this.x2,this.y2)].forEach(function(s){s=s.transform(e),r=Math.min(r,s.x),n=Math.max(n,s.x),a=Math.min(a,s.y),i=Math.max(i,s.y)}),new fr(r,a,n-r,i-a)}}function HP(t,e,r){let n;try{if(n=e(t.node),c3(n)&&(a=t.node)!==gt.document&&!(gt.document.documentElement.contains||function(i){for(;i.parentNode;)i=i.parentNode;return i===gt.document}).call(gt.document.documentElement,a))throw new Error("Element not in the dom")}catch{n=r(t)}var a;return n}ot({viewbox:{viewbox(t,e,r,n){return t==null?new fr(this.attr("viewBox")):this.attr("viewBox",new fr(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&typeof r!="string"&&typeof n!="string"||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),i=r/a.width,s=n/a.height,o=Math.min(i,s);if(t==null)return o;let l=o/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new kt(r/2/i+a.x,n/2/s+a.y);const c=new fr(a).transform(new Ye({scale:l,origin:e}));return this.viewbox(c)}}}),mt(fr,"Box");class vl extends Array{constructor(e=[],...r){if(super(e,...r),typeof e=="number")return this;this.length=0,this.push(...e)}}qe([vl],{each(t,...e){return typeof t=="function"?this.map((r,n,a)=>t.call(r,r,n,a)):this.map(r=>r[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const rke=["toArray","constructor","each"];function Fl(t,e){return new vl(Fk((e||gt.document).querySelectorAll(t),function(r){return wa(r)}))}vl.extend=function(t){t=t.reduce((e,r)=>(rke.includes(r)||r[0]==="_"||(r in Array.prototype&&(e["$"+r]=Array.prototype[r]),e[r]=function(...n){return this.each(r,...n)}),e),{}),qe([vl],t)};let nke=0;const u3={};function f3(t){let e=t.getEventHolder();return e===gt.window&&(e=u3),e.events||(e.events={}),e.events}function Lk(t){return t.getEventTarget()}function Wi(t,e,r,n,a){const i=r.bind(n||t),s=En(t),o=f3(s),l=Lk(s);e=Array.isArray(e)?e:e.split(gs),r._svgjsListenerId||(r._svgjsListenerId=++nke),e.forEach(function(c){const u=c.split(".")[0],f=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][f]=o[u][f]||{},o[u][f][r._svgjsListenerId]=i,l.addEventListener(u,i,a||!1)})}function Ea(t,e,r,n){const a=En(t),i=f3(a),s=Lk(a);(typeof r!="function"||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(gs)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,f;if(r)i[l]&&i[l][c||"*"]&&(s.removeEventListener(l,i[l][c||"*"][r],n||!1),delete i[l][c||"*"][r]);else if(l&&c){if(i[l]&&i[l][c]){for(f in i[l][c])Ea(s,[l,c].join("."),f);delete i[l][c]}}else if(c)for(o in i)for(u in i[o])c===u&&Ea(s,[o,c].join("."));else if(l){if(i[l]){for(u in i[l])Ea(s,[l,u].join("."));delete i[l]}}else{for(o in i)Ea(s,o);(function(h){let d=h.getEventHolder();d===gt.window&&(d=u3),d.events&&(d.events={})})(a)}})}class Qd extends Mk{addEventListener(){}dispatch(e,r,n){return function(a,i,s,o){const l=Lk(a);return i instanceof gt.window.Event||(i=new gt.window.CustomEvent(i,{detail:s,cancelable:!0,...o})),l.dispatchEvent(i),i}(this,e,r,n)}dispatchEvent(e){const r=this.getEventHolder().events;if(!r)return!0;const n=r[e.type];for(const a in n)for(const i in n[a])n[a][i](e);return!e.defaultPrevented}fire(e,r,n){return this.dispatch(e,r,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,r,n){return Ea(this,e,r,n),this}on(e,r,n,a){return Wi(this,e,r,n,a),this}removeEventListener(){}}function XP(){}mt(Qd,"EventTarget");const uy=400,ake=">",ike=0,ske={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class xl extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(gs).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class rt{constructor(...e){this.init(...e)}convert(e){return new rt(this.value,e)}divide(e){return e=new rt(e),new rt(this/e,this.unit||e.unit)}init(e,r){return r=Array.isArray(e)?e[1]:r,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=r||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(r=e.match(l3))&&(this.value=parseFloat(r[1]),r[5]==="%"?this.value/=100:r[5]==="s"&&(this.value*=1e3),this.unit=r[5]):e instanceof rt&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new rt(e),new rt(this-e,this.unit||e.unit)}plus(e){return e=new rt(e),new rt(this+e,this.unit||e.unit)}times(e){return e=new rt(e),new rt(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const oke=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),h3=[];class ro extends Qd{constructor(e,r){super(),this.node=e,this.type=e.nodeName,r&&e!==r&&this.attr(r)}add(e,r){return(e=En(e)).removeNamespace&&this.node instanceof gt.window.SVGElement&&e.removeNamespace(),r==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[r]&&this.node.insertBefore(e.node,this.node.childNodes[r]),this}addTo(e,r){return En(e).put(this,r)}children(){return new vl(Fk(this.node.children,function(e){return wa(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,r=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return r&&(n=o3(n)),new this.constructor(n)}each(e,r){const n=this.children();let a,i;for(a=0,i=n.length;a<i;a++)e.apply(n[a],[a,n]),r&&n[a].each(e,r);return this}element(e,r){return this.put(new ro(yd(e),r))}first(){return wa(this.node.firstChild)}get(e){return wa(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,r){return this.xml(e,r,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=s3(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return wa(this.node.lastChild)}matches(e){const r=this.node,n=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||null;return n&&n.call(r,e)}parent(e){let r=this;if(!r.node.parentNode)return null;if(r=wa(r.node.parentNode),!e)return r;do if(typeof e=="string"?r.matches(e):r instanceof e)return r;while(r=wa(r.node.parentNode));return r}put(e,r){return e=En(e),this.add(e,r),e}putIn(e,r){return En(e).add(this,r)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=En(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,r=null){const n=10**e,a=this.attr(r);for(const i in a)typeof a[i]=="number"&&(a[i]=Math.round(a[i]*n)/n);return this.attr(a),this}svg(e,r){return this.xml(e,r,jk)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const r=this.parent();if(!r)return this.addTo(e);const n=r.index(this);return r.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){r=r==null||r,this.writeDataToDom();let o=this;if(e!=null){if(o=wa(o.node.cloneNode(!0)),r){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return r?o.node.outerHTML:o.node.innerHTML}r=r!=null&&r;const a=yd("wrapper",n),i=gt.document.createDocumentFragment();a.innerHTML=e;for(let o=a.children.length;o--;)i.appendChild(a.firstElementChild);const s=this.parent();return r?this.replace(i)&&s:this.add(i)}}qe(ro,{attr:function(t,e,r){if(t==null){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=UP.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce((n,a)=>(n[a]=this.attr(a),n),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?ske[t]:UP.test(e)?parseFloat(e):e;typeof(e=h3.reduce((n,a)=>a(t,n,this),e))=="number"?e=new rt(e):oke.has(t)&&Ct.isColor(e)?e=new Ct(e):e.constructor===Array&&(e=new xl(e)),t==="leading"?this.leading&&this.leading(e):typeof r=="string"?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return Fl(t,this.node)},findOne:function(t){return wa(this.node.querySelector(t))}}),mt(ro,"Dom");let tn=class extends ro{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new rt(t).plus(this.x()))}dy(t=0){return this.y(new rt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=En(t));const r=new vl;let n=this;for(;(n=n.parent())&&n.node!==gt.document&&n.nodeName!=="#document-fragment"&&(r.push(n),e||n.node!==t.node)&&(!e||!n.matches(t));)if(n.node===this.root().node)return null;return r}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(J_e);return e?En(e[1]):null}root(){const t=this.parent(function(e){return el[e]}(Dk));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const r=zu(this,t,e);return this.width(new rt(r.width)).height(new rt(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return i3(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};qe(tn,{bbox:function(){const t=HP(this,e=>e.getBBox(),e=>{try{const r=e.clone().addTo(Ns().svg).show(),n=r.node.getBBox();return r.remove(),n}catch(r){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${r.toString()}`)}});return new fr(t)},rbox:function(t){const e=HP(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),r=new fr(e);return t?r.transform(t.screenCTM().inverseO()):r.addOffset()},inside:function(t,e){const r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new kt(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Ye(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new Ye(e)}return new Ye(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Ye}}}),mt(tn,"Element");const mf={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let r;e[t]=function(n){if(n===void 0)return this.attr(t);if(typeof n=="string"||n instanceof Ct||Ct.isRgb(n)||n instanceof tn)this.attr(t,n);else for(r=mf[t].length-1;r>=0;r--)n[mf[t][r]]!=null&&this.attr(mf.prefix(t,mf[t][r]),n[mf[t][r]]);return this},ot(["Element","Runner"],e)}),ot(["Element","Runner"],{matrix:function(t,e,r,n,a,i){return t==null?new Ye(this):this.attr("transform",new Ye(t,e,r,n,a,i))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),ot("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new rt(t)):this.rx(t).ry(e)}}),ot("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new kt(this.node.getPointAtLength(t))}}),ot(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});ot("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(r){return r===null?this.off(e):this.on(e,r),this},t},{})),ot("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Z_e).slice(0,-1).map(function(e){const r=e.trim().split("(");return[r[0],r[1].split(gs).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,r){return r[0]==="matrix"?e.lmultiply(Ye.fromArray(r[1])):e[r[0]].apply(e,r[1])},new Ye)},toParent:function(t,e){if(this===t)return this;if(ww(this.node))return this.addTo(t,e);const r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const n=new Ye(this).decompose();return t==null?n:n[t]}Ye.isMatrixLike(t)||(t={...t,origin:bw(t,this)});const r=new Ye(e===!0?this:e||!1).transform(t);return this.attr("transform",r)}});class Fn extends tn{flatten(){return this.each(function(){if(this instanceof Fn)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),r=e.index(this)){return r=r===-1?e.children().length:r,this.each(function(n,a){return a[a.length-n-1].toParent(e,r)}),this.remove()}}mt(Fn,"Container");class Fv extends Fn{constructor(e,r=e){super(Bt("defs",e),r)}flatten(){return this}ungroup(){return this}}mt(Fv,"Defs");class ua extends tn{}function Bk(t){return this.attr("rx",t)}function $k(t){return this.attr("ry",t)}function d3(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function p3(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function g3(t){return this.attr("cx",t)}function m3(t){return this.attr("cy",t)}function v3(t){return t==null?2*this.rx():this.rx(new rt(t).divide(2))}function x3(t){return t==null?2*this.ry():this.ry(new rt(t).divide(2))}mt(ua,"Shape");var lke=Object.freeze({__proto__:null,cx:g3,cy:m3,height:x3,rx:Bk,ry:$k,width:v3,x:d3,y:p3});class mp extends ua{constructor(e,r=e){super(Bt("ellipse",e),r)}size(e,r){const n=zu(this,e,r);return this.rx(new rt(n.width).divide(2)).ry(new rt(n.height).divide(2))}}qe(mp,lke),ot("Container",{ellipse:Rt(function(t=0,e=t){return this.put(new mp).size(t,e).move(0,0)})}),mt(mp,"Ellipse");class y3 extends ro{constructor(e=gt.document.createDocumentFragment()){super(e)}xml(e,r,n){if(typeof e=="boolean"&&(n=r,r=e,e=null),e==null||typeof e=="function"){const a=new ro(yd("wrapper",n));return a.add(this.node.cloneNode(!0)),a.xml(!1,n)}return super.xml(e,!1,n)}}function b3(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new rt(t),fy:new rt(e)}):this.attr({x1:new rt(t),y1:new rt(e)})}function w3(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new rt(t),cy:new rt(e)}):this.attr({x2:new rt(t),y2:new rt(e)})}mt(y3,"Fragment");var cke=Object.freeze({__proto__:null,from:b3,to:w3});class nh extends Fn{constructor(e,r){super(Bt(e+"Gradient",typeof e=="string"?null:e),r)}attr(e,r,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,r,n)}bbox(){return new fr}targets(){return Fl("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}qe(nh,cke),ot({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Rt(function(t,e){return this.put(new nh(t)).update(e)})}}),mt(nh,"Gradient");class bd extends Fn{constructor(e,r=e){super(Bt("pattern",e),r)}attr(e,r,n){return e==="transform"&&(e="patternTransform"),super.attr(e,r,n)}bbox(){return new fr}targets(){return Fl("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ot({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Rt(function(t,e,r){return this.put(new bd).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),mt(bd,"Pattern");let vp=class extends ua{constructor(t,e=t){super(Bt("image",t),e)}load(t,e){if(!t)return this;const r=new gt.window.Image;return Wi(r,"load",function(n){const a=this.parent(bd);this.width()===0&&this.height()===0&&this.size(r.width,r.height),a instanceof bd&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),Wi(r,"load error",function(){Ea(r)}),this.attr("href",r.src=t,Wu)}};var YP;YP=function(t,e,r){return t!=="fill"&&t!=="stroke"||eke.test(e)&&(e=r.root().defs().image(e)),e instanceof vp&&(e=r.root().defs().pattern(0,0,n=>{n.add(e)})),e},h3.push(YP),ot({Container:{image:Rt(function(t,e){return this.put(new vp).size(0,0).load(t,e)})}}),mt(vp,"Image");class no extends xl{bbox(){let e=-1/0,r=-1/0,n=1/0,a=1/0;return this.forEach(function(i){e=Math.max(i[0],e),r=Math.max(i[1],r),n=Math.min(i[0],n),a=Math.min(i[1],a)}),new fr(n,a,e-n,r-a)}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+r];return this}parse(e=[0,0]){const r=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(gs).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,a=e.length;n<a;n+=2)r.push([e[n],e[n+1]]);return r}size(e,r){let n;const a=this.bbox();for(n=this.length-1;n>=0;n--)a.width&&(this[n][0]=(this[n][0]-a.x)*e/a.width+a.x),a.height&&(this[n][1]=(this[n][1]-a.y)*r/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let r=0,n=this.length;r<n;r++)e.push(this[r].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Ye.isMatrixLike(e)||(e=new Ye(e));for(let r=this.length;r--;){const[n,a]=this[r];this[r][0]=e.a*n+e.c*a+e.e,this[r][1]=e.b*n+e.d*a+e.f}return this}}const uke=no;var zk=Object.freeze({__proto__:null,MorphArray:uke,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let Uo=class extends ua{constructor(t,e=t){super(Bt("line",t),e)}array(){return new no([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:r,y2:n}:new no(t).toLine(),this.attr(t))}size(t,e){const r=zu(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}};qe(Uo,zk),ot({Container:{line:Rt(function(...t){return Uo.prototype.plot.apply(this.put(new Uo),t[0]!=null?t:[0,0,0,0])})}}),mt(Uo,"Line");let xp=class extends Fn{constructor(t,e=t){super(Bt("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function mc(t,e){return function(r){return r==null?this[t]:(this[t]=r,e&&e.call(this),this)}}ot({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Rt(function(t,e,r){return this.put(new xp).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)})},marker:{marker(t,e,r,n){let a=["marker"];return t!=="all"&&a.push(t),a=a.join("-"),t=arguments[1]instanceof xp?arguments[1]:this.defs().marker(e,r,n),this.attr(a,t)}}}),mt(xp,"Marker");const fke={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,r,n){return function(a){return a<0?t>0?e/t*a:r>0?n/r*a:0:a>1?r<1?(1-n)/(1-r)*a+(n-r)/(1-r):t<1?(1-e)/(1-t)*a+(e-t)/(1-t):1:3*a*(1-a)**2*e+3*a**2*(1-a)*n+a**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return e==="none"?--r:e==="both"&&++r,(n,a=!1)=>{let i=Math.floor(n*t);const s=n*i%1==0;return e!=="start"&&e!=="both"||++i,a&&s&&--i,n>=0&&i<0&&(i=0),n<=1&&i>r&&(i=r),i/r}}};class Wk{done(){return!1}}class Sw extends Wk{constructor(e=ake){super(),this.ease=fke[e]||e}step(e,r,n){return typeof e!="number"?n<1?e:r:e+(r-e)*this.ease(n)}}class fm extends Wk{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,r,n,a){return this.stepper(e,r,n,a)}}function VP(){const t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),a=-n/Math.sqrt(r*r+n*n),i=3.9/(a*t);this.d=2*a*i,this.k=i*i}qe(class extends fm{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;r>100&&(r=16),r/=1e3;const a=n.velocity||0,i=-this.d*a-this.k*(t-e),s=t+a*r+i*r*r/2;return n.velocity=a+i*r,n.done=Math.abs(e-s)+Math.abs(a)<.002,n.done?e:s}},{duration:mc("_duration",VP),overshoot:mc("_overshoot",VP)});qe(class extends fm{constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}step(t,e,r,n){if(typeof t=="string")return t;if(n.done=r===1/0,r===1/0)return e;if(r===0)return t;const a=e-t;let i=(n.integral||0)+a*r;const s=(a-(n.error||0))/r,o=this._windup;return o!==!1&&(i=Math.max(-o,Math.min(i,o))),n.error=a,n.integral=i,n.done=Math.abs(a)<.001,n.done?e:t+(this.P*a+this.I*i+this.D*s)}},{windup:mc("_windup"),p:mc("P"),i:mc("I"),d:mc("D")});const hke={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},_w={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},fy="mlhvqtcsaz".split("");for(let t=0,e=fy.length;t<e;++t)_w[fy[t]]=function(r){return function(n,a,i){if(r==="H")n[0]=n[0]+a.x;else if(r==="V")n[0]=n[0]+a.y;else if(r==="A")n[5]=n[5]+a.x,n[6]=n[6]+a.y;else for(let s=0,o=n.length;s<o;++s)n[s]=n[s]+(s%2?a.y:a.x);return _w[r](n,a,i)}}(fy[t].toUpperCase());function kw(t){return t.segment.length&&t.segment.length-1===hke[t.segment[0].toUpperCase()]}function dke(t,e){t.inNumber&&Co(t,!1);const r=Rk.test(e);if(r)t.segment=[e];else{const n=t.lastCommand,a=n.toLowerCase(),i=n===a;t.segment=[a==="m"?i?"l":"L":n]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}function Co(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,kw(t)&&Aw(t)}function Aw(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const r=e.segment[0];return _w[r](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function pke(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",r=t.segment.length;return e&&(r===4||r===5)}function gke(t){return t.lastToken.toUpperCase()==="E"}const mke=new Set([" ",",","	",`
`,"\r","\f"]);class ti extends xl{bbox(){return Ns().path.setAttribute("d",this.toString()),new fr(Ns.nodes.path.getBBox())}move(e,r){const n=this.bbox();if(e-=n.x,r-=n.y,!isNaN(e)&&!isNaN(r))for(let a,i=this.length-1;i>=0;i--)a=this[i][0],a==="M"||a==="L"||a==="T"?(this[i][1]+=e,this[i][2]+=r):a==="H"?this[i][1]+=e:a==="V"?this[i][1]+=r:a==="C"||a==="S"||a==="Q"?(this[i][1]+=e,this[i][2]+=r,this[i][3]+=e,this[i][4]+=r,a==="C"&&(this[i][5]+=e,this[i][6]+=r)):a==="A"&&(this[i][6]+=e,this[i][7]+=r);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(r,n=!0){let a=0,i="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new kt,p:new kt};for(;s.lastToken=i,i=r.charAt(a++);)if(s.inSegment||!dke(s,i))if(i!==".")if(isNaN(parseInt(i)))if(mke.has(i))s.inNumber&&Co(s,!1);else if(i!=="-"&&i!=="+")if(i.toUpperCase()!=="E"){if(Rk.test(i)){if(s.inNumber)Co(s,!1);else{if(!kw(s))throw new Error("parser Error");Aw(s)}--a}}else s.number+=i,s.hasExponent=!0;else{if(s.inNumber&&!gke(s)){Co(s,!1),--a;continue}s.number+=i,s.inNumber=!0}else{if(s.number==="0"||pke(s)){s.inNumber=!0,s.number=i,Co(s,!0);continue}s.inNumber=!0,s.number+=i}else{if(s.pointSeen||s.hasExponent){Co(s,!1),--a;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=i}return s.inNumber&&Co(s,!1),s.inSegment&&kw(s)&&Aw(s),s.segments}(e)}size(e,r){const n=this.bbox();let a,i;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,a=this.length-1;a>=0;a--)i=this[a][0],i==="M"||i==="L"||i==="T"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*r/n.height+n.y):i==="H"?this[a][1]=(this[a][1]-n.x)*e/n.width+n.x:i==="V"?this[a][1]=(this[a][1]-n.y)*r/n.height+n.y:i==="C"||i==="S"||i==="Q"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*r/n.height+n.y,this[a][3]=(this[a][3]-n.x)*e/n.width+n.x,this[a][4]=(this[a][4]-n.y)*r/n.height+n.y,i==="C"&&(this[a][5]=(this[a][5]-n.x)*e/n.width+n.x,this[a][6]=(this[a][6]-n.y)*r/n.height+n.y)):i==="A"&&(this[a][1]=this[a][1]*e/n.width,this[a][2]=this[a][2]*r/n.height,this[a][6]=(this[a][6]-n.x)*e/n.width+n.x,this[a][7]=(this[a][7]-n.y)*r/n.height+n.y);return this}toString(){return function(e){let r="";for(let n=0,a=e.length;n<a;n++)r+=e[n][0],e[n][1]!=null&&(r+=e[n][1],e[n][2]!=null&&(r+=" ",r+=e[n][2],e[n][3]!=null&&(r+=" ",r+=e[n][3],r+=" ",r+=e[n][4],e[n][5]!=null&&(r+=" ",r+=e[n][5],r+=" ",r+=e[n][6],e[n][7]!=null&&(r+=" ",r+=e[n][7])))));return r+" "}(this)}}const S3=t=>{const e=typeof t;return e==="number"?rt:e==="string"?Ct.isColor(t)?Ct:gs.test(t)?Rk.test(t)?ti:xl:l3.test(t)?rt:Ew:Tw.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?xl:e==="object"?wd:Ew};class Oo{constructor(e){this._stepper=e||new Sw("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,r){return e&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(S3(e));let r=new this._type(e);return this._type===Ct&&(r=this._to?r[this._to[4]]():this._from?r[this._from[4]]():r),this._type===wd&&(r=this._to?r.align(this._to):this._from?r.align(this._from):r),r=r.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(r.length)).map(Object).map(function(n){return n.done=!0,n}),r}}class Ew{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class e0{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,e0.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}e0.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const vke=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class wd{constructor(...e){this.init(...e)}align(e){const r=this.values;for(let n=0,a=r.length;n<a;++n){if(r[n+1]===e[n+1]){if(r[n+1]===Ct&&e[n+7]!==r[n+7]){const o=e[n+7],l=new Ct(this.values.splice(n+3,5))[o]().toArray();this.values.splice(n+3,0,...l)}n+=r[n+2]+2;continue}if(!e[n+1])return this;const i=new e[n+1]().toArray(),s=r[n+2]+3;r.splice(n,s,e[n],e[n+1],e[n+2],...i),n+=r[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const r=[];for(const n in e){const a=S3(e[n]),i=new a(e[n]).toArray();r.push([n,a,i.length,...i])}return r.sort(vke),this.values=r.reduce((n,a)=>n.concat(a),[]),this}toArray(){return this.values}valueOf(){const e={},r=this.values;for(;r.length;){const n=r.shift(),a=r.shift(),i=r.shift(),s=r.splice(0,i);e[n]=new a(s)}return e}}const Tw=[Ew,e0,wd];class Pc extends ua{constructor(e,r=e){super(Bt("path",e),r)}array(){return this._array||(this._array=new ti(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,r){return this.attr("d",this.array().move(e,r))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new ti(e))}size(e,r){const n=zu(this,e,r);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Pc.prototype.MorphArray=ti,ot({Container:{path:Rt(function(t){return this.put(new Pc).plot(t||new ti)})}}),mt(Pc,"Path");var _3=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new no(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new no(t))},size:function(t,e){const r=zu(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}});class Ho extends ua{constructor(e,r=e){super(Bt("polygon",e),r)}}ot({Container:{polygon:Rt(function(t){return this.put(new Ho).plot(t||new no)})}}),qe(Ho,zk),qe(Ho,_3),mt(Ho,"Polygon");class Xo extends ua{constructor(e,r=e){super(Bt("polyline",e),r)}}ot({Container:{polyline:Rt(function(t){return this.put(new Xo).plot(t||new no)})}}),qe(Xo,zk),qe(Xo,_3),mt(Xo,"Polyline");class yp extends ua{constructor(e,r=e){super(Bt("rect",e),r)}}qe(yp,{rx:Bk,ry:$k}),ot({Container:{rect:Rt(function(t,e){return this.put(new yp).size(t,e)})}}),mt(yp,"Rect");class hy{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const r=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(r.prev=this._last,this._last.next=r,this._last=r):(this._last=r,this._first=r),r}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Et={nextDraw:null,frames:new hy,timeouts:new hy,immediates:new hy,timer:()=>gt.window.performance||gt.window.Date,transforms:[],frame(t){const e=Et.frames.push({run:t});return Et.nextDraw===null&&(Et.nextDraw=gt.window.requestAnimationFrame(Et._draw)),e},timeout(t,e){e=e||0;const r=Et.timer().now()+e,n=Et.timeouts.push({run:t,time:r});return Et.nextDraw===null&&(Et.nextDraw=gt.window.requestAnimationFrame(Et._draw)),n},immediate(t){const e=Et.immediates.push(t);return Et.nextDraw===null&&(Et.nextDraw=gt.window.requestAnimationFrame(Et._draw)),e},cancelFrame(t){t!=null&&Et.frames.remove(t)},clearTimeout(t){t!=null&&Et.timeouts.remove(t)},cancelImmediate(t){t!=null&&Et.immediates.remove(t)},_draw(t){let e=null;const r=Et.timeouts.last();for(;(e=Et.timeouts.shift())&&(t>=e.time?e.run():Et.timeouts.push(e),e!==r););let n=null;const a=Et.frames.last();for(;n!==a&&(n=Et.frames.shift());)n.run(t);let i=null;for(;i=Et.immediates.shift();)i();Et.nextDraw=Et.timeouts.first()||Et.frames.first()?gt.window.requestAnimationFrame(Et._draw):null}},xke=function(t){const e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},yke=function(){const t=gt.window;return(t.performance||t.Date).now()};class k3 extends Qd{constructor(e=yke){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),r=e?e.runner.duration():0;return(e?e.start:this._time)+r}getEndTimeOfTimeline(){const e=this._runners.map(r=>r.start+r.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const r=this.speed();if(e==null)return this.speed(-r);const n=Math.abs(r);return this.speed(e?-n:n)}schedule(e,r,n){if(e==null)return this._runners.map(xke);let a=0;const i=this.getEndTime();if(r=r||0,n==null||n==="last"||n==="after")a=i;else if(n==="absolute"||n==="start")a=r,r=0;else if(n==="now")a=this._time;else if(n==="relative"){const l=this.getRunnerInfoById(e.id);l&&(a=l.start+r,r=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();a=l?l.start:this._time}}e.unschedule(),e.timeline(this);const s=e.persist(),o={persist:s===null?this._persist:s,start:a+r,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const r=this._runnerIds.indexOf(e.id);return r<0||(this._runners.splice(r,1),this._runnerIds.splice(r,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Et.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Et.frame(this._step)),this)}_stepFn(e=!1){const r=this._timeSource();let n=r-this._lastSourceTime;e&&(n=0);const a=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=r,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){const o=this._runners[s],l=o.runner;this._time-o.start<=0&&l.reset()}let i=!1;for(let s=0,o=this._runners.length;s<o;s++){const l=this._runners[s],c=l.runner;let u=a;const f=this._time-l.start;if(f<=0){i=!0;continue}f<u&&(u=f),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--s,--o):i=!0)}return i&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ot({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new k3,this._timeline):(this._timeline=t,this)}}});class aa extends Qd{constructor(e){super(),this.id=aa.id++,e=typeof(e=e??uy)=="function"?new fm(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof fm,this._stepper=this._isDeclarative?e:new Sw,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Ye,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,r,n){let a=1,i=!1,s=0;return r=r??ike,n=n||"last",typeof(e=e??uy)!="object"||e instanceof Wk||(r=e.delay??r,n=e.when??n,i=e.swing||i,a=e.times??a,s=e.wait??s,e=e.duration??uy),{duration:e,delay:r,swing:i,times:a,wait:s,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,r,n){const a=aa.sanitise(e,r,n),i=new aa(a.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new Ye,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Sw(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,r,n){return typeof e=="object"&&(r=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=r||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const r=this._duration+this._wait;if(e==null){const i=Math.floor(this._time/r),s=(this._time-i*r)/this._duration;return Math.min(i+s,this._times)}const n=e%1,a=r*Math.floor(e)+this._duration*n;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const r=this._time,n=this._duration,a=this._wait,i=this._times,s=this._swing,o=this._reverse;let l;if(e==null){const f=function(d){const g=s*Math.floor(d%(2*(a+n))/(a+n)),p=g&&!o||!g&&o,m=Math.pow(-1,p)*(d%(a+n))/n+p;return Math.max(Math.min(m,1),0)},h=i*(a+n)-a;return l=r<=0?Math.round(f(1e-5)):r<h?f(r):Math.round(f(h-1e-5)),l}const c=Math.floor(this.loops()),u=s&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,r,n,a){return this._queue.push({initialiser:e||XP,runner:r||XP,retarget:n,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,r,n){if(e instanceof k3||(n=r,r=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,r,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const r=this.position(),n=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;const a=this.duration(),i=this._lastTime<=0&&this._time>0,s=this._lastTime<a&&this._time>=a;this._lastTime=this._time,i&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!s&&this._time>=a,this._reseted=!1;let l=!1;return(n||o)&&(this._initialise(n),this.transforms=new Ye,l=this._run(o?e:r),this.fire("step",this)),this.done=this.done||l&&o,s&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const r=e-this._time;return this.step(r),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let r=0,n=this._queue.length;r<n;++r){const a=this._queue[r],i=this._isDeclarative||!a.initialised&&e;e=!a.finished,i&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,r){if(this._history[e]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let r=!0;for(let n=0,a=this._queue.length;n<a;++n){const i=this._queue[n],s=i.runner.call(this,e);i.finished=i.finished||s===!0,r=r&&i.finished}return r}_tryRetarget(e,r,n){if(this._history[e]){if(!this._history[e].caller.initialised){const i=this._queue.indexOf(this._history[e].caller);return this._queue.splice(i,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,r,n):this._history[e].morpher.to(r),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}aa.id=0;class hm{constructor(e=new Ye,r=-1,n=!0){this.transforms=e,this.id=r,this.done=n}clearTransformsFromQueue(){}}qe([aa,hm],{mergeWith(t){return new hm(t.transforms.lmultiply(this.transforms),t.id)}});const A3=(t,e)=>t.lmultiplyO(e),E3=t=>t.transforms;function bke(){const t=this._transformationRunners.runners.map(E3).reduce(A3,new Ye);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class wke{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const r=e.id+1;return this.runners.push(e),this.ids.push(r),this}clearBefore(e){const r=this.ids.indexOf(e+1)||1;return this.ids.splice(0,r,0),this.runners.splice(0,r,new hm).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,r){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,r),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let r=0;r<this.runners.length;++r){const n=this.runners[r];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const a=n.mergeWith(e);this.edit(e.id,a),e=a,--r}else e=n}return this}remove(e){const r=this.ids.indexOf(e+1);return this.ids.splice(r,1),this.runners.splice(r,1),this}}ot({Element:{animate(t,e,r){const n=aa.sanitise(t,e,r),a=this.timeline();return new aa(n.duration).loop(n).element(this).timeline(a.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(E3).reduce(A3,new Ye)},_addRunner(t){this._transformationRunners.add(t),Et.cancelImmediate(this._frameId),this._frameId=Et.immediate(bke.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new wke().add(new hm(new Ye(this))))}}});qe(aa,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if(typeof e=="string")return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let a=new Oo(this._stepper).to(n),i=Object.keys(n);return this.queue(function(){a=a.from(this.element()[t](i))},function(s){return this.element()[t](a.at(s).valueOf()),a.done()},function(s){const o=Object.keys(s),l=(c=i,o.filter(f=>!c.includes(f)));var c;if(l.length){const f=this.element()[t](l),h=new wd(a.from()).valueOf();Object.assign(h,f),a.from(h)}const u=new wd(a.to()).valueOf();Object.assign(u,s),a.to(u),i=o,n=s}),this._rememberMorpher(t,a),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new Oo(this._stepper).to(new rt(t));return this.queue(function(){r=r.from(this.element().zoom())},function(n){return this.element().zoom(r.at(n),e),r.done()},function(n,a){e=a,r.to(n)}),this._rememberMorpher("zoom",r),this},transform(t,e,r){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=Ye.isMatrixLike(t);r=t.affine!=null?t.affine:r??!n;const a=new Oo(this._stepper).type(r?e0:Ye);let i,s,o,l,c;return this.queue(function(){s=s||this.element(),i=i||bw(t,s),c=new Ye(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:f,y:h}=new kt(i).transform(s._currentTransform(this));let d=new Ye({...t,origin:[f,h]}),g=this._isDeclarative&&o?o:c;if(r){d=d.decompose(f,h),g=g.decompose(f,h);const m=d.rotate,v=g.rotate,y=[m-360,m,m+360],b=y.map(_=>Math.abs(_-v)),S=Math.min(...b),w=b.indexOf(S);d.rotate=y[w]}e&&(n||(d.rotate=t.rotate||0),this._isDeclarative&&l&&(g.rotate=l)),a.from(g),a.to(d);const p=a.at(u);return l=p.rotate,o=new Ye(p),this.addTransform(o),s._addRunner(this),a.done()},function(u){(u.origin||"center").toString()!==(t.origin||"center").toString()&&(i=bw(u,s)),t={...u,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new rt(e),this._tryRetarget(t,e))return this;const r=new Oo(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[t](),r.from(n),r.to(n+e)},function(a){return this.element()[t](r.at(a)),r.done()},function(a){r.to(n+new rt(a))}),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const r=new Oo(this._stepper).to(e);return this.queue(function(){r.from(this.element()[t]())},function(n){return this.element()[t](r.at(n)),r.done()}),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new rt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(arguments.length===4)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;const a=new Oo(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){a.from(this._element.array())},function(i){return this._element.plot(a.at(i)),a.done()}),this._rememberMorpher("plot",a),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new fr(t,e,r,n))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),qe(aa,{rx:Bk,ry:$k,from:b3,to:w3}),mt(aa,"Runner");class Cw extends Fn{constructor(e,r=e){super(Bt("svg",e),r),this.namespace()}defs(){return this.isRoot()?wa(this.node.querySelector("defs"))||this.put(new Fv):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof gt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:jk,version:"1.1"}).attr("xmlns:xlink",Wu,oy):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,oy).attr("xmlns:svgjs",null,oy)}root(){return this.isRoot()?this:super.root()}}ot({Container:{nested:Rt(function(){return this.put(new Cw)})}}),mt(Cw,"Svg",!0);let Ow=class extends Fn{constructor(t,e=t){super(Bt("symbol",t),e)}};ot({Container:{symbol:Rt(function(){return this.put(new Ow)})}}),mt(Ow,"Symbol");var T3=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(gt.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class ri extends ua{constructor(e,r=e){super(Bt("text",e),r),this.dom.leading=this.dom.leading??new rt(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new rt(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const r=this;let n=0;const a=this.dom.leading;this.each(function(i){if(ww(this.node))return;const s=gt.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=a*new rt(s);this.dom.newLined&&(this.attr("x",r.attr("x")),this.text()===`
`?n+=o:(this.attr("dy",i?o+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new rt(e.leading||1.3),this}writeDataToDom(){return i3(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const r=this.node.childNodes;let n=0;e="";for(let a=0,i=r.length;a<i;++a)r[a].nodeName==="textPath"||ww(r[a])?a===0&&(n=a+1):(a!==n&&r[a].nodeType!==3&&wa(r[a]).dom.newLined===!0&&(e+=`
`),e+=r[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let r=0,n=(e=(e+"").split(`
`)).length;r<n;r++)this.newLine(e[r]);return this.build(!1).rebuild()}}qe(ri,T3),ot({Container:{text:Rt(function(t=""){return this.put(new ri).text(t)}),plain:Rt(function(t=""){return this.put(new ri).plain(t)})}}),mt(ri,"Text");class bp extends ua{constructor(e,r=e){super(Bt("tspan",e),r),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ri))return this;const r=e.index(this),n=gt.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new rt(n);return this.dy(r?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}qe(bp,T3),ot({Tspan:{tspan:Rt(function(t=""){const e=new bp;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),mt(bp,"Tspan");class dy extends ua{constructor(e,r=e){super(Bt("circle",e),r)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new rt(e).divide(2))}}qe(dy,{x:d3,y:p3,cx:g3,cy:m3,width:v3,height:x3}),ot({Container:{circle:Rt(function(t=0){return this.put(new dy).size(t).move(0,0)})}}),mt(dy,"Circle");class py extends Fn{constructor(e,r=e){super(Bt("clipPath",e),r)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Fl("svg [clip-path*="+this.id()+"]")}}ot({Container:{clip:Rt(function(){return this.defs().put(new py)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof py?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),mt(py,"ClipPath");class GP extends tn{constructor(e,r=e){super(Bt("foreignObject",e),r)}}ot({Container:{foreignObject:Rt(function(t,e){return this.put(new GP).size(t,e)})}}),mt(GP,"ForeignObject");var C3=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(r=>{let n;try{n=r.node instanceof Zd().SVGSVGElement?new fr(r.attr(["x","y","width","height"])):r.bbox()}catch{return}const a=new Ye(r),i=a.translate(t,e).transform(a.inverse()),s=new kt(n.x,n.y).transform(i);r.move(s.x,s.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){const n=t-r.x,a=e-r.y;return this.dmove(n,a)},size:function(t,e,r=this.bbox()){const n=zu(this,t,e,r),a=n.width/r.width,i=n.height/r.height;return this.children().forEach(s=>{const o=new kt(r).transform(new Ye(s).inverse());s.scale(a,i,o.x,o.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class qs extends Fn{constructor(e,r=e){super(Bt("g",e),r)}}qe(qs,C3),ot({Container:{group:Rt(function(){return this.put(new qs)})}}),mt(qs,"G");class ep extends Fn{constructor(e,r=e){super(Bt("a",e),r)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Wu)}}qe(ep,C3),ot({Container:{link:Rt(function(t){return this.put(new ep).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new ep,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),mt(ep,"A");class gy extends Fn{constructor(e,r=e){super(Bt("mask",e),r)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Fl("svg [mask*="+this.id()+"]")}}ot({Container:{mask:Rt(function(){return this.defs().put(new gy)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof gy?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),mt(gy,"Mask");class qP extends tn{constructor(e,r=e){super(Bt("stop",e),r)}update(e){return(typeof e=="number"||e instanceof rt)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new rt(e.offset)),this}}ot({Gradient:{stop:function(t,e,r){return this.put(new qP).update(t,e,r)}}}),mt(qP,"Stop");class my extends tn{constructor(e,r=e){super(Bt("style",e),r)}addText(e=""){return this.node.textContent+=e,this}font(e,r,n={}){return this.rule("@font-face",{fontFamily:e,src:r,...n})}rule(e,r){return this.addText(function(n,a){if(!n)return"";if(!a)return n;let i=n+"{";for(const s in a)i+=s.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+a[s]+";";return i+="}",i}(e,r))}}ot("Dom",{style(t,e){return this.put(new my).rule(t,e)},fontface(t,e,r){return this.put(new my).font(t,e,r)}}),mt(my,"Style");class vy extends ri{constructor(e,r=e){super(Bt("textPath",e),r)}array(){const e=this.track();return e?e.array():null}plot(e){const r=this.track();let n=null;return r&&(n=r.plot(e)),e==null?n:this}track(){return this.reference("href")}}ot({Container:{textPath:Rt(function(t,e){return t instanceof ri||(t=this.text(t)),t.path(e)})},Text:{path:Rt(function(t,e=!0){const r=new vy;let n;if(t instanceof Pc||(t=this.defs().path(t)),r.attr("href","#"+t,Wu),e)for(;n=this.node.firstChild;)r.node.appendChild(n);return this.put(r)}),textPath(){return this.findOne("textPath")}},Path:{text:Rt(function(t){return t instanceof ri||(t=new ri().addTo(this.parent()).text(t)),t.path(this)}),targets(){return Fl("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),vy.prototype.MorphArray=ti,mt(vy,"TextPath");class KP extends ua{constructor(e,r=e){super(Bt("use",e),r)}use(e,r){return this.attr("href",(r||"")+"#"+e,Wu)}}ot({Container:{use:Rt(function(t,e){return this.put(new KP).use(t,e)})}}),mt(KP,"Use");const Ske=En;qe([Cw,Ow,vp,bd,xp],jn("viewbox")),qe([Uo,Xo,Ho,Pc],jn("marker")),qe(ri,jn("Text")),qe(Pc,jn("Path")),qe(Fv,jn("Defs")),qe([ri,bp],jn("Tspan")),qe([yp,mp,nh,aa],jn("radius")),qe(Qd,jn("EventTarget")),qe(ro,jn("Dom")),qe(tn,jn("Element")),qe(ua,jn("Shape")),qe([Fn,y3],jn("Container")),qe(nh,jn("Gradient")),qe(aa,jn("Runner")),vl.extend([...new Set(n3)]),function(t=[]){Tw.push(...[].concat(t))}([rt,Ct,fr,Ye,xl,no,ti,kt]),qe(Tw,{to(t){return new Oo().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,r,n,a){return this.fromArray(t.map(function(i,s){return n.step(i,e[s],r,a[s],a)}))}});class Ut extends tn{constructor(e){super(Bt("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,r){return!(e=super.put(e,r)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Fl('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class Uk extends tn{constructor(e,r){super(e,r),this.result(this.id())}in(e){if(e==null){const r=this.attr("in");return this.parent()&&this.parent().find(`[result="${r}"]`)[0]||r}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const ga=t=>function(...e){for(let r=t.length;r--;)e[r]!=null&&this.attr(t[r],e[r])},_ke={blend:ga(["in","in2","mode"]),colorMatrix:ga(["type","values"]),composite:ga(["in","in2","operator"]),convolveMatrix:function(t){t=new xl(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:ga(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ga(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ga(["in","dx","dy","stdDeviation"]),flood:ga(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,Wu)},morphology:ga(["operator","radius"]),offset:ga(["dx","dy"]),specularLighting:ga(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ga([]),turbulence:ga(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=$u(t),r=_ke[t];Ut[e+"Effect"]=class extends Uk{constructor(n){super(Bt("fe"+e,n),n)}update(n){return r.apply(this,n),this}},Ut.prototype[t]=Rt(function(n,...a){const i=new Ut[e+"Effect"];return n==null?this.put(i):(typeof n=="function"?n.call(i,i):a.unshift(n),this.put(i).update(a))})}),qe(Ut,{merge(t){const e=this.put(new Ut.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(r=>{r instanceof Ut.MergeNode?e.put(r):e.mergeNode(r)}),e)},componentTransfer(t={}){const e=this.put(new Ut.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const r in t)e.add(new Ut["Func"+r.toUpperCase()](t[r]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=$u(t);Ut[e]=class extends Uk{constructor(r){super(Bt("fe"+e,r),r)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=Ut[$u(t)],r=Rt(function(){return this.put(new e)});Ut.ComponentTransferEffect.prototype[t]=r});["distantLight","pointLight","spotLight"].forEach(t=>{const e=Ut[$u(t)],r=Rt(function(){return this.put(new e)});Ut.DiffuseLightingEffect.prototype[t]=r,Ut.SpecularLightingEffect.prototype[t]=r}),qe(Ut.MergeEffect,{mergeNode(t){return this.put(new Ut.MergeNode).attr("in",t)}}),qe(Fv,{filter:function(t){const e=this.put(new Ut);return typeof t=="function"&&t.call(e,e),e}}),qe(Fn,{filter:function(t){return this.defs().filter(t)}}),qe(tn,{filterWith:function(t){const e=t instanceof Ut?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const kke={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,r,n){return this.parent()&&this.parent().diffuseLighting(t,r,n).in(this)},displacementMap:function(t,e,r,n){return this.parent()&&this.parent().displacementMap(this,t,e,r,n)},dropShadow:function(t,e,r){return this.parent()&&this.parent().dropShadow(this,t,e,r).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,r,n,a){return this.parent()&&this.parent().specularLighting(t,r,n,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,r,n,a){return this.parent()&&this.parent().turbulence(t,e,r,n,a).in(this)}};qe(Uk,kke),qe(Ut.MergeEffect,{in:function(t){return t instanceof Ut.MergeNode?this.add(t,0):this.add(new Ut.MergeNode().in(t),0),this}}),qe([Ut.CompositeEffect,Ut.BlendEffect,Ut.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),Ut.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Zr=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"getDefaultFilter",value:function(e,r){var n=this.w;e.unfilter(!0),new Ut().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,r)}},{key:"applyFilter",value:function(e,r,n){var a,i=this,s=this.w;if(e.unfilter(!0),n!=="none"){var o,l,c=s.config.chart.dropShadow,u=n==="lighten"?2:.3;e.filterWith(function(f){f.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&i.addShadow(f,r,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,r)}},{key:"addShadow",value:function(e,r,n,a){var i,s=this.w,o=n.blur,l=n.top,c=n.left,u=n.color,f=n.opacity;if(u=Array.isArray(u)?u[r]:u,((i=s.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&s.config.chart.dropShadow.enabledOnSeries.indexOf(r)===-1)return e;e.offset({in:a,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":f,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,r){var n,a,i,s,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),ne.isMsEdge()&&u.config.chart.type==="radialBar"||((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.indexOf(c))===-1?e:(e.filterWith(function(f){l.addShadow(f,c,r,"SourceGraphic")}),r.noUserSpaceOnUse||(s=e.filterer())===null||s===void 0||(o=s.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,r,n){var a=this.w;if(a.globals.selectedDataPoints[r]!==void 0&&a.globals.selectedDataPoints[r].indexOf(n)>-1){e.node.setAttribute("selected",!0);var i=a.config.states.active.filter;i!=="none"&&this.applyFilter(e,r,i.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),ye=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"roundPathCorners",value:function(e,r){function n(A,E,C){var T=E.x-A.x,O=E.y-A.y,N=Math.sqrt(T*T+O*O);return a(A,E,Math.min(1,C/N))}function a(A,E,C){return{x:A.x+(E.x-A.x)*C,y:A.y+(E.y-A.y)*C}}function i(A,E){A.length>2&&(A[A.length-2]=E.x,A[A.length-1]=E.y)}function s(A){return{x:parseFloat(A[A.length-2]),y:parseFloat(A[A.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(A,E){var C=E.match(/^([a-zA-Z])(.+)/);return C?(A.push(C[1]),A.push(C[2])):A.push(E),A},[]).reduce(function(A,E){return parseFloat(E)==E&&A.length?A[A.length-1].push(E):A.push([E]),A},[]),l=[];if(o.length>1){var c=s(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var f=1;f<o.length;f++){var h=l[l.length-1],d=o[f],g=d==u?o[1]:o[f+1];if(g&&h&&h.length>2&&d[0]=="L"&&g.length>2&&g[0]=="L"){var p,m,v=s(h),y=s(d),b=s(g);p=n(y,v,r),m=n(y,b,r),i(d,p),d.origPoint=y,l.push(d);var S=a(p,y,.5),w=a(y,m,.5),_=["C",S.x,S.y,w.x,w.y,m.x,m.y];_.origPoint=y,l.push(_)}else l.push(d)}if(u){var k=s(l[l.length-1]);l.push(["Z"]),i(l[0],k)}}else l=o;return l.reduce(function(A,E){return A+E.join(" ")+" "},"")}},{key:"drawLine",value:function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:r,x2:n,y2:a,stroke:i,"stroke-dasharray":s,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=this.w.globals.dom.Paper.rect();return f.attr({x:e,y:r,width:n>0?n:0,height:a>0?a:0,rx:i,ry:i,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),f.node.setAttribute("fill",s),f}},{key:"drawPolygon",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:r,"stroke-width":n})}},{key:"drawCircle",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return r!==null&&n.attr(r),n}},{key:"drawPath",value:function(e){var r=e.d,n=r===void 0?"":r,a=e.stroke,i=a===void 0?"#a8a8a8":a,s=e.strokeWidth,o=s===void 0?1:s,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,f=e.strokeOpacity,h=f===void 0?1:f,d=e.classes,g=e.strokeLinecap,p=g===void 0?null:g,m=e.strokeDashArray,v=m===void 0?0:m,y=this.w;return p===null&&(p=y.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":u,stroke:i,"stroke-opacity":h,"stroke-linecap":p,"stroke-width":o,"stroke-dasharray":v,class:d})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w.globals.dom.Paper.group();return e!==null&&r.attr(e),r}},{key:"move",value:function(e,r){var n=["M",e,r].join(" ");return n}},{key:"line",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return n===null?a=[" L",e,r].join(" "):n==="H"?a=[" H",e].join(" "):n==="V"&&(a=[" V",r].join(" ")),a}},{key:"curve",value:function(e,r,n,a,i,s){var o=["C",e,r,n,a,i,s].join(" ");return o}},{key:"quadraticCurve",value:function(e,r,n,a){return["Q",e,r,n,a].join(" ")}},{key:"arc",value:function(e,r,n,a,i,s,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,r,n,a,i,s,o].join(" ");return c}},{key:"renderPaths",value:function(e){var r,n=e.j,a=e.realIndex,i=e.pathFrom,s=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,f=e.animationDelay,h=e.initialSpeed,d=e.dataChangeSpeed,g=e.className,p=e.chartType,m=e.shouldClipToGrid,v=m===void 0||m,y=e.bindEventsOnPaths,b=y===void 0||y,S=e.drawShadow,w=S===void 0||S,_=this.w,k=new Zr(this.ctx),A=new Bu(this.ctx),E=this.w.config.chart.animations.enabled,C=E&&this.w.config.chart.animations.dynamicAnimation.enabled;if(i&&i.startsWith("M 0 0")&&s){var T=s.match(/^M\s+[\d.-]+\s+[\d.-]+/);T&&(i=i.replace(/^M\s+0\s+0/,T[0]))}var O=!!(E&&!_.globals.resized||C&&_.globals.dataChanged&&_.globals.shouldAnimate);O?r=i:(r=s,_.globals.animationEnded=!0);var N=_.config.stroke.dashArray,z=0;z=Array.isArray(N)?N[a]:_.config.stroke.dashArray;var W=this.drawPath({d:r,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:g,strokeLinecap:c,strokeDashArray:z});W.attr("index",a),v&&(p==="bar"&&!_.globals.isHorizontal||_.globals.comboCharts?W.attr({"clip-path":"url(#gridRectBarMask".concat(_.globals.cuid,")")}):W.attr({"clip-path":"url(#gridRectMask".concat(_.globals.cuid,")")})),_.config.chart.dropShadow.enabled&&w&&k.dropShadow(W,_.config.chart.dropShadow,a),b&&(W.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,W)),W.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,W)),W.node.addEventListener("mousedown",this.pathMouseDown.bind(this,W))),W.attr({pathTo:s,pathFrom:i});var F={el:W,j:n,realIndex:a,pathFrom:i,pathTo:s,fill:u,strokeWidth:l,delay:f};return!E||_.globals.resized||_.globals.dataChanged?!_.globals.resized&&_.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(Ae(Ae({},F),{},{speed:h})),_.globals.dataChanged&&C&&O&&A.animatePathsGradually(Ae(Ae({},F),{},{speed:d})),W}},{key:"drawPattern",value:function(e,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(r,n,function(s){e==="horizontalLines"?s.line(0,0,n,0).stroke({color:a,width:i+1}):e==="verticalLines"?s.line(0,0,0,r).stroke({color:a,width:i+1}):e==="slantedLines"?s.line(0,0,r,n).stroke({color:a,width:i}):e==="squares"?s.rect(r,n).fill("none").stroke({color:a,width:i}):e==="circles"&&s.circle(r).fill("none").stroke({color:a,width:i})})}},{key:"drawGradient",value:function(e,r,n,a,i){var s,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,f=this.w;r.length<9&&r.indexOf("#")===0&&(r=ne.hexToRgba(r,a)),n.length<9&&n.indexOf("#")===0&&(n=ne.hexToRgba(n,i));var h=0,d=1,g=1,p=null;l!==null&&(h=l[0]!==void 0?l[0]/100:0,d=l[1]!==void 0?l[1]/100:1,g=l[2]!==void 0?l[2]/100:1,p=l[3]!==void 0?l[3]/100:null);var m=!(f.config.chart.type!=="donut"&&f.config.chart.type!=="pie"&&f.config.chart.type!=="polarArea"&&f.config.chart.type!=="bubble");if(s=c&&c.length!==0?f.globals.dom.Paper.gradient(m?"radial":"linear",function(b){(Array.isArray(c[u])?c[u]:c).forEach(function(S){b.stop(S.offset/100,S.color,S.opacity)})}):f.globals.dom.Paper.gradient(m?"radial":"linear",function(b){b.stop(h,r,a),b.stop(d,n,i),b.stop(g,n,i),p!==null&&b.stop(p,r,a)}),m){var v=f.globals.gridWidth/2,y=f.globals.gridHeight/2;f.config.chart.type!=="bubble"?s.attr({gradientUnits:"userSpaceOnUse",cx:v,cy:y,r:o}):s.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?s.from(0,0).to(0,1):e==="diagonal"?s.from(0,0).to(1,1):e==="horizontal"?s.from(0,1).to(1,1):e==="diagonal2"&&s.from(1,0).to(0,1);return s}},{key:"getTextBasedOnMaxWidth",value:function(e){var r=e.text,n=e.maxWidth,a=e.fontSize,i=e.fontFamily,s=this.getTextRects(r,a,i),o=s.width/r.length,l=Math.floor(n/o);return n<s.width?r.slice(0,l-3)+"...":r}},{key:"drawText",value:function(e){var r=this,n=e.x,a=e.y,i=e.text,s=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,f=e.opacity,h=e.maxWidth,d=e.cssClass,g=d===void 0?"":d,p=e.isPlainText,m=p===void 0||p,v=e.dominantBaseline,y=v===void 0?"auto":v,b=this.w;i===void 0&&(i="");var S=i;s||(s="start"),u&&u.length||(u=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,c=c||"regular";var w,_={maxWidth:h,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(i)?w=b.globals.dom.Paper.text(function(k){for(var A=0;A<i.length;A++)S=i[A],h&&(S=r.getTextBasedOnMaxWidth(Ae({text:i[A]},_))),A===0?k.tspan(S):k.tspan(S).newLine()}):(h&&(S=this.getTextBasedOnMaxWidth(Ae({text:i},_))),w=m?b.globals.dom.Paper.plain(i):b.globals.dom.Paper.text(function(k){return k.tspan(S)})),w.attr({x:n,y:a,"text-anchor":s,"dominant-baseline":y,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+g}),w.node.style.fontFamily=l,w.node.style.opacity=f,w}},{key:"getMarkerPath",value:function(e,r,n,a){var i="";switch(n){case"cross":i="M ".concat(e-(a/=1.4)," ").concat(r-a," L ").concat(e+a," ").concat(r+a,"  M ").concat(e-a," ").concat(r+a," L ").concat(e+a," ").concat(r-a);break;case"plus":i="M ".concat(e-(a/=1.12)," ").concat(r," L ").concat(e+a," ").concat(r,"  M ").concat(e," ").concat(r-a," L ").concat(e," ").concat(r+a);break;case"star":case"sparkle":var s=5;a*=1.15,n==="sparkle"&&(a/=1.1,s=4);for(var o=Math.PI/s,l=0;l<=2*s;l++){var c=l*o,u=l%2==0?a:a/2;i+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(r-u*Math.cos(c))}i+="Z";break;case"triangle":i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r+a,` 
             Z`);break;case"square":case"rect":i="M ".concat(e-(a/=1.125)," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r-a,` 
           L `).concat(e+a," ").concat(r+a,` 
           L `).concat(e-a," ").concat(r+a,` 
           Z`);break;case"diamond":a*=1.05,i="M ".concat(e," ").concat(r-a,` 
             L `).concat(e+a," ").concat(r,` 
             L `).concat(e," ").concat(r+a,` 
             L `).concat(e-a," ").concat(r,` 
            Z`);break;case"line":i="M ".concat(e-(a/=1.1)," ").concat(r,` 
           L `).concat(e+a," ").concat(r);break;default:a*=2,i="M ".concat(e,", ").concat(r,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return i}},{key:"drawMarkerShape",value:function(e,r,n,a,i){var s=this.drawPath({d:this.getMarkerPath(e,r,n,a,i),stroke:i.pointStrokeColor,strokeDashArray:i.pointStrokeDashArray,strokeWidth:i.pointStrokeWidth,fill:i.pointFillColor,fillOpacity:i.pointFillOpacity,strokeOpacity:i.pointStrokeOpacity});return s.attr({cx:e,cy:r,shape:i.shape,class:i.class?i.class:""}),s}},{key:"drawMarker",value:function(e,r,n){e=e||0;var a=n.pSize||0;return ne.isNumber(r)||(a=0,r=0),this.drawMarkerShape(e,r,n==null?void 0:n.shape,a,Ae(Ae({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,r){var n=this.w,a=new Zr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;a.applyFilter(e,i,o.type)}}},{key:"pathMouseLeave",value:function(e,r){var n=this.w,a=new Zr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:i,dataPointIndex:s,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,i)}},{key:"pathMouseDown",value:function(e,r){var n=this.w,a=new Zr(this.ctx),i=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[i].indexOf(s)>-1){var l=n.globals.selectedDataPoints[i].indexOf(s);n.globals.selectedDataPoints[i].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var c=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),f=function(g){Array.prototype.forEach.call(g,function(p){p.node.setAttribute("selected","false"),a.getDefaultFilter(p,i)})};f(c),f(u)}e.node.setAttribute("selected","true"),o="true",n.globals.selectedDataPoints[i]===void 0&&(n.globals.selectedDataPoints[i]=[]),n.globals.selectedDataPoints[i].push(s)}if(o==="true"){var h=n.config.states.active.filter;if(h!=="none")a.applyFilter(e,i,h.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var d=n.config.states.hover.filter;a.applyFilter(e,i,d.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?a.getDefaultFilter(e,i):(d=n.config.states.hover.filter,a.applyFilter(e,i,d.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:s,w:n}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:i,dataPointIndex:s,w:n}])}},{key:"rotateAroundCenter",value:function(e){var r={};return e&&typeof e.getBBox=="function"&&(r=e.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(e,r,n,a){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:r,fontFamily:n,foreColor:"#fff",opacity:0});a&&o.attr("transform",a),s.globals.dom.Paper.add(o);var l=o.bbox();return i||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,r,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=r,r.length>0&&e.getComputedTextLength()>=n/1.1)){for(var a=r.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=n/1.1)return void(e.textContent=r.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,r){for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(n,r[n])}}]),t}(),dr=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,n=[];if(r.globals.series.length===0)return n;for(var a=0;a<r.globals.series[r.globals.maxValsInArrayIndex].length;a++){for(var i=0,s=0;s<r.globals.series.length;s++)r.globals.series[s][a]!==void 0&&e.indexOf(s)===-1&&(i+=r.globals.series[s][a]);n.push(i)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(r,n){return r+n},0):this.w.globals.series[e].reduce(function(r,n){return r+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,r=this.w,n=[];return r.globals.seriesGroups.forEach(function(a){var i=[];r.config.series.forEach(function(o,l){a.indexOf(r.globals.seriesNames[l])>-1&&i.push(l)});var s=r.globals.series.map(function(o,l){return i.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});n.push(e.getStackedSeriesTotals(s))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,r=this.w.config,n=[],a=[],i=[],s=e.series.length>r.yaxis.length||r.yaxis.some(function(f){return Array.isArray(f.seriesName)});r.series.forEach(function(f,h){i.push(h),a.push(null)}),r.yaxis.forEach(function(f,h){n[h]=[]});var o=[];r.yaxis.forEach(function(f,h){var d=!1;if(f.seriesName){var g=[];Array.isArray(f.seriesName)?g=f.seriesName:g.push(f.seriesName),g.forEach(function(p){r.series.forEach(function(m,v){if(m.name===p){var y=v;h===v||s?!s||i.indexOf(v)>-1?n[h].push([h,v]):console.warn("Series '"+m.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[v].push([v,h]),y=h),d=!0,(y=i.indexOf(y))!==-1&&i.splice(y,1)}})})}d||o.push(h)}),n=n.map(function(f,h){var d=[];return f.forEach(function(g){a[g[1]]=g[0],d.push(g[1])}),d});for(var l=r.yaxis.length-1,c=0;c<o.length&&(l=o[c],n[l]=[],i);c++){var u=i[0];i.shift(),n[l].push(u),a[u]=l}i.forEach(function(f){n[l].push(f),a[f]=l}),e.seriesYAxisMap=n.map(function(f){return f}),e.seriesYAxisReverseMap=a.map(function(f){return f}),e.seriesYAxisMap.forEach(function(f,h){f.forEach(function(d){r.series[d]&&r.series[d].group===void 0&&(r.series[d].group="apexcharts-axis-".concat(h.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[e].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(r,n,a){return r===a[0]})}},{key:"getCategoryLabels",value:function(e){var r=this.w,n=e.slice();return r.config.xaxis.convertedCatToNumeric&&(n=e.map(function(a,i){return r.config.xaxis.labels.formatter(a-r.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,r=0;return e.globals.markers.size.forEach(function(n){r=Math.max(r,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){r=Math.max(r,n.size)}),r>0&&(e.config.markers.hover.size>0?r=e.config.markers.hover.size:r+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(r,n){var a=0;if(Array.isArray(r))for(var i=0;i<r.length;i++)a+=r[i];else a+=r;return a})}},{key:"getSeriesTotalsXRange",value:function(e,r){var n=this.w;return n.globals.series.map(function(a,i){for(var s=0,o=0;o<a.length;o++)n.globals.seriesX[i][o]>e&&n.globals.seriesX[i][o]<r&&(s+=a[o]);return s})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(r,n){var a=[];if(Array.isArray(r))for(var i=0;i<r.length;i++){var s=e.globals.stackedSeriesTotals[i],o=0;s&&(o=100*r[i]/s),a.push(o)}else{var l=100*r/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);a.push(l)}return a})}},{key:"getCalculatedRatios",value:function(){var e,r,n,a=this,i=this.w,s=i.globals,o=[],l=0,c=[],u=.1,f=0;if(s.yRange=[],s.isMultipleYAxis)for(var h=0;h<s.minYArr.length;h++)s.yRange.push(Math.abs(s.minYArr[h]-s.maxYArr[h])),c.push(0);else s.yRange.push(Math.abs(s.minY-s.maxY));s.xRange=Math.abs(s.maxX-s.minX),s.zRange=Math.abs(s.maxZ-s.minZ);for(var d=0;d<s.yRange.length;d++)o.push(s.yRange[d]/s.gridHeight);if(r=s.xRange/s.gridWidth,e=s.yRange/s.gridWidth,n=s.xRange/s.gridHeight,(l=s.zRange/s.gridHeight*16)||(l=1),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(s.hasNegs=!0),i.globals.seriesYAxisReverseMap.length>0){var g=function(m,v){var y=i.config.yaxis[i.globals.seriesYAxisReverseMap[v]],b=m<0?-1:1;return m=Math.abs(m),y.logarithmic&&(m=a.getBaseLog(y.logBase,m)),-b*m/o[v]};if(s.isMultipleYAxis){c=[];for(var p=0;p<o.length;p++)c.push(g(s.minYArr[p],p))}else(c=[]).push(g(s.minY,0)),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(u=-s.minY/e,f=s.minX/r)}else(c=[]).push(0),u=0,f=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:r,invertedXRatio:n,baseLineInvertedY:u,baseLineY:c,baseLineX:f}}},{key:"getLogSeries",value:function(e){var r=this,n=this.w;return n.globals.seriesLog=e.map(function(a,i){var s=n.globals.seriesYAxisReverseMap[i];return n.config.yaxis[s]&&n.config.yaxis[s].logarithmic?a.map(function(o){return o===null?null:r.getLogVal(n.config.yaxis[s].logBase,o,i)}):a}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,r){if(e===null)return null;var n=this.w,a=n.globals.seriesYAxisReverseMap[r];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?this.getLogVal(n.config.yaxis[a].logBase,e,r):e}},{key:"getBaseLog",value:function(e,r){return Math.log(r)/Math.log(e)}},{key:"getLogVal",value:function(e,r,n){if(r<=0)return 0;var a=this.w,i=a.globals.minYArr[n]===0?-1:this.getBaseLog(e,a.globals.minYArr[n]),s=(a.globals.maxYArr[n]===0?0:this.getBaseLog(e,a.globals.maxYArr[n]))-i;return r<1?r/s:(this.getBaseLog(e,r)-i)/s}},{key:"getLogYRatios",value:function(e){var r=this,n=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(i,s){var o=n.globals.seriesYAxisReverseMap[s];if(n.config.yaxis[o]&&r.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return a.seriesLog.forEach(function(f,h){f.forEach(function(d){n.config.yaxis[h]&&n.config.yaxis[h].logarithmic&&(c=Math.max(d,c),u=Math.min(d,u))})}),l=Math.pow(a.yRange[s],Math.abs(u-c)/a.yRange[s]),a.yLogRatio[s]=l/a.gridHeight,l}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,r,n,a){var i=this.w,s=[];return e.series.length>0&&r.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,f){i.config.series[u].group===o&&(l.push(e.series[f]),c.push(u))}),l.length>0&&s.push(a.draw(l,n,c))}),s}}],[{key:"checkComboSeries",value:function(e,r){var n=!1,a=0,i=0;return r===void 0&&(r="line"),e.length&&e[0].type!==void 0&&e.forEach(function(s){s.type!=="bar"&&s.type!=="column"&&s.type!=="candlestick"&&s.type!=="boxPlot"||a++,s.type!==void 0&&s.type!==r&&i++}),i>0&&(n=!0),{comboBarCount:a,comboCharts:n}}},{key:"extendArrayProps",value:function(e,r,n){var a,i,s,o,l,c;return(a=r)!==null&&a!==void 0&&a.yaxis&&(r=e.extendYAxis(r,n)),(i=r)!==null&&i!==void 0&&i.annotations&&(r.annotations.yaxis&&(r=e.extendYAxisAnnotations(r)),(s=r)!==null&&s!==void 0&&(o=s.annotations)!==null&&o!==void 0&&o.xaxis&&(r=e.extendXAxisAnnotations(r)),(l=r)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(r=e.extendPointAnnotations(r))),r}}]),t}(),jv=function(){function t(e){De(this,t),this.w=e.w,this.annoCtx=e}return Re(t,[{key:"setOrientations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var a=r!==null?r:0,i=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(i!==null){var s=i.getBoundingClientRect();i.setAttribute("x",parseFloat(i.getAttribute("x"))-s.height+4);var o=e.label.position==="top"?s.width:-s.width;i.setAttribute("y",parseFloat(i.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(i),c=l.x,u=l.y;i.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,r){var n=this.w;if(!e||!r.label.text||!String(r.label.text).trim())return null;var a=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),i=e.getBoundingClientRect(),s=r.label.style.padding,o=s.left,l=s.right,c=s.top,u=s.bottom;if(r.label.orientation==="vertical"){var f=[o,l,c,u];c=f[0],u=f[1],o=f[2],l=f[3]}var h=i.left-a.left-o,d=i.top-a.top-c,g=this.annoCtx.graphics.drawRect(h-n.globals.barPadForNumericAxis,d,i.width+o+l,i.height+c+u,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&g.node.classList.add(r.id),g}},{key:"annotationsBackground",value:function(){var e=this,r=this.w,n=function(a,i,s){var o=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(i,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,a);c&&(l.insertBefore(c.node,o),a.label.mouseEnter&&c.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&c.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&c.node.addEventListener("click",a.label.click.bind(e,a)))}};r.config.annotations.xaxis.forEach(function(a,i){return n(a,i,"xaxis")}),r.config.annotations.yaxis.forEach(function(a,i){return n(a,i,"yaxis")}),r.config.annotations.points.forEach(function(a,i){return n(a,i,"point")})}},{key:"getY1Y2",value:function(e,r){var n,a=this.w,i=e==="y1"?r.y:r.y2,s=!1;if(this.annoCtx.invertAxis){var o=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,l=o.indexOf(i),c=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));n=c?parseFloat(c.getAttribute("y")):(a.globals.gridHeight/o.length-1)*(l+1)-a.globals.barHeight,r.seriesIndex!==void 0&&a.globals.barHeight&&(n-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*r.seriesIndex)}else{var u,f=a.globals.seriesYAxisMap[r.yAxisIndex][0],h=a.config.yaxis[r.yAxisIndex].logarithmic?new dr(this.annoCtx.ctx).getLogVal(a.config.yaxis[r.yAxisIndex].logBase,i,f)/a.globals.yLogRatio[f]:(i-a.globals.minYArr[f])/(a.globals.yRange[f]/a.globals.gridHeight);n=a.globals.gridHeight-Math.min(Math.max(h,0),a.globals.gridHeight),s=h>a.globals.gridHeight||h<0,!r.marker||r.y!==void 0&&r.y!==null||(n=0),(u=a.config.yaxis[r.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(n=h)}return typeof i=="string"&&i.includes("px")&&(n=parseFloat(i)),{yP:n,clipped:s}}},{key:"getX1X2",value:function(e,r){var n=this.w,a=e==="x1"?r.x:r.x2,i=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,s=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,o=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(s-a)/(o/n.globals.gridWidth):(a-i)/(o/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(c=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(c=parseFloat(a)),a==null&&r.marker&&(c=n.globals.gridWidth),r.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*r.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(n.globals.gridWidth.toFixed(10))?(c=n.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var r=this.w,n=e;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(e=r.globals.categoryLabels.indexOf(e)+1);var a=r.globals.labels.map(function(s){return Array.isArray(s)?s.join(" "):s}).indexOf(e),i=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return i&&(n=parseFloat(i.getAttribute("x"))),n}}]),t}(),Ake=function(){function t(e){De(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new jv(this.annoCtx)}return Re(t,[{key:"addXaxisAnnotation",value:function(e,r,n){var a,i=this.w,s=this.helpers.getX1X2("x1",e),o=s.x,l=s.clipped,c=!0,u=e.label.text,f=e.strokeDashArray;if(ne.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var h=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,i.globals.gridHeight+e.offsetY,e.borderColor,f,e.borderWidth);r.appendChild(h.node),e.id&&h.node.classList.add(e.id)}}else{var d=this.helpers.getX1X2("x2",e);if(a=d.x,c=d.clipped,a<o){var g=o;o=a,a=g}var p=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,a-o,i.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,f);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(p.node),e.id&&p.node.classList.add(e.id)}if(!l||!c){var m=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),v=e.label.position==="top"?4:e.label.position==="center"?i.globals.gridHeight/2+(e.label.orientation==="vertical"?m.width/2:0):i.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:v+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?m.width/2-12:-m.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:n}),r.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(a,i){e.addXaxisAnnotation(a,n.node,i)}),n}}]),t}(),qr=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Re(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var r=Date.parse(e);if(!isNaN(r))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,r){var n=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,i=["\0"].concat(Mr(n.months)),s=[""].concat(Mr(n.shortMonths)),o=[""].concat(Mr(n.days)),l=[""].concat(Mr(n.shortDays));function c(A,E){var C=A+"";for(E=E||2;C.length<E;)C="0"+C;return C}var u=a?e.getUTCFullYear():e.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var f=(a?e.getUTCMonth():e.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+c(f))).replace(/(^|[^\\])M/g,"$1"+f);var h=a?e.getUTCDate():e.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(h))).replace(/(^|[^\\])d/g,"$1"+h);var d=a?e.getUTCHours():e.getHours(),g=d>12?d-12:d===0?12:d;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+c(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+c(g))).replace(/(^|[^\\])h/g,"$1"+g);var p=a?e.getUTCMinutes():e.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+c(p))).replace(/(^|[^\\])m/g,"$1"+p);var m=a?e.getUTCSeconds():e.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+c(m))).replace(/(^|[^\\])s/g,"$1"+m);var v=a?e.getUTCMilliseconds():e.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+c(v,3)),v=Math.round(v/10),r=r.replace(/(^|[^\\])ff/g,"$1"+c(v)),v=Math.round(v/10);var y=d<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var S=-e.getTimezoneOffset(),w=a||!S?"Z":S>0?"+":"-";if(!a){var _=(S=Math.abs(S))%60;w+=c(Math.floor(S/60))+":"+c(_)}r=r.replace(/(^|[^\\])K/g,"$1"+w);var k=(a?e.getUTCDay():e.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(l[0],"g"),l[k])).replace(new RegExp(i[0],"g"),i[f])).replace(new RegExp(s[0],"g"),s[f])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,r,n){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(r=a.config.xaxis.max);var i=this.getDate(e),s=this.getDate(r),o=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,r,n){return this.determineDaysOfMonths(e,r)-n}},{key:"determineDaysOfYear",value:function(e){var r=365;return this.isLeapYear(e)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(e,r,n){var a=this.daysCntOfYear[r]+n;return r>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,r){var n=30;switch(e=ne.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),t}(),t0=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Re(t,[{key:"xLabelFormat",value:function(e,r,n,a){var i=this.w;if(i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0&&i.config.tooltip.x.formatter===void 0){var s=new qr(this.ctx);return s.formatDate(s.getDate(r),i.config.tooltip.x.format)}return e(r,n,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(r){return r}):e}},{key:"defaultYFormatter",value:function(e,r,n){var a=this.w;if(ne.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:a.globals.yValueDecimal);else{var i=e.toFixed(0);e=e==i?i:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},r.globals.ttZFormatter=function(n){return n},r.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(n){if(ne.isNumber(n)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(ne.isNumber(r.config.xaxis.decimalsInFloat))return n.toFixed(r.config.xaxis.decimalsInFloat);var a=r.globals.maxX-r.globals.minX;return a>0&&a<100?n.toFixed(1):n.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(n,a){n.labels.formatter!==void 0?r.globals.yLabelFormatters[a]=n.labels.formatter:r.globals.yLabelFormatters[a]=function(i){return r.globals.xyCharts?Array.isArray(i)?i.map(function(s){return e.defaultYFormatter(s,n,a)}):e.defaultYFormatter(i,n,a):i}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var r=e.globals.seriesNames.reduce(function(n,a){return n.length>a.length?n:a},0);e.globals.yAxisScale[0].niceMax=r,e.globals.yAxisScale[0].niceMin=r}}}]),t}(),ao=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"getLabel",value:function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[a]===void 0?"":e[a],u=c,f=l.globals.xLabelFormatter,h=l.config.xaxis.labels.formatter,d=!1,g=new t0(this.ctx),p=c;o&&(u=g.xLabelFormat(f,c,p,{i:a,dateFormatter:new qr(this.ctx).formatDate,w:l}),h!==void 0&&(u=h(c,e[a],{i:a,dateFormatter:new qr(this.ctx).formatDate,w:l})));var m,v;r.length>0?(m=r[a].unit,v=null,r.forEach(function(w){w.unit==="month"?v="year":w.unit==="day"?v="month":w.unit==="hour"?v="day":w.unit==="minute"&&(v="hour")}),d=v===m,n=r[a].position,u=r[a].value):l.config.xaxis.type==="datetime"&&h===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new ye(this.ctx),b={};b=l.globals.rotateXLabels&&o?y.getTextRects(u,parseInt(s,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(s,10));var S=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||i.indexOf(u)>=0&&S)&&(u=""),{x:n,text:u,textRect:b,isBold:d}}},{key:"checkLabelBasedOnTickamount",value:function(e,r,n){var a=this.w,i=a.config.xaxis.tickAmount;return i==="dataPoints"&&(i=Math.round(a.globals.gridWidth/120)),i>n||e%Math.round(n/(i+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(e,r,n,a,i){var s=this.w;if(e===0&&s.globals.skipFirstTimelinelabel&&(r.text=""),e===n-1&&s.globals.skipLastTimelinelabel&&(r.text=""),s.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var o=i[i.length-1];if(s.config.xaxis.labels.trim&&s.config.xaxis.type!=="datetime")return r;r.x<o.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+o.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(e,r){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&r.reverse(),r}},{key:"yAxisAllSeriesCollapsed",value:function(e){var r=this.w.globals;return!r.seriesYAxisMap[e].some(function(n){return r.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var r=this.w,n=r.globals,a=r.config.yaxis;return n.series.length>a.length||a.some(function(i){return Array.isArray(i.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var r=this.w,n=r.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var a=r.globals.seriesYAxisMap[e],i=new dr(this.ctx);return a.every(function(s){return i.isSeriesNull(s)})}return!1}},{key:"getYAxisForeColor",value:function(e,r){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[r].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,r,n,a,i,s,o){var l=this.w,c=new ye(this.ctx),u=l.globals.translateY+l.config.yaxis[i].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=s/2),a.show&&r>0){l.config.yaxis[i].opposite===!0&&(e+=a.width);for(var f=r;f>=0;f--){var h=c.drawLine(e+n.offsetX-a.width+a.offsetX,u+a.offsetY,e+n.offsetX+a.offsetX,u+a.offsetY,a.color);o.add(h),u+=s}}}}]),t}(),Eke=function(){function t(e){De(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new jv(this.annoCtx),this.axesUtils=new ao(this.annoCtx)}return Re(t,[{key:"addYaxisAnnotation",value:function(e,r,n){var a,i=this.w,s=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,f=!1,h=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){f=!0;var d=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,s,e.borderWidth);r.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{if(a=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,a>l){var g=l;l=a,a=g}if(!c||!u){f=!0;var p=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),l-a,0,e.fillColor,e.opacity,1,e.borderColor,s);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),r.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}if(f){var m=e.label.position==="right"?i.globals.gridWidth:e.label.position==="center"?i.globals.gridWidth/2:0,v=this.annoCtx.graphics.drawText({x:m+e.label.offsetX,y:(a??l)+e.label.offsetY-3,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:n}),r.appendChild(v.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var r=this.w;return r.globals.gridWidth,(e.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.forEach(function(a,i){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,n.node,i)}),n}}]),t}(),Tke=function(){function t(e){De(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new jv(this.annoCtx)}return Re(t,[{key:"addPointAnnotation",value:function(e,r,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),i=a.x,s=a.clipped,o=(a=this.helpers.getY1Y2("y1",e)).yP,l=a.clipped;if(ne.isNumber(i)&&!l&&!s){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,o+e.marker.offsetY,c);r.appendChild(u.node);var f=e.label.text?e.label.text:"",h=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(h.attr({rel:n}),r.appendChild(h.node),e.customSVG.SVG){var d=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});d.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),d.node.innerHTML=e.customSVG.SVG,r.appendChild(d.node)}if(e.image.path){var g=e.image.width?e.image.width:20,p=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:i+e.image.offsetX-g/2,y:o+e.image.offsetY-p/2,width:g,height:p,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,r=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(a,i){e.addPointAnnotation(a,n.node,i)}),n}}]),t}(),O3={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},jo=function(){function t(){De(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Re(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[O3],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(r,n){return r+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),Cke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.graphics=new ye(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new jv(this),this.xAxisAnnotations=new Ake(this),this.yAxisAnnotations=new Eke(this),this.pointsAnnotations=new Tke(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Re(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),i=e.config.chart.animations.enabled,s=[r,n,a],o=[n.node,r.node,a.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(s[l]),!i||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(r,n){e.addImage(r,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(r,n){e.addText(r,n)})}},{key:"addXaxisAnnotation",value:function(e,r,n){this.xAxisAnnotations.addXaxisAnnotation(e,r,n)}},{key:"addYaxisAnnotation",value:function(e,r,n){this.yAxisAnnotations.addYaxisAnnotation(e,r,n)}},{key:"addPointAnnotation",value:function(e,r,n){this.pointsAnnotations.addPointAnnotation(e,r,n)}},{key:"addText",value:function(e,r){var n=e.x,a=e.y,i=e.text,s=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,f=e.cssClass,h=e.backgroundColor,d=e.borderWidth,g=e.strokeDashArray,p=e.borderRadius,m=e.borderColor,v=e.appendTo,y=v===void 0?".apexcharts-svg":v,b=e.paddingLeft,S=b===void 0?4:b,w=e.paddingRight,_=w===void 0?4:w,k=e.paddingBottom,A=k===void 0?2:k,E=e.paddingTop,C=E===void 0?2:E,T=this.w,O=this.graphics.drawText({x:n,y:a,text:i,textAnchor:s||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||T.config.chart.fontFamily,foreColor:o||T.config.chart.foreColor,cssClass:f}),N=T.globals.dom.baseEl.querySelector(y);N&&N.appendChild(O.node);var z=O.bbox();if(i){var W=this.graphics.drawRect(z.x-S,z.y-C,z.width+S+_,z.height+A+C,p,h||"transparent",1,d,m,g);N.insertBefore(W.node,O.node)}}},{key:"addImage",value:function(e,r){var n=this.w,a=e.path,i=e.x,s=i===void 0?0:i,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,f=e.height,h=f===void 0?20:f,d=e.appendTo,g=d===void 0?".apexcharts-svg":d,p=n.globals.dom.Paper.image(a);p.size(u,h).move(s,l);var m=n.globals.dom.baseEl.querySelector(g);return m&&m.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,r,n){return this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,r,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:r,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var r=e.params,n=e.pushToMemory,a=e.context,i=e.type,s=e.contextMethod,o=a,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations")),u=c.childNodes.length+1,f=new jo,h=Object.assign({},i==="xaxis"?f.xAxisAnnotation:i==="yaxis"?f.yAxisAnnotation:f.pointAnnotation),d=ne.extend(h,r);switch(i){case"xaxis":this.addXaxisAnnotation(d,c,u);break;case"yaxis":this.addYaxisAnnotation(d,c,u);break;case"point":this.addPointAnnotation(d,c,u)}var g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(u,"']")),p=this.helpers.addBackgroundToAnno(g,d);return p&&c.insertBefore(p.node,g),n&&l.globals.memory.methodsToExec.push({context:o,id:d.id?d.id:ne.randomId(),method:s,label:"addAnnotation",params:r}),a}},{key:"clearAnnotations",value:function(e){for(var r=e.w,n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=r.globals.memory.methodsToExec.length-1;a>=0;a--)r.globals.memory.methodsToExec[a].label!=="addText"&&r.globals.memory.methodsToExec[a].label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(a,1);n=ne.listToArray(n),Array.prototype.forEach.call(n,function(i){for(;i.firstChild;)i.removeChild(i.firstChild)})}},{key:"removeAnnotation",value:function(e,r){var n=e.w,a=n.globals.dom.baseEl.querySelectorAll(".".concat(r));a&&(n.globals.memory.methodsToExec.map(function(i,s){i.id===r&&n.globals.memory.methodsToExec.splice(s,1)}),Object.keys(n.config.annotations).forEach(function(i){var s=n.config.annotations[i];Array.isArray(s)&&(n.config.annotations[i]=s.filter(function(o){return o.id!==r}))}),Array.prototype.forEach.call(a,function(i){i.parentElement.removeChild(i)}))}}]),t}(),xy=function(t){var e,r=t.isTimeline,n=t.ctx,a=t.seriesIndex,i=t.dataPointIndex,s=t.y1,o=t.y2,l=t.w,c=l.globals.seriesRangeStart[a][i],u=l.globals.seriesRangeEnd[a][i],f=l.globals.labels[i],h=l.config.series[a].name?l.config.series[a].name:"",d=l.globals.ttKeyFormatter,g=l.config.tooltip.y.title.formatter,p={w:l,seriesIndex:a,dataPointIndex:i,start:c,end:u};typeof g=="function"&&(h=g(h,p)),(e=l.config.series[a].data[i])!==null&&e!==void 0&&e.x&&(f=l.config.series[a].data[i].x),r||l.config.xaxis.type==="datetime"&&(f=new t0(n).xLabelFormat(l.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new qr(n).formatDate,w:l})),typeof d=="function"&&(f=d(f,p)),Number.isFinite(s)&&Number.isFinite(o)&&(c=s,u=o);var m="",v="",y=l.globals.colors[a];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new qr(n);m=b.formatDate(b.getDate(c),l.config.tooltip.x.format),v=b.formatDate(b.getDate(u),l.config.tooltip.x.format)}else m=c,v=u;else m=l.config.tooltip.x.formatter(c),v=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:m,endVal:v,ylabel:f,color:y,seriesName:h}},yy=function(t){var e=t.color,r=t.seriesName,n=t.ylabel,a=t.start,i=t.end,s=t.seriesIndex,o=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(s);a=l.yLbFormatter(a),i=l.yLbFormatter(i);var c=l.yLbFormatter(t.w.globals.series[s][o]),u=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(i,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(r||"")+'</span></div><div> <span class="category">'+n+": </span> "+(t.w.globals.comboCharts?t.w.config.series[s].type==="rangeArea"||t.w.config.series[s].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},Sd=function(){function t(e){De(this,t),this.opts=e}return Re(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),ne.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,r){var n=r.w.config.series[r.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Ae(Ae({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,n,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var n=r.seriesIndex,a=r.dataPointIndex,i=r.w;return e._getBoxTooltip(i,n,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,r){r.ctx;var n=r.seriesIndex,a=r.dataPointIndex,i=r.w,s=function(){var o=i.globals.seriesRangeStart[n][a];return i.globals.seriesRangeEnd[n][a]-o};return i.globals.comboCharts?i.config.series[n].type==="rangeBar"||i.config.series[n].type==="rangeArea"?s():e:s()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(r){var n=xy(Ae(Ae({},r),{},{isTimeline:!0})),a=n.color,i=n.seriesName,s=n.ylabel,o=n.startVal,l=n.endVal;return yy(Ae(Ae({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e):function(r){var n=xy(r),a=n.color,i=n.seriesName,s=n.ylabel,o=n.start,l=n.end;return yy(Ae(Ae({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var r,n;return(r=e.plotOptions.bar)!==null&&r!==void 0&&r.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(r){var n=xy(r),a=n.color,i=n.seriesName,s=n.ylabel,o=n.start,l=n.end;return yy(Ae(Ae({},r),{},{color:a,seriesName:i,ylabel:s,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return ne.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var r=e.dataLabels.formatter;return e.yaxis.forEach(function(n,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=r||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Ae(Ae({},e),{},{plotOptions:Ae(Ae({},e.plotOptions),{},{bar:Ae(Ae({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,r,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(s){return ne.isNumber(s)?Math.floor(s):s};var a=e.xaxis.labels.formatter,i=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(i=n.map(function(s){return Array.isArray(s)?s:String(s)})),i&&i.length&&(e.xaxis.labels.formatter=function(s){return ne.isNumber(s)?a(i[Math.floor(s)-1]):a(s)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,r,n,a,i){var s=e.globals.seriesCandleO[r][n],o=e.globals.seriesCandleH[r][n],l=e.globals.seriesCandleM[r][n],c=e.globals.seriesCandleL[r][n],u=e.globals.seriesCandleC[r][n];return e.config.series[r].type&&e.config.series[r].type!==i?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[r].name?e.config.series[r].name:"series-"+(r+1),": <strong>").concat(e.globals.series[r][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(a[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+u+"</span></div></div>"}}]),t}(),_d=function(){function t(e){De(this,t),this.opts=e}return Re(t,[{key:"init",value:function(e){var r=e.responsiveOverride,n=this.opts,a=new jo,i=new Sd(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var s=a.init(),o={};if(n&&Sn(n)==="object"){var l,c,u,f,h,d,g,p,m,v,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?i[n.chart.type]():i.line(),(l=n.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(y=i.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(y=i.stackedBars()),(u=n.chart.brush)!==null&&u!==void 0&&u.enabled&&(y=i.brush(y)),(f=n.plotOptions)!==null&&f!==void 0&&(h=f.line)!==null&&h!==void 0&&h.isSlopeChart&&(y=i.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=i.stacked100(n)),(d=n.plotOptions)!==null&&d!==void 0&&(g=d.bar)!==null&&g!==void 0&&g.isDumbbell&&(n=i.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},r||(n.xaxis.convertedCatToNumeric=!1),((p=(n=this.checkForCatToNumericXAxis(this.chartType,y,n)).chart.sparkline)!==null&&p!==void 0&&p.enabled||(m=window.Apex.chart)!==null&&m!==void 0&&(v=m.sparkline)!==null&&v!==void 0&&v.enabled)&&(y=i.sparkline(y)),o=ne.extend(s,y)}var b=ne.extend(o,window.Apex);return s=ne.extend(b,n),s=this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(e,r,n){var a,i,s=new Sd(n),o=(e==="bar"||e==="boxPlot")&&((a=n.plotOptions)===null||a===void 0||(i=a.bar)===null||i===void 0?void 0:i.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",u=n.xaxis.tickPlacement?n.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return o||l||!c||u==="between"||(n=s.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,r){var n=new jo;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=ne.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[ne.extend(n.yAxis,e.yaxis)]:e.yaxis=ne.extendArray(e.yaxis,n.yAxis);var a=!1;e.yaxis.forEach(function(s){s.logarithmic&&(a=!0)});var i=e.series;return r&&!i&&(i=r.config.series),a&&i.length!==e.yaxis.length&&i.length&&(e.yaxis=i.map(function(s,o){if(s.name||(i[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=i[o].name,e.yaxis[o];var l=ne.extend(n.yAxis,e.yaxis[0]);return l.show=!1,l})),a&&i.length>1&&i.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var r=new jo;return e.annotations.yaxis=ne.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],r.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var r=new jo;return e.annotations.xaxis=ne.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],r.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var r=new jo;return e.annotations.points=ne.extendArray(e.annotations.points!==void 0?e.annotations.points:[],r.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var r=e;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),t}(),P3=function(){function t(){De(this,t)}return Re(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var r=this.globalVars(e);return this.initGlobalVars(r),r.initialConfig=ne.extend({},e),r.initialSeries=ne.clone(e.series),r.lastXAxis=ne.clone(r.initialConfig.xaxis),r.lastYAxis=ne.clone(r.initialConfig.yaxis),r}}]),t}(),Oke=function(){function t(e){De(this,t),this.opts=e}return Re(t,[{key:"init",value:function(){var e=new _d(this.opts).init({responsiveOverride:!1});return{config:e,globals:new P3().init(e)}}}]),t}(),oi=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Re(t,[{key:"clippedImgArea",value:function(e){var r=this.w,n=r.config,a=parseInt(r.globals.gridWidth,10),i=parseInt(r.globals.gridHeight,10),s=a>i?a:i,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(l=n.fill.image.width+1,c=n.fill.image.height):(l=s+1,c=s):(l=e.width,c=e.height);var u=document.createElementNS(r.globals.SVGNS,"pattern");ye.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var f=document.createElementNS(r.globals.SVGNS,"image");u.appendChild(f),f.setAttributeNS(window.SVG.xlink,"href",o),ye.setAttrs(f,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),f.style.opacity=e.opacity,r.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var r=this.w,n=r.config.chart.type;return(n==="bar"||n==="rangeBar")&&r.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,r){var n,a=this.w,i=null,s=null,o=If(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;l>=r.threshold?(i===null||l>i)&&(i=l):(s===null||l<s)&&(s=l)}}catch(f){o.e(f)}finally{o.f()}i===null&&(i=r.threshold),s===null&&(s=r.threshold);var c=i-r.threshold+(r.threshold-s);c===0&&(c=1);var u=100-(r.threshold-s)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:r.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:r.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var r,n,a,i=this.w;this.opts=e;var s,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,f=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(f=i.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:i}));var h,d,g,p=e.fillType?e.fillType:this.getFillType(this.seriesIndex),m=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,v=p==="gradient"||u;e.color&&(f=e.color),(r=i.config.series[this.seriesIndex])!==null&&r!==void 0&&(n=r.data)!==null&&n!==void 0&&(a=n[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(f=(h=i.config.series[this.seriesIndex])===null||h===void 0||(d=h.data)===null||d===void 0||(g=d[e.dataPointIndex])===null||g===void 0?void 0:g.fillColor),f||(f="#fff",console.warn("undefined color - ApexCharts"));var y=f;if(f.indexOf("rgb")===-1?f.indexOf("#")===-1?y=f:f.length<9&&(y=ne.hexToRgba(f,m)):f.indexOf("rgba")>-1?m=ne.getOpacityFromRGBA(f):y=ne.hexToRgba(ne.rgb2hex(f),m),e.opacity&&(m=e.opacity),p==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:f,fillOpacity:m,defaultColor:y})),v){var b=Mr(c.fill.gradient.colorStops)||[],S=c.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(i.globals.series[this.seriesIndex],c.plotOptions.line.colors),S="vertical"),l=this.handleGradientFill({type:S,fillConfig:e.fillConfig,fillColor:f,fillOpacity:m,colorStops:b,i:this.seriesIndex})}if(p==="image"){var w=c.fill.image.src,_=e.patternID?e.patternID:"",k="pattern".concat(i.globals.cuid).concat(e.seriesNumber+1).concat(_);this.patternIDs.indexOf(k)===-1&&(this.clippedImgArea({opacity:m,image:Array.isArray(w)?e.seriesNumber<w.length?w[e.seriesNumber]:w[0]:w,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:k}),this.patternIDs.push(k)),s="url(#".concat(k,")")}else s=v?l:p==="pattern"?o:y;return e.solid&&(s=y),s}},{key:"getFillType",value:function(e){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[e]:r.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,r=e.config,n=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):r.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),n.fillColors!==void 0&&(a=[],Array.isArray(n.fillColors)?a=n.fillColors.slice():a.push(n.fillColors)),a}},{key:"handlePatternFill",value:function(e){var r=e.fillConfig,n=e.patternFill,a=e.fillColor,i=e.fillOpacity,s=e.defaultColor,o=this.w.config.fill;r&&(o=r);var l=this.opts,c=new ye(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,f=a;return Array.isArray(o.pattern.style)?n=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,f,u,i):s:n=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,f,u,i),n}},{key:"handleGradientFill",value:function(e){var r=e.type,n=e.fillColor,a=e.fillOpacity,i=e.fillConfig,s=e.colorStops,o=e.i,l=this.w.config.fill;i&&(l=Ae(Ae({},l),i));var c=this.opts,u=new ye(this.ctx),f=new ne;r=r||l.gradient.type;var h,d=n,g=l.gradient.opacityFrom===void 0?a:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;d.indexOf("rgba")>-1&&(g=ne.getOpacityFromRGBA(d));var p=l.gradient.opacityTo===void 0?a:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)h=l.gradient.shade==="dark"?f.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?ne.rgb2hex(n):n):f.shadeColor(parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?ne.rgb2hex(n):n);else if(l.gradient.gradientToColors[c.seriesNumber]){var m=l.gradient.gradientToColors[c.seriesNumber];h=m,m.indexOf("rgba")>-1&&(p=ne.getOpacityFromRGBA(m))}else h=n;if(l.gradient.gradientFrom&&(d=l.gradient.gradientFrom),l.gradient.gradientTo&&(h=l.gradient.gradientTo),l.gradient.inverseColors){var v=d;d=h,h=v}return d.indexOf("rgb")>-1&&(d=ne.rgb2hex(d)),h.indexOf("rgb")>-1&&(h=ne.rgb2hex(h)),u.drawGradient(r,d,h,g,p,c.size,l.gradient.stops,s,o)}}]),t}(),Uu=function(){function t(e,r){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var r=0;r<=e.globals.series.length;r++)e.globals.markers.size[r]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var r=e.pointsPos,n=e.seriesIndex,a=e.j,i=e.pSize,s=e.alwaysDrawMarker,o=s!==void 0&&s,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,f=n,h=r,d=null,g=new ye(this.ctx),p=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(h.x))for(var m=0;m<h.x.length;m++){var v=void 0,y=a,b=!ne.isNumber(h.y[m]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[f][a+1]!==null&&!c&&(b=!0),a===1&&m===0&&(y=0),a===1&&m===1&&(y=1);var S="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(S+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[n]>0:u.config.markers.size>0)||o||p){b||(S+=" w".concat(ne.randomId()));var w=this.getMarkerConfig({cssClass:S,seriesIndex:n,dataPointIndex:y});u.config.series[f].data[y]&&(u.config.series[f].data[y].fillColor&&(w.pointFillColor=u.config.series[f].data[y].fillColor),u.config.series[f].data[y].strokeColor&&(w.pointStrokeColor=u.config.series[f].data[y].strokeColor)),i!==void 0&&(w.pSize=i),(h.x[m]<-u.globals.markers.largestSize||h.x[m]>u.globals.gridWidth+u.globals.markers.largestSize||h.y[m]<-u.globals.markers.largestSize||h.y[m]>u.globals.gridHeight+u.globals.markers.largestSize)&&(w.pSize=0),!b&&((u.globals.markers.size[n]>0||o||p)&&!d&&(d=g.group({class:o||p?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(v=g.drawMarker(h.x[m],h.y[m],w)).attr("rel",y),v.attr("j",y),v.attr("index",n),v.node.setAttribute("default-marker-size",w.pSize),new Zr(this.ctx).setSelectionFilter(v,n,y),this.addEvents(v),d&&d.add(v))}else u.globals.pointsArray[n]===void 0&&(u.globals.pointsArray[n]=[]),u.globals.pointsArray[n].push([h.x[m],h.y[m]])}return d}},{key:"getMarkerConfig",value:function(e){var r=e.cssClass,n=e.seriesIndex,a=e.dataPointIndex,i=a===void 0?null:a,s=e.radius,o=s===void 0?null:s,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,f=u===void 0?null:u,h=this.w,d=this.getMarkerStyle(n),g=c===null?h.globals.markers.size[n]:c,p=h.config.markers;return i!==null&&p.discrete.length&&p.discrete.map(function(m){m.seriesIndex===n&&m.dataPointIndex===i&&(d.pointStrokeColor=m.strokeColor,d.pointFillColor=m.fillColor,g=m.size,d.pointShape=m.shape)}),{pSize:o===null?g:o,pRadius:o!==null?o:p.radius,pointStrokeWidth:f!==null?f:Array.isArray(p.strokeWidth)?p.strokeWidth[n]:p.strokeWidth,pointStrokeColor:d.pointStrokeColor,pointFillColor:d.pointFillColor,shape:d.pointShape||(Array.isArray(p.shape)?p.shape[n]:p.shape),class:r,pointStrokeOpacity:Array.isArray(p.strokeOpacity)?p.strokeOpacity[n]:p.strokeOpacity,pointStrokeDashArray:Array.isArray(p.strokeDashArray)?p.strokeDashArray[n]:p.strokeDashArray,pointFillOpacity:Array.isArray(p.fillOpacity)?p.fillOpacity[n]:p.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var r=this.w,n=new ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",r.config.markers.onClick),e.node.addEventListener("dblclick",r.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var r=this.w,n=r.globals.markers.colors,a=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(n)?n[e]:n}}}]),t}(),I3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Re(t,[{key:"draw",value:function(e,r,n){var a=this.w,i=new ye(this.ctx),s=n.realIndex,o=n.pointsPos,l=n.zRatio,c=n.elParent,u=i.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(o.x))for(var f=0;f<o.x.length;f++){var h=r+1,d=!0;r===0&&f===0&&(h=0),r===0&&f===1&&(h=1);var g=a.globals.markers.size[s];if(l!==1/0){var p=a.config.plotOptions.bubble;g=a.globals.seriesZ[s][h],p.zScaling&&(g/=l),p.minBubbleRadius&&g<p.minBubbleRadius&&(g=p.minBubbleRadius),p.maxBubbleRadius&&g>p.maxBubbleRadius&&(g=p.maxBubbleRadius)}var m=o.x[f],v=o.y[f];if(g=g||0,v!==null&&a.globals.series[s][h]!==void 0||(d=!1),d){var y=this.drawPoint(m,v,g,s,h,r);u.add(y)}c.add(u)}}},{key:"drawPoint",value:function(e,r,n,a,i,s){var o=this.w,l=a,c=new Bu(this.ctx),u=new Zr(this.ctx),f=new oi(this.ctx),h=new Uu(this.ctx),d=new ye(this.ctx),g=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:i,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[a]&&o.config.series[a].type==="bubble"?n:null}),p=f.fillPath({seriesNumber:a,dataPointIndex:i,color:g.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[a][s]}),m=d.drawMarker(e,r,g);if(o.config.series[l].data[i]&&o.config.series[l].data[i].fillColor&&(p=o.config.series[l].data[i].fillColor),m.attr({fill:p}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;u.dropShadow(m,v,a)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;c.animateMarker(m,y,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(m)},100)})}return m.attr({rel:i,j:i,index:a,"default-marker-size":g.pSize}),u.setSelectionFilter(m,a,i),h.addEvents(m),m.node.classList.add("apexcharts-marker"),m}},{key:"centerTextInBubble",value:function(e){var r=this.w;return{y:e+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),t}(),hu=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"dataLabelsCorrection",value:function(e,r,n,a,i,s,o){var l=this.w,c=!1,u=new ye(this.ctx).getTextRects(n,o),f=u.width,h=u.height;r<0&&(r=0),r>l.globals.gridHeight+h&&(r=l.globals.gridHeight+h/2),l.globals.dataLabelsRects[a]===void 0&&(l.globals.dataLabelsRects[a]=[]),l.globals.dataLabelsRects[a].push({x:e,y:r,width:f,height:h});var d=l.globals.dataLabelsRects[a].length-2,g=l.globals.lastDrawnDataLabelsIndexes[a]!==void 0?l.globals.lastDrawnDataLabelsIndexes[a][l.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(l.globals.dataLabelsRects[a][d]!==void 0){var p=l.globals.dataLabelsRects[a][g];(e>p.x+p.width||r>p.y+p.height||r+h<p.y||e+f<p.x)&&(c=!0)}return(i===0||s)&&(c=!0),{x:e,y:r,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var r=this,n=e.type,a=e.pos,i=e.i,s=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,f=new ye(this.ctx),h=u.config.dataLabels,d=0,g=0,p=s,m=null;if(u.globals.collapsedSeriesIndices.indexOf(i)!==-1||!h.enabled||!Array.isArray(a.x))return m;m=f.group({class:"apexcharts-data-labels"});for(var v=0;v<a.x.length;v++)if(d=a.x[v]+h.offsetX,g=a.y[v]+h.offsetY+c,!isNaN(d)){s===1&&v===0&&(p=0),s===1&&v===1&&(p=1);var y=u.globals.series[i][p];n==="rangeArea"&&(y=o?u.globals.seriesRangeStart[i][p]:u.globals.seriesRangeEnd[i][p]);var b="",S=function(_){return u.config.dataLabels.formatter(_,{ctx:r.ctx,seriesIndex:i,dataPointIndex:p,w:u})};u.config.chart.type==="bubble"?(b=S(y=u.globals.seriesZ[i][p]),g=a.y[v],g=new I3(this.ctx).centerTextInBubble(g,i,p).y):y!==void 0&&(b=S(y));var w=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(w=p===0?"end":p===u.config.series[i].data.length-1?"start":"middle"),this.plotDataLabelsText({x:d,y:g,text:b,i,j:p,parent:m,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:w})}return m}},{key:"plotDataLabelsText",value:function(e){var r=this.w,n=new ye(this.ctx),a=e.x,i=e.y,s=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,f=e.parent,h=e.dataLabelsConfig,d=e.color,g=e.alwaysDrawDataLabel,p=e.offsetCorrection,m=e.className,v=null;if(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(s)<0)return v;var y={x:a,y:i,drawnextLabel:!0,textRects:null};p&&(y=this.dataLabelsCorrection(a,i,l,s,o,g,parseInt(h.style.fontSize,10))),r.globals.zoomed||(a=y.x,i=y.y),y.textRects&&(a<-20-y.textRects.width||a>r.globals.gridWidth+y.textRects.width+30)&&(l="");var b=r.globals.dataLabels.style.colors[s];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(b=r.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:r.globals.series,seriesIndex:s,dataPointIndex:o,w:r})),d&&(b=d);var S=h.offsetX,w=h.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(S=0,w=0),r.globals.isSlopeChart&&(o!==0&&(S=-2*h.offsetX+5),o!==0&&o!==r.config.series[s].data.length-1&&(S=0)),y.drawnextLabel){if(c==="middle"&&a===r.globals.gridWidth&&(c="end"),(v=n.drawText({width:100,height:parseInt(h.style.fontSize,10),x:a+S,y:i+w,foreColor:b,textAnchor:c||h.textAnchor,text:l,fontSize:u||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"})).attr({class:m||"apexcharts-datalabel",cx:a,cy:i}),h.dropShadow.enabled){var _=h.dropShadow;new Zr(this.ctx).dropShadow(v,_)}f.add(v),r.globals.lastDrawnDataLabelsIndexes[s]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[s]=[]),r.globals.lastDrawnDataLabelsIndexes[s].push(o)}return v}},{key:"addBackgroundToDataLabel",value:function(e,r){var n=this.w,a=n.config.dataLabels.background,i=a.padding,s=a.padding/2,o=r.width,l=r.height,c=new ye(this.ctx).drawRect(r.x-i,r.y-s/2,o+2*i,l+s,a.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new Zr(this.ctx).dropShadow(c,a.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<r.length;n++){var a=r[n],i=a.getBBox(),s=null;if(i.width&&i.height&&(s=this.addBackgroundToDataLabel(a,i)),s){a.parentNode.insertBefore(s.node,a);var o=e.config.dataLabels.background.backgroundColor||a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?s.animate().attr({fill:o}):s.attr({fill:o}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<r.length;a++)n&&n.insertBefore(r[a],n.nextSibling)}}]),t}(),N3=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Ia=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Re(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ne.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var r=this.getSeriesByName(e),n=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,r){var n=this.w;function a(i){for(var s=0;s<i.length;s++)i[s].index===r&&e.node.classList.add("apexcharts-series-collapsed")}a(n.globals.collapsedSeries),a(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var r=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(e){var r=this.isSeriesHidden(e);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,i=ne.clone(a.globals.initialSeries);a.globals.previousPaths=[],n?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):i=this.emptyCollapsedSeries(i),a.config.series=i,e&&(r&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var r=this.w,n=0;n<e.length;n++)r.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var r=this.w,n=this.getSeriesByName(e),a=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),i=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),s=null,o=null,l=null;if(r.globals.axisCharts||r.config.chart.type==="radialBar")if(r.globals.axisCharts){s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),o=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var c=r.globals.seriesYAxisReverseMap[a];l=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<i.length;u++)i[u].classList.add(this.legendInactiveClass);if(s)r.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var f=0;f<i.length;f++)i[f].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,r){var n=this.w;r||(r=e.target);var a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var i=parseInt(r.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[i])}else if(e.type==="mouseout")for(var s=0;s<a.length;s++)a[s].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,r){var n=this,a=this.w,i=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(c){for(var u=0;u<i.length;u++)i[u].classList[c](n.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(r.getAttribute("rel"),10)-1;s("add");var l=a.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var f=0;f<i.length;f++){var h=Number(i[f].getAttribute("val"));h>=c.from&&(h<c.to||c.to===u&&h===u)&&i[f].classList.remove(n.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,a=0;if(n.config.series.length>1){for(var i=n.config.series.map(function(o,l){return o.data&&o.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!n.globals.comboCharts||r.length===0||r.length&&r.indexOf(n.config.series[l].type)>-1)?l:-1}),s=e==="asc"?0:i.length-1;e==="asc"?s<i.length:s>=0;e==="asc"?s++:s--)if(i[s]!==-1){a=i[s];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,r){return e.type==="bar"||e.type==="column"?r:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,r){return r})}},{key:"getPreviousPaths",value:function(){var e=this.w;function r(s,o,l){for(var c=s[o].childNodes,u={type:l,paths:[],realIndex:s[o].getAttribute("data:realIndex")},f=0;f<c.length;f++)if(c[f].hasAttribute("pathTo")){var h=c[f].getAttribute("pathTo");u.paths.push({d:h})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(s){for(var o,l=(o=s,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)r(l,c,s)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var a=function(s){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(s,"'] rect")),l=[],c=function(f){var h=function(g){return o[f].getAttribute(g)},d={x:parseFloat(h("x")),y:parseFloat(h("y")),width:parseFloat(h("width")),height:parseFloat(h("height"))};l.push({rect:d,color:o[f].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},i=0;i<n.length;i++)a(i);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,r=e.config.noData,n=new ye(this.ctx),a=e.globals.svgWidth/2,i=e.globals.svgHeight/2,s="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,r.align==="left"?(a=10,s="start"):r.align==="right"&&(a=e.globals.svgWidth-10,s="end"),r.verticalAlign==="top"?i=50:r.verticalAlign==="bottom"&&(i=e.globals.svgHeight-50),a+=r.offsetX,i=i+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var o=n.drawText({x:a,y:i,text:r.text,textAnchor:s,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var r=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var a=0;a<e[r.globals.maxValsInArrayIndex].length;a++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,r=this.w,n=this.filteredSeriesX(),a=0;a<n.length-1;a++)if(n[a][0]!==n[a+1][0]){e=!1;break}return r.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return e}}]),t}(),Hk=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new dr(this.ctx)}return Re(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),r=new Ia(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),r=new Ia(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,r){for(var n=this.w.config,a=this.w.globals,i=n.chart.type==="boxPlot"||n.series[r].type==="boxPlot",s=0;s<e[r].data.length;s++)if(e[r].data[s][1]!==void 0&&(Array.isArray(e[r].data[s][1])&&e[r].data[s][1].length===4&&!i?this.twoDSeries.push(ne.parseNumber(e[r].data[s][1][3])):e[r].data[s].length>=5?this.twoDSeries.push(ne.parseNumber(e[r].data[s][4])):this.twoDSeries.push(ne.parseNumber(e[r].data[s][1])),a.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var o=new Date(e[r].data[s][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[r].data[s][0]);for(var l=0;l<e[r].data.length;l++)e[r].data[l][2]!==void 0&&(this.threeDSeries.push(e[r].data[l][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,r){var n=this.w.config,a=this.w.globals,i=new qr(this.ctx),s=r;a.collapsedSeriesIndices.indexOf(r)>-1&&(s=this.activeSeriesIndex);for(var o=0;o<e[r].data.length;o++)e[r].data[o].y!==void 0&&(Array.isArray(e[r].data[o].y)?this.twoDSeries.push(ne.parseNumber(e[r].data[o].y[e[r].data[o].y.length-1])):this.twoDSeries.push(ne.parseNumber(e[r].data[o].y))),e[r].data[o].goals!==void 0&&Array.isArray(e[r].data[o].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(e[r].data[o].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var l=0;l<e[s].data.length;l++){var c=typeof e[s].data[l].x=="string",u=Array.isArray(e[s].data[l].x),f=!u&&!!i.isValidDate(e[s].data[l].x);if(c||f)if(c||n.xaxis.convertedCatToNumeric){var h=a.isBarHorizontal&&a.isRangeData;n.xaxis.type!=="datetime"||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[l].x),isNaN(e[s].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[s].data[l].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(i.parseDate(e[s].data[l].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(i.parseDate(e[s].data[l].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[s].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[l].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[s].data[l].x))}if(e[r].data[0]&&e[r].data[0].z!==void 0){for(var d=0;d<e[r].data.length;d++)this.threeDSeries.push(e[r].data[d].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,r){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,r)),n.seriesRangeStart[r]=a.start===void 0?[]:a.start,n.seriesRangeEnd[r]=a.end===void 0?[]:a.end,n.seriesRange[r]=a.rangeUniques,n.seriesRange.forEach(function(i,s){i&&i.forEach(function(o,l){o.y.forEach(function(c,u){for(var f=0;f<o.y.length;f++)if(u!==f){var h=c.y1,d=c.y2,g=o.y[f].y1;h<=o.y[f].y2&&g<=d&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[f].rangeName)<0&&o.overlaps.push(o.y[f].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,r){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,r):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,r)),n.seriesCandleO[r]=a.o,n.seriesCandleH[r]=a.h,n.seriesCandleM[r]=a.m,n.seriesCandleL[r]=a.l,n.seriesCandleC[r]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,r,n){var a=[],i=[],s=r[n].data.filter(function(u,f,h){return f===h.findIndex(function(d){return d.x===u.x})}).map(function(u,f){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<r[n].data.length;o++)Array.isArray(r[n].data[o])?(a.push(r[n].data[o][1][0]),i.push(r[n].data[o][1][1])):(a.push(r[n].data[o]),i.push(r[n].data[o]));else if(e==="xy")for(var l=function(u){var f=Array.isArray(r[n].data[u].y),h=ne.randomId(),d=r[n].data[u].x,g={y1:f?r[n].data[u].y[0]:r[n].data[u].y,y2:f?r[n].data[u].y[1]:r[n].data[u].y,rangeName:h};r[n].data[u].rangeName=h;var p=s.findIndex(function(m){return m.x===d});s[p].y.push(g),a.push(g.y1),i.push(g.y2)},c=0;c<r[n].data.length;c++)l(c);return{start:a,end:i,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(e,r,n){var a=this.w,i=a.config.chart.type==="boxPlot"||a.config.series[n].type==="boxPlot",s=[],o=[],l=[],c=[],u=[];if(e==="array")if(i&&r[n].data[0].length===6||!i&&r[n].data[0].length===5)for(var f=0;f<r[n].data.length;f++)s.push(r[n].data[f][1]),o.push(r[n].data[f][2]),i?(l.push(r[n].data[f][3]),c.push(r[n].data[f][4]),u.push(r[n].data[f][5])):(c.push(r[n].data[f][3]),u.push(r[n].data[f][4]));else for(var h=0;h<r[n].data.length;h++)Array.isArray(r[n].data[h][1])&&(s.push(r[n].data[h][1][0]),o.push(r[n].data[h][1][1]),i?(l.push(r[n].data[h][1][2]),c.push(r[n].data[h][1][3]),u.push(r[n].data[h][1][4])):(c.push(r[n].data[h][1][2]),u.push(r[n].data[h][1][3])));else if(e==="xy")for(var d=0;d<r[n].data.length;d++)Array.isArray(r[n].data[d].y)&&(s.push(r[n].data[d].y[0]),o.push(r[n].data[d].y[1]),i?(l.push(r[n].data[d].y[2]),c.push(r[n].data[d].y[3]),u.push(r[n].data[d].y[4])):(c.push(r[n].data[d].y[2]),u.push(r[n].data[d].y[3])));return{o:s,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,i=this.w.globals,s=new qr(n),o=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();i.isRangeBar=a.chart.type==="rangeBar"&&i.isBarHorizontal,i.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,i.hasXaxisGroups&&(i.groups=a.xaxis.group.groups),e.forEach(function(d,g){d.name!==void 0?i.seriesNames.push(d.name):i.seriesNames.push("series-"+parseInt(g+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Mr(new Set(a.series.map(function(d){return d.group})));a.series.forEach(function(d,g){var p=c.indexOf(d.group);l[p]||(l[p]=[]),l[p].push(i.seriesNames[g])}),i.seriesGroups=l;for(var u=function(){for(var d=0;d<o.length;d++)if(typeof o[d]=="string"){if(!s.isValidDate(o[d]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");r.twoDSeriesX.push(s.parseDate(o[d]))}else r.twoDSeriesX.push(o[d])},f=0;f<e.length;f++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[f].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[f].type!=="rangeBar"&&e[f].type!=="rangeArea"||(i.isRangeData=!0,this.handleRangeData(e,f)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,f):this.isFormatXY()&&this.handleFormatXY(e,f),a.chart.type!=="candlestick"&&e[f].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[f].type!=="boxPlot"||this.handleCandleStickBoxData(e,f),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),i.seriesGoals=this.seriesGoals,f!==this.activeSeriesIndex||this.fallbackToCategory||(i.isXNumeric=!0);else{a.xaxis.type==="datetime"?(i.isXNumeric=!0,u(),i.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(i.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,i.seriesX.push(this.twoDSeriesX))),i.labels.push(this.twoDSeriesX);var h=e[f].data.map(function(d){return ne.parseNumber(d)});i.series.push(h)}i.seriesZ.push(this.threeDSeries),e[f].color!==void 0?i.seriesColors.push(e[f].color):i.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var r=this.w.globals,n=this.w.config,a=Array.isArray(e)&&e.every(function(u){return typeof u=="number"})&&n.labels.length>0,i=Array.isArray(e)&&e.some(function(u){return u&&Sn(u)==="object"&&u.data||u&&Sn(u)==="object"&&u.parsing});if(a&&i&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),a){r.series=e.slice(),r.seriesNames=n.labels.slice();for(var s=0;s<r.series.length;s++)r.seriesNames[s]===void 0&&r.seriesNames.push("series-"+(s+1));return this.w}if(Array.isArray(e)&&e.every(function(u){return typeof u=="number"})){r.series=e.slice(),r.seriesNames=[];for(var o=0;o<r.series.length;o++)r.seriesNames.push(n.labels[o]||"series-".concat(o+1));return this.w}var l=this.extractPieDataFromSeries(e);r.series=l.values,r.seriesNames=l.labels,n.chart.type==="radialBar"&&(r.series=r.series.map(function(u){var f=ne.parseNumber(u);return f>100&&console.warn("ApexCharts: RadialBar value ".concat(f," > 100, consider using percentage values (0-100)")),f}));for(var c=0;c<r.series.length;c++)r.seriesNames[c]===void 0&&r.seriesNames.push("series-"+(c+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(r){r.__apexParsed&&delete r.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var r=[],n=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var a=e[0];return Sn(a)==="object"&&a!==null&&a.data?(this.extractPieDataFromSeriesObjects(e,r,n),{values:r,labels:n}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,r,n){e.forEach(function(a,i){a.data&&Array.isArray(a.data)?a.data.forEach(function(s){Sn(s)==="object"&&s!==null?s.x!==void 0&&s.y!==void 0?(n.push(String(s.x)),r.push(ne.parseNumber(s.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",s):console.warn("ApexCharts: Expected object data point, got:",Sn(s))}):console.warn("ApexCharts: Series ".concat(i," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(e){var r=this.w.config,n=this.w.globals;r.xaxis.categories.length>0?n.labels=r.xaxis.categories:r.labels.length>0?n.labels=r.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(a){a.forEach(function(i){n.labels.indexOf(i.x)<0&&i.x&&n.labels.push(i.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),r.xaxis.convertedCatToNumeric&&(new Sd(r).convertCatToNumericXaxis(r,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var r=this.w.globals,n=this.w.config,a=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var i=n.series.map(function(f,h){return f.data.filter(function(d,g,p){return p.findIndex(function(m){return m.x===d.x})===g})}),s=i.reduce(function(f,h,d,g){return g[f].length>h.length?f:d},0),o=0;o<i[s].length;o++)a.push(o+1);else for(var l=0;l<r.series[r.maxValsInArrayIndex].length;l++)a.push(l+1);r.seriesX=[];for(var c=0;c<e.length;c++)r.seriesX.push(a);this.w.globals.isBarHorizontal||(r.isXNumeric=!0)}if(a.length===0){a=r.axisCharts?[]:r.series.map(function(f,h){return h+1});for(var u=0;u<e.length;u++)r.seriesX.push(a)}r.labels=a,n.xaxis.convertedCatToNumeric&&(r.categoryLabels=a.map(function(f){return n.xaxis.labels.formatter(f)})),r.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var r=this,n=this.w.config,a=this.w.globals,i=n.parsing;if(a.dataWasParsed||!i&&!e.some(function(o){return o.parsing}))return e;var s=e.map(function(o,l){var c,u,f;if(!o.data||!Array.isArray(o.data)||o.data.length===0)return o;var h={x:((c=o.parsing)===null||c===void 0?void 0:c.x)||(i==null?void 0:i.x),y:((u=o.parsing)===null||u===void 0?void 0:u.y)||(i==null?void 0:i.y),z:((f=o.parsing)===null||f===void 0?void 0:f.z)||(i==null?void 0:i.z)};if(!h.x&&!h.y)return o;var d=o.data[0];if(Sn(d)==="object"&&d!==null&&(d.hasOwnProperty("x")||d.hasOwnProperty("y"))||Array.isArray(d))return o;if(!h.x||!h.y||Array.isArray(h.y)&&h.y.length===0)return console.warn("ApexCharts: Series ".concat(l," has parsing config but missing x or y field specification")),o;var g=o.data.map(function(p,m){if(Sn(p)!=="object"||p===null)return console.warn("ApexCharts: Series ".concat(l,", data point ").concat(m," is not an object, skipping parsing")),p;var v,y=r.getNestedValue(p,h.x),b=void 0;if(Array.isArray(h.y)){var S=h.y.map(function(k){return r.getNestedValue(p,k)});v=r.w.config.chart.type==="bubble"&&S.length===2?S[0]:S}else v=r.getNestedValue(p,h.y);h.z&&(b=r.getNestedValue(p,h.z)),y===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(m," missing field '").concat(h.x,"'")),v===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(m," missing field '").concat(h.y,"'"));var w={x:y,y:v};if(r.w.config.chart.type==="bubble"&&Array.isArray(h.y)&&h.y.length===2){var _=r.getNestedValue(p,h.y[1]);_!==void 0&&(w.z=_)}return b!==void 0&&(w.z=b),w});return Ae(Ae({},o),{},{data:g,__apexParsed:!0})});return a.dataWasParsed=!0,a.originalSeries||(a.originalSeries=ne.clone(e)),s}},{key:"getNestedValue",value:function(e,r){if(e&&Sn(e)==="object"&&r){if(r.indexOf(".")===-1)return e[r];for(var n=r.split("."),a=e,i=0;i<n.length;i++){if(a==null||Sn(a)!=="object")return;a=a[n[i]]}return a}}},{key:"parseData",value:function(e){var r=this.w,n=r.config,a=r.globals;if(e=this.parseRawDataIfNeeded(e),n.series=e,a.initialSeries=ne.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var i=new Ia(this.ctx);a.series=i.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var s=this.coreUtils.getCategoryLabels(a.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,r=[];e.globals.seriesYAxisMap.forEach(function(n,a){var i=0;n.forEach(function(s){e.globals.collapsedSeriesIndices.indexOf(s)!==-1&&i++}),i>0&&i==n.length&&r.push(a)}),e.globals.ignoreYAxisIndexes=r.map(function(n){return n})}}]),t}(),ah=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,r){var n=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*r),e.setAttributeNS(null,"height",a*r),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+a)}},{key:"getSvgString",value:function(e){var r=this;return new Promise(function(n){var a=r.w,i=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;i||(i=1);var s=a.globals.svgWidth*i,o=a.globals.svgHeight*i,l=a.globals.dom.elWrap.cloneNode(!0);l.style.width=s+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),u=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;a.config.legend.show&&a.globals.dom.elLegendWrap&&a.globals.dom.elLegendWrap.children.length>0&&(u+=N3);var f=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(s,"px; height:").concat(o,`px;">
            <style type="text/css">
              `).concat(u,`
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),h=r.svgStringToNode(f);i!==1&&r.scaleSvgNode(h,i),r.convertImagesToBase64(h).then(function(){f=new XMLSerializer().serializeToString(h),n(f.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var r=this,n=e.getElementsByTagName("image"),a=Array.from(n).map(function(i){var s=i.getAttributeNS("http://www.w3.org/1999/xlink","href");return s&&!s.startsWith("data:")?r.getBase64FromUrl(s).then(function(o){i.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(r,n){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),r(i.toDataURL())},a.onerror=n,a.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(r){e.getSvgString().then(function(n){var a=new Blob([n],{type:"image/svg+xml;charset=utf-8"});r(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var r=this;return new Promise(function(n){var a=r.w,i=e?e.scale||e.width/a.globals.svgWidth:1,s=document.createElement("canvas");s.width=a.globals.svgWidth*i,s.height=parseInt(a.globals.dom.elWrap.style.height,10)*i;var o=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",l=s.getContext("2d");l.fillStyle=o,l.fillRect(0,0,s.width*i,s.height*i),r.getSvgString(i).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(l.drawImage(f,0,0),s.msToBlob){var h=s.msToBlob();n({blob:h})}else{var d=s.toDataURL("image/png");n({imgURI:d})}},f.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(r){e.triggerDownload(r,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,r=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,a=r?{scale:r}:n?{width:n}:void 0;this.dataURI(a).then(function(i){var s=i.imgURI,o=i.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(s,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var r=this,n=e.series,a=e.fileName,i=e.columnDelimiter,s=i===void 0?",":i,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;n||(n=c.config.series);var u=[],f=[],h="",d=c.globals.series.map(function(w,_){return c.globals.collapsedSeriesIndices.indexOf(_)===-1?w:[]}),g=function(w){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(w):c.config.xaxis.type==="datetime"&&String(w).length>=10?new Date(w).toDateString():ne.isNumber(w)?w:w.split(s).join("")},p=function(w){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(w):w},m=Math.max.apply(Math,Mr(n.map(function(w){return w.data?w.data.length:0}))),v=new Hk(this.ctx),y=new ao(this.ctx),b=function(w){var _="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var k=c.globals.yLabelFormatters[0],A=new Ia(r.ctx).getActiveConfigSeriesIndex();_=k(c.globals.labels[w],{seriesIndex:A,dataPointIndex:w,w:c})}else _=y.getLabel(c.globals.labels,c.globals.timescaleLabels,0,w).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?_=c.config.xaxis.categories[w]:c.config.labels.length&&(_=c.config.labels[w]))}else _=c.config.labels[w];return _===null?"nullvalue":(Array.isArray(_)&&(_=_.join(" ")),ne.isNumber(_)?_:_.split(s).join(""))},S=function(w,_){if(u.length&&_===0&&f.push(u.join(s)),w.data){w.data=w.data.length&&w.data||Mr(Array(m)).map(function(){return""});for(var k=0;k<w.data.length;k++){u=[];var A=b(k);if(A!=="nullvalue"){if(A||(v.isFormatXY()?A=n[_].data[k].x:v.isFormat2DArray()&&(A=n[_].data[k]?n[_].data[k][0]:"")),_===0){u.push(g(A));for(var E=0;E<c.globals.series.length;E++){var C,T=v.isFormatXY()?(C=n[E].data[k])===null||C===void 0?void 0:C.y:d[E][k];u.push(p(T))}}(c.config.chart.type==="candlestick"||w.type&&w.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[_][k]),u.push(c.globals.seriesCandleH[_][k]),u.push(c.globals.seriesCandleL[_][k]),u.push(c.globals.seriesCandleC[_][k])),(c.config.chart.type==="boxPlot"||w.type&&w.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[_][k]),u.push(c.globals.seriesCandleH[_][k]),u.push(c.globals.seriesCandleM[_][k]),u.push(c.globals.seriesCandleL[_][k]),u.push(c.globals.seriesCandleC[_][k])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[_][k]),u.push(c.globals.seriesRangeEnd[_][k])),u.length&&f.push(u.join(s))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):n.map(function(w,_){var k=(w.name?w.name:"series-".concat(_))+"";c.globals.axisCharts&&u.push(k.split(s).join("")?k.split(s).join(""):"series-".concat(_))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),f.push(u.join(s))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?n.map(function(w,_){c.globals.axisCharts?S(w,_):((u=[]).push(g(c.globals.labels[_])),u.push(p(d[_])),f.push(u.join(s)))}):function(){var w=new Set,_={};n.forEach(function(k,A){k==null||k.data.forEach(function(E){var C,T;if(v.isFormatXY())C=E.x,T=E.y;else{if(!v.isFormat2DArray())return;C=E[0],T=E[1]}_[C]||(_[C]=Array(n.length).fill("")),_[C][A]=p(T),w.add(C)})}),u.length&&f.push(u.join(s)),Array.from(w).sort().forEach(function(k){f.push([g(k),_[k].join(s)])})}(),h+=f.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+h),a||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,r,n){var a=document.createElement("a");a.href=e,a.download=(r||this.w.globals.chartID)+n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),t}(),kd=function(){function t(e,r){De(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.axesUtils=new ao(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Re(t,[{key:"drawXaxis",value:function(){var e=this.w,r=new ye(this.ctx),n=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(a);for(var i=[],s=0;s<this.xaxisLabels.length;s++)i.push(this.xaxisLabels[s]);if(this.drawXAxisLabelAndGroup(!0,r,a,i,e.globals.isXNumeric,function(g,p){return p}),e.globals.hasXaxisGroups){var o=e.globals.groups;i=[];for(var l=0;l<o.length;l++)i.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,a,i,!1,function(g,p){return o[g].cols*p},c)}if(e.config.xaxis.title.text!==void 0){var u=r.group({class:"apexcharts-xaxis-title"}),f=r.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(f),n.add(u)}if(e.config.xaxis.axisBorder.show){var h=e.globals.barPadForNumericAxis,d=r.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(d):n.add(d)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,r,n,a,i,s){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],f=[],h=this.w,d=c.xaxisFontSize||this.xaxisFontSize,g=c.xaxisFontFamily||this.xaxisFontFamily,p=c.xaxisForeColors||this.xaxisForeColors,m=c.fontWeight||h.config.xaxis.labels.style.fontWeight,v=c.cssClass||h.config.xaxis.labels.style.cssClass,y=h.globals.padHorizontal,b=a.length,S=h.config.xaxis.type==="category"?h.globals.dataPoints:b;if(S===0&&b>S&&(S=b),i){var w=Math.max(Number(h.config.xaxis.tickAmount)||1,S>1?S-1:S);o=h.globals.gridWidth/Math.min(w,b-1),y=y+s(0,o)/2+h.config.xaxis.labels.offsetX}else o=h.globals.gridWidth/S,y=y+s(0,o)+h.config.xaxis.labels.offsetX;for(var _=function(A){var E=y-s(A,o)/2+h.config.xaxis.labels.offsetX;A===0&&b===1&&o/2===y&&S===1&&(E=h.globals.gridWidth/2);var C=l.axesUtils.getLabel(a,h.globals.timescaleLabels,E,A,u,d,e),T=28;if(h.globals.rotateXLabels&&e&&(T=22),h.config.xaxis.title.text&&h.config.xaxis.position==="top"&&(T+=parseFloat(h.config.xaxis.title.style.fontSize)+2),e||(T=T+parseFloat(d)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),C=h.config.xaxis.tickAmount!==void 0&&h.config.xaxis.tickAmount!=="dataPoints"&&h.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(A,C,b):l.axesUtils.checkForOverflowingLabels(A,C,b,u,f),h.config.xaxis.labels.show){var O=r.drawText({x:C.x,y:l.offY+h.config.xaxis.labels.offsetY+T-(h.config.xaxis.position==="top"?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:C.text,textAnchor:"middle",fontWeight:C.isBold?600:m,fontSize:d,fontFamily:g,foreColor:Array.isArray(p)?e&&h.config.xaxis.convertedCatToNumeric?p[h.globals.minX+A-1]:p[A]:p,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+v});if(n.add(O),O.on("click",function(z){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var W=Object.assign({},h,{labelIndex:A});h.config.chart.events.xAxisLabelClick(z,l.ctx,W)}}),e){var N=document.createElementNS(h.globals.SVGNS,"title");N.textContent=Array.isArray(C.text)?C.text.join(" "):C.text,O.node.appendChild(N),C.text!==""&&(u.push(C.text),f.push(C))}}A<b-1&&(y+=s(A+1,o))},k=0;k<=b-1;k++)_(k)}},{key:"drawXaxisInversed",value:function(e){var r,n,a=this,i=this.w,s=new ye(this.ctx),o=i.config.yaxis[0].opposite?i.globals.translateYAxisX[e]:0,l=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(i.config.yaxis[e].show)for(var f=0;f<this.xaxisLabels.length;f++)u.push(this.xaxisLabels[f]);r=i.globals.gridHeight/u.length,n=-r/2.2;var h=i.globals.yLabelFormatters[0],d=i.config.yaxis[0].labels;if(d.show)for(var g=function(w){var _=u[w]===void 0?"":u[w];_=h(_,{seriesIndex:e,dataPointIndex:w,w:i});var k=a.axesUtils.getYAxisForeColor(d.style.colors,e),A=0;Array.isArray(_)&&(A=_.length/2*parseInt(d.style.fontSize,10));var E=d.offsetX-15,C="end";a.yaxis.opposite&&(C="start"),i.config.yaxis[0].labels.align==="left"?(E=d.offsetX,C="start"):i.config.yaxis[0].labels.align==="center"?(E=d.offsetX,C="middle"):i.config.yaxis[0].labels.align==="right"&&(C="end");var T=s.drawText({x:E,y:n+r+d.offsetY-A,text:_,textAnchor:C,foreColor:Array.isArray(k)?k[w]:k,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.style.cssClass,maxWidth:d.maxWidth});c.add(T),T.on("click",function(z){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var W=Object.assign({},i,{labelIndex:w});i.config.chart.events.xAxisLabelClick(z,a.ctx,W)}});var O=document.createElementNS(i.globals.SVGNS,"title");if(O.textContent=Array.isArray(_)?_.join(" "):_,T.node.appendChild(O),i.config.yaxis[e].labels.rotate!==0){var N=s.rotateAroundCenter(T.node);T.node.setAttribute("transform","rotate(".concat(i.config.yaxis[e].labels.rotate," 0 ").concat(N.y,")"))}n+=r},p=0;p<=u.length-1;p++)g(p);if(i.config.yaxis[0].title.text!==void 0){var m=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),v=s.drawText({x:i.config.yaxis[0].title.offsetX,y:i.globals.gridHeight/2+i.config.yaxis[0].title.offsetY,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});m.add(v),l.add(m)}var y=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(y=i.globals.gridWidth);var b=i.config.xaxis.axisBorder;if(b.show){var S=s.drawLine(i.globals.padHorizontal+b.offsetX+y,1+b.offsetY,i.globals.padHorizontal+b.offsetX+y,i.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(S):l.add(S)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,u.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,r,l),l}},{key:"drawXaxisTicks",value:function(e,r,n){var a=this.w,i=e;if(!(e<0||e-2>a.globals.gridWidth)){var s=this.offY+a.config.xaxis.axisTicks.offsetY;if(r=r+s+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(r=s-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var o=new ye(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,s+a.config.xaxis.offsetY,i+a.config.xaxis.axisTicks.offsetX,r+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,r=[],n=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var i=0;i<n;i++)a=this.xaxisLabels[i].position,r.push(a);else for(var s=n,o=0;o<s;o++){var l=s;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),a+=e.globals.gridWidth/l,r.push(a)}return r}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,r=new ye(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<a.length;o++){var l=r.rotateAroundCenter(a[o]);l.y=l.y-1,l.x=l.x+1,a[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),a[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var c=a[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(d){r.placeTextWithEllipsis(d,d.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var d=e.globals.gridWidth/(e.globals.labels.length+1),g=0;g<a.length;g++){var p=a[g].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(p,function(m){r.placeTextWithEllipsis(m,m.textContent,d)})}})();if(i.length>0){var u=i[i.length-1].getBBox(),f=i[0].getBBox();u.x<-20&&i[i.length-1].parentNode.removeChild(i[i.length-1]),f.x+f.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&i[0].parentNode.removeChild(i[0]);for(var h=0;h<s.length;h++)r.placeTextWithEllipsis(s[h],s[h].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),F3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new ao(e),this.isRangeBar=r.globals.seriesRange.length&&r.globals.isBarHorizontal,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return Re(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,n=new ye(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var a=n.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),i=n.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return e.add(i),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,r=e.globals,n=new ye(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Mr(e.config.stroke.width)):e.config.stroke.width,i=function(u){var f=document.createElementNS(r.SVGNS,"clipPath");return f.setAttribute("id",u),f};r.dom.elGridRectMask=i("gridRectMask".concat(r.cuid)),r.dom.elGridRectBarMask=i("gridRectBarMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=i("gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=i("forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=i("nonForecastMask".concat(r.cuid));var s=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(s=Math.max(e.config.grid.padding.left,r.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,r.barPadForNumericAxis)),r.dom.elGridRect=n.drawRect(-a/2-2,-a/2-2,r.gridWidth+a+4,r.gridHeight+a+4,0,"#fff"),r.dom.elGridRectBar=n.drawRect(-a/2-s-2,-a/2-2,r.gridWidth+a+o+s+4,r.gridHeight+a+4,0,"#fff");var l=e.globals.markers.largestSize;r.dom.elGridRectMarker=n.drawRect(Math.min(-a/2-s-2,-l),-l,r.gridWidth+Math.max(a+o+s+4,2*l),r.gridHeight+2*l,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectBarMask.appendChild(r.dom.elGridRectBar.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var c=r.dom.baseEl.querySelector("defs");c.appendChild(r.dom.elGridRectMask),c.appendChild(r.dom.elGridRectBarMask),c.appendChild(r.dom.elGridRectMarkerMask),c.appendChild(r.dom.elForecastMask),c.appendChild(r.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var r=e.i,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(r===0&&c.globals.skipFirstTimelinelabel||r===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:n,y1:a,x2:i,y2:s,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var f=c.globals.groups;if(f){for(var h=0,d=0;h<r&&d<f.length;d++)h+=f[d].cols;h===r&&(u=.6*c.globals.xAxisLabelsHeight)}}new kd(this.ctx).drawXaxisTicks(n,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var r=e.i,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),f=c.globals.barPadForNumericAxis,h=a===0&&s===0||n===0&&i===0||a===c.globals.gridHeight&&s===c.globals.gridHeight||c.globals.isBarHorizontal&&(r===0||r===o-1),d=new ye(this).drawLine(n-(u?f:0),a,i+(u?f:0),s,c.config.grid.borderColor,c.config.grid.strokeDashArray);d.node.classList.add("apexcharts-gridline"),h&&c.config.grid.show?this.elGridBorders.add(d):l.add(d)}},{key:"_drawGridBandRect",value:function(e){var r=e.c,n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.type,l=this.w,c=new ye(this.ctx),u=l.globals.barPadForNumericAxis,f=l.config.grid[o].colors[r],h=c.drawRect(n-(o==="row"?u:0),a,i+(o==="row"?2*u:0),s,0,f,l.config.grid[o].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var r=this,n=e.xCount,a=e.tickAmount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show){var s,o=i.globals.padHorizontal,l=i.globals.gridHeight;i.globals.timescaleLabels.length?function(g){for(var p=g.xC,m=g.x1,v=g.y1,y=g.x2,b=g.y2,S=0;S<p;S++)m=r.xaxisLabels[S].position,y=r.xaxisLabels[S].position,r._drawGridLines({i:S,x1:m,y1:v,x2:y,y2:b,xCount:n,parent:r.elgridLinesV})}({xC:n,x1:o,y1:0,x2:s,y2:l}):(i.globals.isXNumeric&&(n=i.globals.xAxisScale.result.length),function(g){for(var p=g.xC,m=g.x1,v=g.y1,y=g.x2,b=g.y2,S=0;S<p+(i.globals.isXNumeric?0:1);S++)S===0&&p===1&&i.globals.dataPoints===1&&(y=m=i.globals.gridWidth/2),r._drawGridLines({i:S,x1:m,y1:v,x2:y,y2:b,xCount:n,parent:r.elgridLinesV}),y=m+=i.globals.gridWidth/(i.globals.isXNumeric?p-1:p)}({xC:n,x1:o,y1:0,x2:s,y2:l}))}if(i.config.grid.yaxis.lines.show){var c=0,u=0,f=i.globals.gridWidth,h=a+1;this.isRangeBar&&(h=i.globals.labels.length);for(var d=0;d<h+(this.isRangeBar?1:0);d++)this._drawGridLine({i:d,xCount:h+(this.isRangeBar?1:0),x1:0,y1:c,x2:f,y2:u,parent:this.elgridLinesH}),u=c+=i.globals.gridHeight/(this.isRangeBar?h:a)}}},{key:"_drawInvertedXYLines",value:function(e){var r=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var a,i=n.globals.padHorizontal,s=n.globals.gridHeight,o=0;o<r+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:r+1,x1:i,y1:0,x2:a,y2:s,parent:this.elgridLinesV}),new kd(this.ctx).drawXaxisTicks(i,0,n.globals.dom.elGraphical),a=i+=n.globals.gridWidth/r;if(n.config.grid.yaxis.lines.show)for(var l=0,c=0,u=n.globals.gridWidth,f=0;f<n.globals.dataPoints+1;f++)this._drawGridLine({i:f,xCount:n.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,r=e.globals,n=new ye(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<r.seriesYAxisMap.length&&r.ignoreYAxisIndexes.includes(a);)a++;a===r.seriesYAxisMap.length&&(a=0);var i,s=r.yAxisScale[a].result.length-1;if(!r.isBarHorizontal||this.isRangeBar){var o,l,c;i=this.xaxisLabels.length,this.isRangeBar&&(s=r.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(i=e.config.xaxis.tickAmount),((o=r.yAxisScale)===null||o===void 0||(l=o[a])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(i=r.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:i,tickAmount:s})}else i=s,s=r.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:s});return this.drawGridBands(i,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.gridWidth/i}}},{key:"drawGridBands",value:function(e,r){var n,a,i=this,s=this.w;if(((n=s.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(g,p,m,v,y,b){for(var S=0,w=0;S<p;S++,w++)w>=s.config.grid[g].colors.length&&(w=0),i._drawGridBandRect({c:w,x1:m,y1:v,x2:y,y2:b,type:g}),v+=s.globals.gridHeight/r}("row",r,0,0,s.globals.gridWidth,s.globals.gridHeight/r),((a=s.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var o=s.globals.isBarHorizontal||s.config.xaxis.tickPlacement!=="on"||s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric?e:e-1;s.globals.isXNumeric&&(o=s.globals.xAxisScale.result.length-1);for(var l=s.globals.padHorizontal,c=s.globals.padHorizontal+s.globals.gridWidth/o,u=s.globals.gridHeight,f=0,h=0;f<e;f++,h++){var d;h>=s.config.grid.column.colors.length&&(h=0),s.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[f].position,c=(((d=this.xaxisLabels[f+1])===null||d===void 0?void 0:d.position)||s.globals.gridWidth)-this.xaxisLabels[f].position),this._drawGridBandRect({c:h,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=s.globals.gridWidth/o}}}}]),t}(),j3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new dr(this.ctx)}return Re(t,[{key:"niceScale",value:function(e,r){var n,a,i,s,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(n=c.config.xaxis,a=Math.max((u.svgWidth-100)/25,2)):(n=c.config.yaxis[o],a=Math.max((u.svgHeight-100)/15,2)),ne.isNumber(a)||(a=10),i=n.min!==void 0&&n.min!==null,s=n.max!==void 0&&n.min!==null;var f=n.stepSize!==void 0&&n.stepSize!==null,h=n.tickAmount!==void 0&&n.tickAmount!==null,d=h?n.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(a/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!h&&u.multiAxisTickAmount>0&&(d=u.multiAxisTickAmount,h=!0),d=d==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(d)),(e===Number.MIN_VALUE&&r===0||!ne.isNumber(e)&&!ne.isNumber(r)||e===Number.MIN_VALUE&&r===-Number.MAX_VALUE)&&(e=ne.isNumber(n.min)?n.min:0,r=ne.isNumber(n.max)?n.max:e+d,u.allSeriesCollapsed=!1),e>r){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var g=r;r=e,e=g}else e===r&&(e=e===0?0:e-1,r=r===0?2:r+1);var p=[];d<1&&(d=1);var m=d,v=Math.abs(r-e);!i&&e>0&&e/v<.15&&(e=0,i=!0),!s&&r<0&&-r/v<.15&&(r=0,s=!0);var y=(v=Math.abs(r-e))/m,b=y,S=Math.floor(Math.log10(b)),w=Math.pow(10,S),_=Math.ceil(b/w);if(y=b=(_=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][_])*w,u.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(y=n.stepSize,f=!0):f&&(y=n.stepSize),f&&n.forceNiceScale){var k=Math.floor(Math.log10(y));y*=Math.pow(10,S-k)}if(i&&s){var A=v/m;if(h)if(f)if(ne.mod(v,y)!=0){var E=ne.getGCD(y,A);y=A/E<10?E:A}else ne.mod(y,A)==0?y=A:(A=y,h=!1);else y=A;else if(f)ne.mod(v,y)==0?A=y:y=A;else if(ne.mod(v,y)==0)A=y;else{A=v/(m=Math.ceil(v/y));var C=ne.getGCD(v,y);v/C<a&&(A=C),y=A}m=Math.round(v/y)}else{if(i||s){if(s)if(h)e=r-y*m;else{var T=e;e=y*Math.floor(e/y),Math.abs(r-e)/ne.getGCD(v,y)>a&&(e=r-y*d,e+=y*Math.floor((T-e)/y))}else if(i)if(h)r=e+y*m;else{var O=r;r=y*Math.ceil(r/y),Math.abs(r-e)/ne.getGCD(v,y)>a&&(r=e+y*d,r+=y*Math.ceil((O-r)/y))}}else if(u.isMultipleYAxis&&h){var N=y*Math.floor(e/y),z=N+y*m;z<r&&(y*=2),z=r,r=(e=N)+y*m,v=Math.abs(r-e),e>0&&e<Math.abs(z-r)&&(e=0,r=y*m),r<0&&-r<Math.abs(N-e)&&(r=0,e=-y*m)}else e=y*Math.floor(e/y),r=y*Math.ceil(r/y);v=Math.abs(r-e),y=ne.getGCD(v,y),m=Math.round(v/y)}if(h||i||s||(m=Math.ceil((v-l)/(y+l)))>16&&ne.getPrimeFactors(m).length<2&&m++,!h&&n.forceNiceScale&&u.yValueDecimal===0&&m>v&&(m=v,y=Math.round(v/m)),m>a&&(!h&&!f||n.forceNiceScale)){var W=ne.getPrimeFactors(m),F=W.length-1,L=m;e:for(var H=0;H<F;H++)for(var I=0;I<=F-H;I++){for(var X=Math.min(I+H,F),K=L,P=1,Y=I;Y<=X;Y++)P*=W[Y];if((K/=P)<a){L=K;break e}}y=L===m?v:v/L,m=Math.round(v/y)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=m);var B=e-y,G=y*l;do B+=y,p.push(ne.stripNumber(B,7));while(r-B>G);return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"linearScale",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,s=Math.abs(r-e),o=[];if(e===r)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(n=this._adjustTicksForSmallRange(n,a,s))==="dataPoints"&&(n=this.w.globals.dataPoints-1),i||(i=s/n),i=Math.round(100*(i+Number.EPSILON))/100,n===Number.MAX_VALUE&&(n=5,i=1);for(var l=e;n>=0;)o.push(l),l=ne.preciseAddition(l,i),n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var a=[],i=Math.ceil(Math.log(r)/Math.log(n)+1),s=Math.floor(Math.log(e)/Math.log(n));s<i;s++)a.push(Math.pow(n,s));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,r,n){r<=0&&(r=Math.max(e,n)),e<=0&&(e=Math.min(r,n));for(var a=[],i=Math.log(r)/Math.log(n),s=Math.log(e)/Math.log(n),o=i-s,l=Math.round(o),c=o/l,u=0,f=s;u<l;u++,f+=c)a.push(Math.pow(n,f));return a.push(Math.pow(n,i)),{result:a,niceMin:e,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(e,r,n){var a=e;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var i=Number(this.w.config.yaxis[r].labels.formatter(1));ne.isNumber(i)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(n))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,r,n){var a=this.w.globals,i=this.w.config,s=a.isBarHorizontal?i.xaxis:i.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var o=Math.abs(n-r);s.logarithmic&&o<=5&&(a.invalidLogScale=!0),s.logarithmic&&o>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=s.forceNiceScale?this.logarithmicScaleNice(r,n,s.logBase):this.logarithmicScale(r,n,s.logBase)):n!==-Number.MAX_VALUE&&ne.isNumber(n)&&r!==Number.MAX_VALUE&&ne.isNumber(r)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(r,n,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,r){var n=this.w,a=n.globals;if(r!==-Number.MAX_VALUE&&ne.isNumber(r)){var i=a.xTickAmount;a.xAxisScale=this.linearScale(e,r,i,0,n.config.xaxis.max===void 0?n.config.xaxis.stepSize:void 0)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,r=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=n.seriesYAxisMap,i=n.minYArr,s=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],a.forEach(function(o,l){var c=[];o.forEach(function(u){var f,h=(f=r.series[u])===null||f===void 0?void 0:f.group;c.indexOf(h)<0&&c.push(h)}),o.length>0?function(){var u,f,h=Number.MAX_VALUE,d=-Number.MAX_VALUE,g=h,p=d;if(r.chart.stacked)(function(){var y=new Array(n.dataPoints).fill(0),b=[],S=[],w=[];c.forEach(function(){b.push(y.map(function(){return Number.MIN_VALUE})),S.push(y.map(function(){return Number.MIN_VALUE})),w.push(y.map(function(){return Number.MIN_VALUE}))});for(var _=function(A){!u&&r.series[o[A]].type&&(u=r.series[o[A]].type);var E=o[A];f=r.series[E].group?r.series[E].group:"axis-".concat(l),!(n.collapsedSeriesIndices.indexOf(E)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(E)<0)||(n.allSeriesCollapsed=!1,c.forEach(function(C,T){if(r.series[E].group===C)for(var O=0;O<n.series[E].length;O++){var N=n.series[E][O];N>=0?S[T][O]+=N:w[T][O]+=N,b[T][O]+=N,g=Math.min(g,N),p=Math.max(p,N)}})),u!=="bar"&&u!=="column"||n.barGroups.push(f)},k=0;k<o.length;k++)_(k);u||(u=r.chart.type),u==="bar"||u==="column"?c.forEach(function(A,E){h=Math.min(h,Math.min.apply(null,w[E])),d=Math.max(d,Math.max.apply(null,S[E]))}):(c.forEach(function(A,E){g=Math.min(g,Math.min.apply(null,b[E])),p=Math.max(p,Math.max.apply(null,b[E]))}),h=g,d=p),h===Number.MIN_VALUE&&d===Number.MIN_VALUE&&(d=-Number.MAX_VALUE)})();else for(var m=0;m<o.length;m++){var v=o[m];h=Math.min(h,i[v]),d=Math.max(d,s[v]),!(n.collapsedSeriesIndices.indexOf(v)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(v)<0)||(n.allSeriesCollapsed=!1)}r.yaxis[l].min!==void 0&&(h=typeof r.yaxis[l].min=="function"?r.yaxis[l].min(h):r.yaxis[l].min),r.yaxis[l].max!==void 0&&(d=typeof r.yaxis[l].max=="function"?r.yaxis[l].max(d):r.yaxis[l].max),n.barGroups=n.barGroups.filter(function(y,b,S){return S.indexOf(y)===b}),e.setYScaleForIndex(l,h,d),o.forEach(function(y){i[y]=n.yAxisScale[l].niceMin,s[y]=n.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),t}(),Pw=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.scales=new j3(e)}return Re(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w.config,s=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;a===null&&(a=e+1);var c=s.series,u=c,f=c;i.chart.type==="candlestick"?(u=s.seriesCandleL,f=s.seriesCandleH):i.chart.type==="boxPlot"?(u=s.seriesCandleO,f=s.seriesCandleC):s.isRangeData&&(u=s.seriesRangeStart,f=s.seriesRangeEnd);var h=!1;if(s.seriesX.length>=a){var d,g=(d=s.brushSource)===null||d===void 0?void 0:d.w.config.chart.brush;(i.chart.zoom.enabled&&i.chart.zoom.autoScaleYaxis||g!=null&&g.enabled&&g!=null&&g.autoScaleYaxis)&&(h=!0)}for(var p=e;p<a;p++){s.dataPoints=Math.max(s.dataPoints,c[p].length);var m=i.series[p].type;s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter(function(E){return E!==void 0}).length),s.labels.length&&i.xaxis.type!=="datetime"&&s.series.reduce(function(E,C){return E+C.length},0)!==0&&(s.dataPoints=Math.max(s.dataPoints,s.labels.length));var v=0,y=c[p].length-1;if(h){if(i.xaxis.min)for(;v<y&&s.seriesX[p][v]<i.xaxis.min;v++);if(i.xaxis.max)for(;y>v&&s.seriesX[p][y]>i.xaxis.max;y--);}for(var b=v;b<=y&&b<s.series[p].length;b++){var S=c[p][b];if(S!==null&&ne.isNumber(S)){var w,_,k,A;switch(((w=f[p])===null||w===void 0?void 0:w[b])!==void 0&&(o=Math.max(o,f[p][b]),r=Math.min(r,f[p][b])),((_=u[p])===null||_===void 0?void 0:_[b])!==void 0&&(r=Math.min(r,u[p][b]),n=Math.max(n,u[p][b])),m){case"candlestick":s.seriesCandleC[p][b]!==void 0&&(o=Math.max(o,s.seriesCandleH[p][b]),r=Math.min(r,s.seriesCandleL[p][b]));break;case"boxPlot":s.seriesCandleC[p][b]!==void 0&&(o=Math.max(o,s.seriesCandleC[p][b]),r=Math.min(r,s.seriesCandleO[p][b]))}m&&m!=="candlestick"&&m!=="boxPlot"&&m!=="rangeArea"&&m!=="rangeBar"&&(o=Math.max(o,s.series[p][b]),r=Math.min(r,s.series[p][b])),s.seriesGoals[p]&&s.seriesGoals[p][b]&&Array.isArray(s.seriesGoals[p][b])&&s.seriesGoals[p][b].forEach(function(E){o=Math.max(o,E.value),r=Math.min(r,E.value)}),n=o,S=ne.noExponents(S),ne.isFloat(S)&&(s.yValueDecimal=Math.max(s.yValueDecimal,S.toString().split(".")[1].length)),l>((k=u[p])===null||k===void 0?void 0:k[b])&&((A=u[p])===null||A===void 0?void 0:A[b])<0&&(l=u[p][b])}else s.hasNullValues=!0}m!=="bar"&&m!=="column"||(l<0&&o<0&&(o=0,n=Math.max(n,0)),l===Number.MIN_VALUE&&(l=0,r=Math.min(r,0)))}return i.chart.type==="rangeBar"&&s.seriesRangeStart.length&&s.isBarHorizontal&&(l=r),i.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:r,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,r=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var i=0;i<e.series.length;i++)n=this.getMinYMaxY(i),e.minYArr[i]=n.lowestY,e.maxYArr[i]=n.highestY,a=Math.min(a,n.lowestY)}return n=this.getMinYMaxY(0,a,null,e.series.length),r.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),a=n.lowestY,r.chart.stacked&&this._setStackedMinMax(),r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="scatter"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,r.yaxis.forEach(function(s,o){s.max!==void 0&&(typeof s.max=="number"?e.maxYArr[o]=s.max:typeof s.max=="function"&&(e.maxYArr[o]=s.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),s.min!==void 0&&(typeof s.min=="number"?e.minYArr[o]=s.min:typeof s.min=="function"&&(e.minYArr[o]=s.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(s){r.xaxis[s]!==void 0&&typeof r.xaxis[s]=="number"&&(s==="min"?e.minY=r.xaxis[s]:e.maxY=r.xaxis[s])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],r.series.forEach(function(s){switch(s.type||r.chart.type){case"bar":case"column":e.barGroups.push(s.group);break;case"line":e.lineGroups.push(s.group);break;case"area":e.areaGroups.push(s.group)}}),e.barGroups=e.barGroups.filter(function(s,o,l){return l.indexOf(s)===o}),e.lineGroups=e.lineGroups.filter(function(s,o,l){return l.indexOf(s)===o}),e.areaGroups=e.areaGroups.filter(function(s,o,l){return l.indexOf(s)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,r=this.w.config,n=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&ne.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&r.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(r.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),r.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(r.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var i=Math.round(e.maxX-e.minX);i<30&&(a=i)}}else a=r.xaxis.tickAmount;if(e.xTickAmount=a,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(e.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(e.minX=r.xaxis.min),r.xaxis.range!==void 0&&(e.minX=e.maxX-r.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var s=[],o=e.minX-1;o<e.maxX;o++)s.push(o+1);e.xAxisScale={result:s,niceMin:s[0],niceMax:s[s.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,r.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,r.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var r=0;r<e.series.length;r++)if(e.seriesZ[r]!==void 0)for(var n=0;n<e.seriesZ[r].length;n++)e.seriesZ[r][n]!==null&&ne.isNumber(e.seriesZ[r][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[r][n]),e.minZ=Math.min(e.minZ,e.seriesZ[r][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,r=this.w.config;if(e.minX===e.maxX){var n=new qr(this.ctx);if(r.xaxis.type==="datetime"){var a=n.getDate(e.minX);r.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var i=n.getDate(e.maxX);r.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()+2):i.setDate(i.getDate()+2),e.maxX=new Date(i).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(r,n){if(r.length){r.length===1&&r.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=r.slice();a.sort(function(i,s){return i-s}),a.forEach(function(i,s){if(s>0){var o=i-a[s-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,r=this.w.globals;if(r.series.length){var n=r.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(s){return s})]);var a={},i={};n.forEach(function(s){a[s]=[],i[s]=[],e.w.config.series.map(function(o,l){return s.indexOf(r.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<r.series[r.maxValsInArrayIndex].length;l++){var c,u,f,h;a[s][l]===void 0&&(a[s][l]=0,i[s][l]=0),(e.w.config.chart.stacked&&!r.comboCharts||e.w.config.chart.stacked&&r.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((f=e.w.config.series)===null||f===void 0||(h=f[o])===null||h===void 0?void 0:h.type)==="column"))&&r.series[o][l]!==null&&ne.isNumber(r.series[o][l])&&(r.series[o][l]>0?a[s][l]+=parseFloat(r.series[o][l])+1e-4:i[s][l]+=parseFloat(r.series[o][l]))}})}),Object.entries(a).forEach(function(s){var o=t3(s,1)[0];a[o].forEach(function(l,c){r.maxY=Math.max(r.maxY,a[o][c]),r.minY=Math.min(r.minY,i[o][c])})})}}}]),t}(),Xk=function(){function t(e,r){De(this,t),this.ctx=e,this.elgrid=r,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new ao(e)}return Re(t,[{key:"drawYaxis",value:function(e){var r=this.w,n=new ye(this.ctx),a=r.config.yaxis[e].labels.style,i=a.fontSize,s=a.fontFamily,o=a.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(r.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=r.globals.yAxisScale[e].result.length-1,f=r.globals.gridHeight/u,h=r.globals.yLabelFormatters[e],d=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice());if(r.config.yaxis[e].labels.show){var g=r.globals.translateY+r.config.yaxis[e].labels.offsetY;r.globals.isBarHorizontal?g=0:r.config.chart.type==="heatmap"&&(g-=f/2),g+=parseInt(i,10)/3;for(var p=u;p>=0;p--){var m=h(d[p],p,r),v=r.config.yaxis[e].labels.padding;r.config.yaxis[e].opposite&&r.config.yaxis.length!==0&&(v*=-1);var y=this.getTextAnchor(r.config.yaxis[e].labels.align,r.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(a.colors,e),S=Array.isArray(b)?b[p]:b,w=ne.listToArray(r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(k){return k.textContent}),_=n.drawText({x:v,y:g,text:w.includes(m)&&!r.config.yaxis[e].labels.showDuplicates?"":m,textAnchor:y,fontSize:i,fontFamily:s,fontWeight:o,maxWidth:r.config.yaxis[e].labels.maxWidth,foreColor:S,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});c.add(_),this.addTooltip(_,m),r.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,_,firstLabel,r.config.yaxis[e].labels.rotate),g+=f}}return this.addYAxisTitle(n,l,e),this.addAxisBorder(n,l,e,u,f),l}},{key:"getTextAnchor",value:function(e,r){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":r?"start":"end"}},{key:"addTooltip",value:function(e,r){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(r)?r.join(" "):r,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,r,n,a){var i=e.rotateAroundCenter(n.node),s=e.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(a," ").concat(i.x," ").concat(s.y,")"))}},{key:"addYAxisTitle",value:function(e,r,n){var a=this.w;if(a.config.yaxis[n].title.text!==void 0){var i=e.group({class:"apexcharts-yaxis-title"}),s=a.config.yaxis[n].opposite?a.globals.translateYAxisX[n]:0,o=e.drawText({x:s,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[n].title.offsetY,text:a.config.yaxis[n].title.text,textAnchor:"end",foreColor:a.config.yaxis[n].title.style.color,fontSize:a.config.yaxis[n].title.style.fontSize,fontWeight:a.config.yaxis[n].title.style.fontWeight,fontFamily:a.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[n].title.style.cssClass)});i.add(o),r.add(i)}}},{key:"addAxisBorder",value:function(e,r,n,a,i){var s=this.w,o=s.config.yaxis[n].axisBorder,l=31+o.offsetX;if(s.config.yaxis[n].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,s.globals.translateY+o.offsetY-2,l,s.globals.gridHeight+s.globals.translateY+o.offsetY+2,o.color,0,o.width);r.add(c)}s.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,a,o,s.config.yaxis[n].axisTicks,n,i,r)}},{key:"drawYaxisInversed",value:function(e){var r=this.w,n=new ye(this.ctx),a=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),i=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});a.add(i);var s=r.globals.yAxisScale[e].result.length-1,o=r.globals.gridWidth/s+.1,l=o+r.config.xaxis.labels.offsetX,c=r.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,r.globals.yAxisScale[e].result.slice()),f=r.globals.timescaleLabels;if(f.length>0&&(this.xaxisLabels=f.slice(),s=(u=f.slice()).length),r.config.xaxis.labels.show)for(var h=f.length?0:s;f.length?h<f.length:h>=0;f.length?h++:h--){var d=c(u[h],h,r),g=r.globals.gridWidth+r.globals.padHorizontal-(l-o+r.config.xaxis.labels.offsetX);if(f.length){var p=this.axesUtils.getLabel(u,f,g,h,this.drawnLabels,this.xaxisFontSize);g=p.x,d=p.text,this.drawnLabels.push(p.text),h===0&&r.globals.skipFirstTimelinelabel&&(d=""),h===u.length-1&&r.globals.skipLastTimelinelabel&&(d="")}var m=n.drawText({x:g,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:d,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(r.config.xaxis.labels.style.cssClass)});i.add(m),m.tspan(d),this.addTooltip(m,d),l+=o}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var r=this.w,n=new ye(this.ctx),a=r.config.xaxis.axisBorder;if(a.show){var i=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(i-=15);var s=n.drawLine(r.globals.padHorizontal+i+a.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(s):e.add(s)}}},{key:"inversedYAxisTitleText",value:function(e){var r=this.w,n=new ye(this.ctx);if(r.config.xaxis.title.text!==void 0){var a=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),i=n.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(r.config.xaxis.title.style.cssClass)});a.add(i),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,r){var n=this.w,a=new ye(this.ctx),i=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),s=i?i.getBoundingClientRect():{width:0,height:0},o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,s,l,r);o.setAttribute("x",c.xPos-(r?10:0));var u=a.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(r?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,r,n,a){var i=this.w,s=0,o=10;return i.config.yaxis[e].title.text===void 0||e<0?{xPos:s,padd:0}:(a?s=r.width+i.config.yaxis[e].title.offsetX+n.width/2+o/2:(s=-1*r.width+i.config.yaxis[e].title.offsetX+o/2+n.width/2,i.globals.isBarHorizontal&&(o=25,s=-1*r.width-i.config.yaxis[e].title.offsetX-o)),{xPos:s,padd:o})}},{key:"setYAxisXPosition",value:function(e,r){var n=this.w,a=0,i=0,s=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(l,c){var u=n.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,f=e[c].width+r[c].width;l.opposite?n.globals.isBarHorizontal?(i=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[c]=i-l.labels.offsetX):(i=n.globals.gridWidth+n.globals.translateX+o,u||(o+=f+20),n.globals.translateYAxisX[c]=i-l.labels.offsetX+20):(a=n.globals.translateX-s,u||(s+=f+20),n.globals.translateYAxisX[c]=a+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;ne.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(r,n){var a=e.config.yaxis[n];if(a&&!a.floating&&a.labels.align!==void 0){var i=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),s=ne.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),o=i.getBoundingClientRect();s.forEach(function(l){l.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?i.setAttribute("transform","translate(".concat(o.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&i.setAttribute("transform","translate(".concat(o.width,", 0)")):i.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),t}(),Pke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.documentEvent=ne.bind(this.documentEvent,this)}return Re(t,[{key:"addEventListener",value:function(e,r){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(r):n.globals.events[e]=[r]}},{key:"removeEventListener",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var a=n.globals.events[e].indexOf(r);a!==-1&&n.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,r){var n=this.w;if(n.globals.events.hasOwnProperty(e)){r&&r.length||(r=[]);for(var a=n.globals.events[e],i=a.length,s=0;s<i;s++)a[s].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var e=this,r=this.w,n=this.ctx,a=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(i){a.addEventListener(i,function(s){var o=s.target.getAttribute("i")===null&&r.globals.capturedSeriesIndex!==-1?r.globals.capturedSeriesIndex:s.target.getAttribute("i"),l=s.target.getAttribute("j")===null&&r.globals.capturedDataPointIndex!==-1?r.globals.capturedDataPointIndex:s.target.getAttribute("j"),c=Object.assign({},r,{seriesIndex:r.globals.axisCharts?o:0,dataPointIndex:l});s.type==="mousemove"||s.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(s,n,c):s.type==="mouseleave"||s.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(s,n,c):(s.type==="mouseup"&&s.which===1||s.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(s,n,c),n.ctx.events.fireEvent("click",[s,n,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(i){r.globals.dom.baseEl.addEventListener(i,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var r=this.w,n=e.target.className;if(e.type==="click"){var a=r.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}r.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,r.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),Ike=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"setCurrentLocaleValues",value:function(e){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=r.filter(function(i){return i.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=ne.extend(O3,n);this.w.globals.locale=a.options}}]),t}(),Nke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"drawAxis",value:function(e,r){var n,a,i=this,s=this.w.globals,o=this.w.config,l=new kd(this.ctx,r),c=new Xk(this.ctx,r);s.axisCharts&&e!=="radar"&&(s.isBarHorizontal?(a=c.drawYaxisInversed(0),n=l.drawXaxisInversed(0),s.dom.elGraphical.add(n),s.dom.elGraphical.add(a)):(n=l.drawXaxis(),s.dom.elGraphical.add(n),o.yaxis.map(function(u,f){if(s.ignoreYAxisIndexes.indexOf(f)===-1&&(a=c.drawYaxis(f),s.dom.Paper.add(a),i.w.config.grid.position==="back")){var h=s.dom.Paper.children()[1];h.remove(),s.dom.Paper.add(h)}})))}}]),t}(),Iw=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,r=new ye(this.ctx),n=new Zr(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,i=e.config.xaxis.crosshairs.dropShadow,s=e.config.xaxis.crosshairs.fill.type,o=a.colorFrom,l=a.colorTo,c=a.opacityFrom,u=a.opacityTo,f=a.stops,h=i.enabled,d=i.left,g=i.top,p=i.blur,m=i.color,v=i.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){s==="gradient"&&(y=r.drawGradient("vertical",o,l,c,u,null,f,null));var b=r.drawRect();e.config.xaxis.crosshairs.width===1&&(b=r.drawLine());var S=e.globals.gridHeight;(!ne.isNumber(S)||S<0)&&(S=0);var w=e.config.xaxis.crosshairs.width;(!ne.isNumber(w)||w<0)&&(w=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:S,width:w,height:S,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),h&&(b=n.dropShadow(b,{left:d,top:g,blur:p,color:m,opacity:v})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,r=new ye(this.ctx),n=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var i=r.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);i.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(i)}var s=r.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(s)}}]),t}(),Fke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"checkResponsiveConfig",value:function(e){var r=this,n=this.w,a=n.config;if(a.responsive.length!==0){var i=a.responsive.slice();i.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var s=new _d({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i[0].breakpoint,f=window.innerWidth>0?window.innerWidth:screen.width;if(f>u){var h=ne.clone(n.globals.initialConfig);h.series=ne.clone(n.config.series);var d=dr.extendArrayProps(s,h,n);c=ne.extend(d,c),c=ne.extend(n.config,c),r.overrideResponsiveOptions(c)}else for(var g=0;g<i.length;g++)f<i[g].breakpoint&&(c=dr.extendArrayProps(s,i[g].options,n),c=ne.extend(n.config,c),r.overrideResponsiveOptions(c))};if(e){var l=dr.extendArrayProps(s,e,n);l=ne.extend(n.config,l),o(l=ne.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var r=new _d(e).init({responsiveOverride:!0});this.w.config=r}}]),t}(),jke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Re(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return r.type==="treemap"&&n.treemap&&n.treemap.distributed||r.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,r=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(r.type==="bar"||r.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,r=new ne;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var n=Mr(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,r));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var r=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(a,i){var s=e[i]||e[0];return typeof s=="function"?s({value:n.globals.axisCharts?n.globals.series[i][0]||0:n.globals.series[i],seriesIndex:i,dataPointIndex:i,w:r.w}):s})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,r){e.forEach(function(n,a){n&&(r[a]=n)})}},{key:"getMonochromeColors",value:function(e,r,n){var a=e.color,i=e.shadeIntensity,s=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?r[0].length*r.length:r.length,l=1/(o/i),c=0;return Array.from({length:o},function(){var u=s==="dark"?n.shadeColor(-1*c,a):n.shadeColor(c,a);return c+=l,u})}},{key:"applyColorTypes",value:function(e,r){var n=this,a=this.w;e.forEach(function(i){a.globals[i].colors=a.config[i].colors===void 0?n.isColorFn?a.config.colors:r:a.config[i].colors.slice(),n.pushExtraColors(a.globals[i].colors)})}},{key:"applyDataLabelsColors",value:function(e){var r=this.w;r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors===void 0?e:r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var r=this.w;r.globals.markers.colors=r.config.markers.colors===void 0?e:r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=r||a.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),n&&a.globals.series.length&&(i=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<i)for(var s=i-e.length,o=0;o<s;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var r=e.theme.mode,n=r==="dark"?"palette4":r==="light"?"palette1":e.theme.palette||"palette1",a=r==="dark"?"#f6f7f8":r==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=r||"light",e.chart.foreColor=a,e.theme.palette=n,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,r=this.ctx.constructor.getThemePalettes();return r[e]||r.palette1}}]),t}(),Mke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var r=this.w,n=e==="title"?r.config.title:r.config.subtitle,a=r.globals.svgWidth/2,i=n.offsetY,s="middle";if(n.align==="left"?(a=10,s="start"):n.align==="right"&&(a=r.globals.svgWidth-10,s="end"),a+=n.offsetX,i=i+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var o=new ye(this.ctx).drawText({x:a,y:i,text:n.text,textAnchor:s,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),r.globals.dom.Paper.add(o)}}}]),t}(),Dke=function(){function t(e){De(this,t),this.w=e.w,this.dCtx=e}return Re(t,[{key:"getTitleSubtitleCoords",value:function(e){var r=this.w,n=0,a=0,i=e==="title"?r.config.title.floating:r.config.subtitle.floating,s=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(s!==null&&!i){var o=s.getBoundingClientRect();n=o.width,a=r.globals.axisCharts?o.height+5:o.height}return{width:n,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,r=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(r.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},ne.getBoundingClientRect(r));return r!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,r=this.w,n=[];r.config.series.forEach(function(l,c){l.data.forEach(function(u,f){var h;h=r.globals.series[c][f],a=r.config.dataLabels.formatter(h,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:f,w:r}),n.push(a)})});var a=ne.getLargestStringFromArr(n),i=new ye(this.dCtx.ctx),s=r.config.dataLabels.style,o=i.getTextRects(a,parseInt(s.fontSize),s.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,r){var n=e;if(this.w.globals.isMultiLineX){var a=r.map(function(s,o){return Array.isArray(s)?s.length:1}),i=Math.max.apply(Math,Mr(a));n=r[a.indexOf(i)]}return n}}]),t}(),Rke=function(){function t(e){De(this,t),this.w=e.w,this.dCtx=e}return Re(t,[{key:"getxAxisLabelsCoords",value:function(){var e,r=this.w,n=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var i=r.globals.xLabelFormatter,s=ne.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,n);r.globals.isBarHorizontal&&(o=s=r.globals.yAxisScale[0].result.reduce(function(g,p){return g.length>p.length?g:p},0));var l=new t0(this.dCtx.ctx),c=s;s=l.xLabelFormat(i,s,c,{i:void 0,dateFormatter:new qr(this.dCtx.ctx).formatDate,w:r}),o=l.xLabelFormat(i,o,c,{i:void 0,dateFormatter:new qr(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&s===void 0||String(s).trim()==="")&&(o=s="1");var u=new ye(this.dCtx.ctx),f=u.getTextRects(s,r.config.xaxis.labels.style.fontSize),h=f;if(s!==o&&(h=u.getTextRects(o,r.config.xaxis.labels.style.fontSize)),(e={width:f.width>=h.width?f.width:h.width,height:f.height>=h.height?f.height:h.height}).width*n.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var d=function(g){return u.getTextRects(g,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};f=d(s),s!==o&&(h=d(o)),e.height=(f.height>h.height?f.height:h.height)/1.5,e.width=f.width>h.width?f.width:h.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,r=this.w;if(!r.globals.hasXaxisGroups)return{width:0,height:0};var n,a=((e=r.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||r.config.xaxis.labels.style.fontSize,i=r.globals.groups.map(function(f){return f.title}),s=ne.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,i),l=new ye(this.dCtx.ctx),c=l.getTextRects(s,a),u=c;return s!==o&&(u=l.getTextRects(o,a)),n={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},r.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,r=0,n=0;if(e.config.xaxis.title.text!==void 0){var a=new ye(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);r=a.width,n=a.height}return{width:r,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(i){return i.value}),a=n.reduce(function(i,s){return i===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):i.length>s.length?i:s},0);return 1.05*(e=new ye(this.dCtx.ctx).getTextRects(a,r.config.xaxis.labels.style.fontSize)).width*n.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var r=this,n=this.w,a=n.globals,i=n.config,s=i.xaxis.type,o=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,c=function(u,f){i.yaxis.length>1&&function(h){return a.collapsedSeriesIndices.indexOf(h)!==-1}(f)||function(h){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var d=r.dCtx.timescaleLabels[0],g=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+o/1.75-r.dCtx.yAxisWidthRight,p=d.position-o/1.75+r.dCtx.yAxisWidthLeft,m=n.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;g>a.svgWidth-a.translateX-m&&(a.skipLastTimelinelabel=!0),p<-(h.show&&!h.floating||i.chart.type!=="bar"&&i.chart.type!=="candlestick"&&i.chart.type!=="rangeBar"&&i.chart.type!=="boxPlot"?10:o/1.75)&&(a.skipFirstTimelinelabel=!0)}else s==="datetime"?r.dCtx.gridPad.right<o&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):s!=="datetime"&&r.dCtx.gridPad.right<o/2-r.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!n.config.xaxis.labels.trim&&(r.dCtx.xPadRight=o/2+1)}(u)};i.yaxis.forEach(function(u,f){l?(r.dCtx.gridPad.left<o&&(r.dCtx.xPadLeft=o/2+1),r.dCtx.xPadRight=o/2+1):c(u,f)})}}]),t}(),Lke=function(){function t(e){De(this,t),this.w=e.w,this.dCtx=e}return Re(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,r=this.w,n=[],a=10,i=new ao(this.dCtx.ctx);return r.config.yaxis.map(function(s,o){var l={seriesIndex:o,dataPointIndex:-1,w:r},c=r.globals.yAxisScale[o],u=0;if(!i.isYAxisHidden(o)&&s.labels.show&&s.labels.minWidth!==void 0&&(u=s.labels.minWidth),!i.isYAxisHidden(o)&&s.labels.show&&c.result.length){var f=r.globals.yLabelFormatters[o],h=c.niceMin===Number.MIN_VALUE?0:c.niceMin,d=c.result.reduce(function(S,w){var _,k;return((_=String(f(S,l)))===null||_===void 0?void 0:_.length)>((k=String(f(w,l)))===null||k===void 0?void 0:k.length)?S:w},h),g=d=f(d,l);if(d!==void 0&&d.length!==0||(d=c.niceMax),r.globals.isBarHorizontal){a=0;var p=r.globals.labels.slice();d=ne.getLargestStringFromArr(p),d=f(d,{seriesIndex:o,dataPointIndex:-1,w:r}),g=e.dCtx.dimHelpers.getLargestStringFromMultiArr(d,p)}var m=new ye(e.dCtx.ctx),v="rotate(".concat(s.labels.rotate," 0 0)"),y=m.getTextRects(d,s.labels.style.fontSize,s.labels.style.fontFamily,v,!1),b=y;d!==g&&(b=m.getTextRects(g,s.labels.style.fontSize,s.labels.style.fontFamily,v,!1)),n.push({width:(u>b.width||u>y.width?u:b.width>y.width?b.width:y.width)+a,height:b.height>y.height?b.height:y.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,r=this.w,n=[];return r.config.yaxis.map(function(a,i){if(a.show&&a.title.text!==void 0){var s=new ye(e.dCtx.ctx),o="rotate(".concat(a.title.rotate," 0 0)"),l=s.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,o,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,r=0,n=0,a=0,i=e.globals.yAxisScale.length>1?10:0,s=new ao(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,f=0;l.width>0&&!u?(f=l.width+i,function(h){return e.globals.ignoreYAxisIndexes.indexOf(h)>-1}(c)&&(f=f-l.width-i)):f=u||s.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?a+=f:n+=f,r+=f};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(r=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=a,r}}]),t}(),Bke=function(){function t(e){De(this,t),this.w=e.w,this.dCtx=e}return Re(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var r=this.w,n=r.config,a=r.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.series.length)return 0;var i=function(d){return["bar","rangeBar","candlestick","boxPlot"].includes(d)},s=n.chart.type,o=0,l=i(s)?n.series.length:1;a.comboBarCount>0&&(l=a.comboBarCount),a.collapsedSeries.forEach(function(d){i(d.type)&&(l-=1)}),n.chart.stacked&&(l=1);var c=i(s)||a.comboBarCount>0,u=Math.abs(a.initialMaxX-a.initialMinX);if(c&&a.isXNumeric&&!a.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=a.dataPoints);var f=u/e,h=a.minXDiff&&a.minXDiff/f>0?a.minXDiff/f:0;h>e/2&&(h/=2),(o=h*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),a.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,r=this.w,n=r.globals,a=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(o){r.config[o].text!==void 0?a+=r.config[o].margin:a+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||n.axisCharts||(a+=10);var i=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=i.height+s.height+a,n.translateY+=i.height+s.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,r){var n=this.w,a=new ao(this.dCtx.ctx);n.config.yaxis.forEach(function(i,s){n.globals.ignoreYAxisIndexes.indexOf(s)!==-1||i.floating||a.isYAxisHidden(s)||(i.opposite&&(n.globals.translateX-=r[s].width+e[s].width+parseInt(i.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),t}(),dm=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Dke(this),this.dimYAxis=new Lke(this),this.dimXAxis=new Rke(this),this.dimGrid=new Bke(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Re(t,[{key:"plotCoords",value:function(){var e=this,r=this.w,n=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(r.config.stroke.width)?Math.max.apply(Math,Mr(r.config.stroke.width)):r.config.stroke.width;this.isSparkline&&((r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(s){var o=t3(s,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*i,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(i>0?i:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,r=this.w,n=r.globals,a=this.dimYAxis.getyAxisLabelsCoords(),i=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(d,g){r.globals.yLabelsCoords.push({width:a[g].width,index:g}),r.globals.yTitleCoords.push({width:i[g].width,index:g})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,l,o),n.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+r.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+r.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-s.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var f=10;(r.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(c=0,u=0,f=0),this.isSparkline||r.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(s);var h=function(){n.translateX=c+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-u-(e.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-c-2*e.datalabelsCoords.width};switch(r.config.xaxis.position==="top"&&(f=n.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":n.translateY=f,h();break;case"top":n.translateY=this.lgRect.height+f,h();break;case"left":n.translateY=f,n.translateX=this.lgRect.width+c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":n.translateY=f,n.translateX=c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(i,a),new Xk(this.ctx).setYAxisXPosition(a,i)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var i=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",s=n.plotOptions[i].offsetY,o=n.plotOptions[i].offsetX;if(!n.legend.show||n.legend.floating){r.gridHeight=r.svgHeight;var l=r.dom.elWrap.getBoundingClientRect().width;return r.gridWidth=Math.min(l,r.gridHeight),r.translateY=s,void(r.translateX=o+(r.svgWidth-r.gridWidth)/2)}switch(n.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=s-10,r.translateX=o+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+s+10,r.translateX=o+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-a,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=s,r.translateX=o+this.lgRect.width+a;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-a-5,r.gridHeight=n.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=s,r.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,r,n){var a=this.w,i=a.globals.hasXaxisGroups?2:1,s=n.height+e.height+r.height,o=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,l=a.globals.rotateXLabels?22:10,c=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=s*o+i*l+c,this.xAxisWidth=e.width,this.xAxisHeight-r.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,f=0;a.config.yaxis.forEach(function(h){u+=h.labels.minWidth,f+=h.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>f&&(this.yAxisWidth=f)}}]),t}(),$ke=function(){function t(e){De(this,t),this.w=e.w,this.lgCtx=e}return Re(t,[{key:"getLegendStyles",value:function(){var e,r,n,a=document.createElement("style");a.setAttribute("type","text/css");var i=((e=this.lgCtx.ctx)===null||e===void 0||(r=e.opts)===null||r===void 0||(n=r.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;i&&a.setAttribute("nonce",i);var s=document.createTextNode(N3);return a.appendChild(s),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=e.width;return{clwh:e.height,clww:r}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,r){var n=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var i=null,s=null;a.globals.risingSeries=[],a.globals.axisCharts?(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),s=parseInt(i.getAttribute("data:realIndex"),10)):(i=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),s=parseInt(i.getAttribute("rel"),10)-1),r?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){n.riseCollapsedSeries(u.cs,u.csi,s)}):this.hideSeries({seriesEl:i,realIndex:s})}else{var o=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=a.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=a.config.plotOptions.pie.donut.labels;new ye(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var r=e.realIndex,n=this.w,a=n.globals,i=ne.clone(n.config.series);if(a.axisCharts){var s=n.config.yaxis[a.seriesYAxisReverseMap[r]],o={index:r,data:i[r].data.slice(),type:i[r].type||n.config.chart.type};if(s&&s.show&&s.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(a.ancillaryCollapsedSeries.push(o),a.ancillaryCollapsedSeriesIndices.push(r));else if(a.collapsedSeriesIndices.indexOf(r)<0){a.collapsedSeries.push(o),a.collapsedSeriesIndices.push(r);var l=a.risingSeries.indexOf(r);a.risingSeries.splice(l,1)}}else a.collapsedSeries.push({index:r,data:i[r]}),a.collapsedSeriesIndices.push(r);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(i)}},{key:"hideSeries",value:function(e){for(var r=e.seriesEl,n=e.realIndex,a=this.w,i=this.getSeriesAfterCollapsing({realIndex:n}),s=r.childNodes,o=0;o<s.length;o++)s[o].classList.contains("apexcharts-series-markers-wrap")&&(s[o].classList.contains("apexcharts-hide")?s[o].classList.remove("apexcharts-hide"):s[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,r,n){var a=this.w,i=ne.clone(a.config.series);if(e.length>0){for(var s=0;s<e.length;s++)e[s].index===n&&(a.globals.axisCharts?i[n].data=e[s].data.slice():i[n]=e[s].data,typeof i[n]!="number"&&(i[n].hidden=!1),e.splice(s,1),r.splice(s,1),a.globals.risingSeries.push(n));i=this._getSeriesBasedOnCollapsedState(i),this.lgCtx.ctx.updateHelpers._updateSeries(i,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var r=this.w,n=0;return r.globals.axisCharts?e.forEach(function(a,i){r.globals.collapsedSeriesIndices.indexOf(i)<0&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0||(e[i].data=[],n++)}):e.forEach(function(a,i){!r.globals.collapsedSeriesIndices.indexOf(i)<0&&(e[i]=0,n++)}),r.globals.allSeriesCollapsed=n===e.length,e}}]),t}(),M3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new $ke(this)}return Re(t,[{key:"init",value:function(){var e=this.w,r=e.globals,n=e.config,a=n.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!r.axisCharts)&&n.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var r=e.i,n=e.fillcolor,a=this.w,i=document.createElement("span");i.classList.add("apexcharts-legend-marker");var s=a.config.legend.markers.shape||a.config.markers.shape,o=s;Array.isArray(s)&&(o=s[r]);var l=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[r]):parseFloat(a.config.legend.markers.size),c=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[r]):parseFloat(a.config.legend.markers.offsetX),u=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[r]):parseFloat(a.config.legend.markers.offsetY),f=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[r]):parseFloat(a.config.legend.markers.strokeWidth),h=i.style;if(h.height=2*(l+f)+"px",h.width=2*(l+f)+"px",h.left=c+"px",h.top=u+"px",a.config.legend.markers.customHTML)h.background="transparent",h.color=n[r],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[r]&&(i.innerHTML=a.config.legend.markers.customHTML[r]()):i.innerHTML=a.config.legend.markers.customHTML();else{var d=new Uu(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:r,strokeWidth:f,size:l}),g=window.SVG().addTo(i).size("100%","100%"),p=new ye(this.ctx).drawMarker(0,0,Ae(Ae({},d),{},{pointFillColor:Array.isArray(n)?n[r]:d.pointFillColor,shape:o}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(m){m.node.classList.contains("apexcharts-marker-triangle")?m.node.style.transform="translate(50%, 45%)":m.node.style.transform="translate(50%, 50%)"}),g.add(p)}return i}},{key:"drawLegends",value:function(){var e=this,r=this,n=this.w,a=n.config.legend.fontFamily,i=n.globals.seriesNames,s=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var o=n.config.plotOptions.heatmap.colorScale.ranges;i=o.map(function(d){return d.name?d.name:d.from+" - "+d.to}),s=o.map(function(d){return d.color})}else this.isBarsDistributed&&(i=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(i=n.config.legend.customLegendItems);var l=n.globals.legendFormatter,c=n.config.legend.inverseOrder,u=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(d,g){u[g]=document.createElement("div"),u[g].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(g)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[g].classList.add("apexcharts-legend-group-vertical")});for(var f=function(d){var g,p=l(i[d],{seriesIndex:d,w:n}),m=!1,v=!1;if(n.globals.collapsedSeries.length>0)for(var y=0;y<n.globals.collapsedSeries.length;y++)n.globals.collapsedSeries[y].index===d&&(m=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<n.globals.ancillaryCollapsedSeriesIndices.length;b++)n.globals.ancillaryCollapsedSeriesIndices[b]===d&&(v=!0);var S=e.createLegendMarker({i:d,fillcolor:s});ye.setAttrs(S,{rel:d+1,"data:collapsed":m||v}),(m||v)&&S.classList.add("apexcharts-inactive-legend");var w=document.createElement("div"),_=document.createElement("span");_.classList.add("apexcharts-legend-text"),_.innerHTML=Array.isArray(p)?p.join(" "):p;var k=n.config.legend.labels.useSeriesColors?n.globals.colors[d]:Array.isArray(n.config.legend.labels.colors)?(g=n.config.legend.labels.colors)===null||g===void 0?void 0:g[d]:n.config.legend.labels.colors;k||(k=n.config.chart.foreColor),_.style.color=k,_.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",_.style.fontWeight=n.config.legend.fontWeight,_.style.fontFamily=a||n.config.chart.fontFamily,ye.setAttrs(_,{rel:d+1,i:d,"data:default-text":encodeURIComponent(p),"data:collapsed":m||v}),w.appendChild(S),w.appendChild(_);var A=new dr(e.ctx);n.config.legend.showForZeroSeries||A.getSeriesTotalByIndex(d)===0&&A.seriesHaveSameValues(d)&&!A.isSeriesNull(d)&&n.globals.collapsedSeriesIndices.indexOf(d)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(d)===-1&&w.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||A.isSeriesNull(d)&&n.globals.collapsedSeriesIndices.indexOf(d)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(d)===-1&&w.classList.add("apexcharts-hidden-null-series"),u.length?n.globals.seriesGroups.forEach(function(E,C){var T;E.includes((T=n.config.series[d])===null||T===void 0?void 0:T.name)&&(n.globals.dom.elLegendWrap.appendChild(u[C]),u[C].appendChild(w))}):n.globals.dom.elLegendWrap.appendChild(w),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),w.classList.add("apexcharts-legend-series"),w.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",ye.setAttrs(w,{rel:d+1,seriesName:ne.escapeString(i[d]),"data:collapsed":m||v}),(m||v)&&w.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||w.classList.add("apexcharts-no-click")},h=c?i.length-1:0;c?h>=0:h<=i.length-1;c?h--:h++)f(h);n.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,r){var n=this.w,a=n.globals.dom.elLegendWrap,i=a.clientHeight,s=0,o=0;if(n.config.legend.position==="bottom")o=n.globals.svgHeight-Math.min(i,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var l=new dm(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}a.style.position="absolute",s=s+e+n.config.legend.offsetX,o=o+r+n.config.legend.offsetY,a.style.left=s+"px",a.style.top=o+"px",n.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(f){a.style[f]&&(a.style[f]=parseInt(n.config.legend[f],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var r=new dm(this.ctx),n=r.dimHelpers.getTitleSubtitleCoords("title"),a=r.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;e.config.legend.position==="top"&&(i=n.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,r=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-r.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var r=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Ia(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Ia(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var r=this.w;if(!r.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",i=this.w.config.chart.events.legendClick;typeof i=="function"&&i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var s=this.w.config.legend.markers.onClick;typeof s=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,a)}}}]),t}(),D3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return Re(t,[{key:"createToolbar",value:function(){var e=this,r=this.w,n=function(){return document.createElement("div")},a=n();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=r.config.chart.toolbar.offsetY+"px",a.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(a),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(n());var s=[],o=function(f,h,d){var g=f.toLowerCase();e.t[g]&&r.config.chart.zoom.enabled&&s.push({el:h,icon:typeof e.t[g]=="string"?e.t[g]:d,title:e.localeValues[f],class:"apexcharts-".concat(g,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(f){e.t[f]&&r.config.chart[f].enabled&&s.push({el:f==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[f]=="string"?e.t[f]:f==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[f==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(f,"-icon")})};l("zoom"),l("selection"),this.t.pan&&r.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&s.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)s.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});s.forEach(function(f,h){f.index&&ne.moveIndexInArray(s,h,f.index)});for(var u=0;u<s.length;u++)ye.setAttrs(s[u].el,{class:s[u].class,title:s[u].title}),s[u].el.innerHTML=s[u].icon,a.appendChild(s[u].el);this._createHamburgerMenu(a),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),ye.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<r.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=r[n].title,ye.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(r[n].name),title:r[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var n=e==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[a]=!r.w.globals[a],n.classList.contains(r.ctx.toolbar.selectedClass)?n.classList.remove(r.ctx.toolbar.selectedClass):n.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var r=(this.minX+this.maxX)/2,n=(this.minX+r)/2,a=(this.maxX+r)/2,i=this._getNewMinXMaxX(n,a);e.globals.disableZoomIn||this.zoomUpdateOptions(i.minX,i.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,n=this.minX-(r-this.minX),a=this.maxX-(r-this.maxX),i=this._getNewMinXMaxX(n,a);e.globals.disableZoomOut||this.zoomUpdateOptions(i.minX,i.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,r){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(e,r){var n=this.w;if(e!==void 0||r!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,r=n.globals.dataPoints),r-e<2))){var a={min:e,max:r},i=this.getBeforeZoomRange(a);i&&(a=i.xaxis);var s={xaxis:a},o=ne.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(s.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,r){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:r}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:r}))}},{key:"getBeforeZoomRange",value:function(e,r){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:r})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var r=this.w,n=new ah(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(r){var n=r.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,r.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var a=n.config.chart.events.beforeResetZoom(r,n);a&&r.updateHelpers.revertDefaultAxisMinMax(a)}typeof n.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var i=r.ctx.series.emptyCollapsedSeries(ne.clone(n.globals.initialSeries));r.updateHelpers._updateSeries(i,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),zke=function(t){Jd(r,D3);var e=Kd(r);function r(n){var a;return De(this,r),(a=e.call(this,n)).ctx=n,a.w=n.w,a.dragged=!1,a.graphics=new ye(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return Re(r,[{key:"init",value:function(n){var a=this,i=n.xyRatios,s=this.w,o=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new fr(0,0,s.globals.gridWidth,s.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.Paper.add(this.zoomRect),s.globals.dom.Paper.add(this.selectionRect),s.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):s.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){a.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,i),{capture:!1,passive:!0})}),s.config.chart.zoom.enabled&&s.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,a){var i=this.w,s=this.ctx.toolbar,o=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,l=i.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,s.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(s.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),a.target){var c,u=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(c=a.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var f=this.gridRect.getBoundingClientRect();this.startX=this.clientX-f.left-i.globals.barPadForNumericAxis,this.startY=this.clientY-f.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:n})):(this.w.globals.mousedown&&i.globals.zoomEnabled||this.w.globals.mousedown&&i.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var a,i=n.zoomtype,s=n.isResized,o=this.w,l=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();l&&(this.w.globals.mousedown||s)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:i})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var a=this,i=this.w;n.preventDefault();var s=Date.now();s-i.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),i.globals.lastWheelExecution=s),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){s-i.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(n),i.globals.lastWheelExecution=s)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var a,i=this.w;this.minX=i.globals.isRangeBar?i.globals.minY:i.globals.minX,this.maxX=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;var s=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(s){var o,l,c,u=(n.clientX-s.left)/s.width,f=this.minX,h=this.maxX,d=h-f;if(n.deltaY<0){var g=f+u*d;l=g-(o=.5*d)/2,c=g+o/2}else l=f-(o=1.5*d)/2,c=h+o/2;if(!i.globals.isRangeBar){l=Math.max(l,i.globals.initialMinX),c=Math.min(c,i.globals.initialMaxX);var p=.01*(i.globals.initialMaxX-i.globals.initialMinX);if(c-l<p){var m=(l+c)/2;l=m-p/2,c=m+p/2}}var v=this._getNewMinXMaxX(l,c);isNaN(v.minX)||isNaN(v.maxX)||this.zoomUpdateOptions(v.minX,v.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,a=this.w;if(this.selectionRect){var i=this.selectionRect.node.getBoundingClientRect();i.width>0&&i.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(s,o,l,c,u){return u==="l"||u==="r"?s.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):s.circle(0)},updateHandle:function(s,o){return s.center(o[0],o[1])}}).resize().on("resize",function(){var s=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;n.handleMouseUp({zoomtype:s,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,a=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(Ae(Ae({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var i=(n.config.chart.selection.xaxis.min-n.globals.minX)/a.xRatio,s=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/a.xRatio-i;n.globals.isRangeBar&&(i=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/a.invertedYRatio,s=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/a.invertedYRatio);var o={x:i,y:0,width:s,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.translateX,c=l===void 0?0:l,u=n.translateY,f=u===void 0?0:u,h=this.w,d=this.zoomRect,g=this.selectionRect;if(this.dragged||h.globals.selection!==null){var p={transform:"translate("+c+", "+f+")"};h.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),d.attr({x:a,y:i,width:s,height:o,fill:h.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":h.config.chart.zoom.zoomedArea.fill.opacity,stroke:h.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":h.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":h.config.chart.zoom.zoomedArea.stroke.opacity}),ye.setAttrs(d.node,p)),h.globals.selectionEnabled&&(g.attr({x:a,y:i,width:s>0?s:0,height:o>0?o:0,fill:h.config.chart.selection.fill.color,"fill-opacity":h.config.chart.selection.fill.opacity,stroke:h.config.chart.selection.stroke.color,"stroke-width":h.config.chart.selection.stroke.width,"stroke-dasharray":h.config.chart.selection.stroke.dashArray,"stroke-opacity":h.config.chart.selection.stroke.opacity}),ye.setAttrs(g.node,p))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var a=n.context,i=n.zoomtype,s=this.w,o=a,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,f=!1,h=!1,d=o.clientX-l.left-s.globals.barPadForNumericAxis,g=o.clientY-l.top,p=d-c,m=g-u,v={translateX:s.globals.translateX,translateY:s.globals.translateY};return Math.abs(p+c)>s.globals.gridWidth?p=s.globals.gridWidth-c:d<0&&(p=c),c>d&&(f=!0,p=Math.abs(p)),u>g&&(h=!0,m=Math.abs(m)),v=Ae(Ae({},v=i==="x"?{x:f?c-p:c,y:0,width:p,height:s.globals.gridHeight}:i==="y"?{x:0,y:h?u-m:u,width:s.globals.gridWidth,height:m}:{x:f?c-p:c,y:h?u-m:u,width:p,height:m}),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}),o.drawSelectionRect(v),o.selectionDragging("resizing"),v}},{key:"selectionDragging",value:function(n,a){var i=this,s=this.w;if(a){a.preventDefault();var o=a.detail,l=o.handler,c=o.box,u=c.x,f=c.y;u<this.constraints.x&&(u=this.constraints.x),f<this.constraints.y&&(f=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(f=this.constraints.y2-c.h),l.move(u,f);var h=this.xyRatios,d=this.selectionRect,g=0;n==="resizing"&&(g=30);var p=function(v){return parseFloat(d.node.getAttribute(v))},m={x:p("x"),y:p("y"),width:p("width"),height:p("height")};s.globals.selection=m,typeof s.config.chart.events.selection=="function"&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var v,y,b,S,w=i.gridRect.getBoundingClientRect(),_=d.node.getBoundingClientRect();s.globals.isRangeBar?(v=s.globals.yAxisScale[0].niceMin+(_.left-w.left)*h.invertedYRatio,y=s.globals.yAxisScale[0].niceMin+(_.right-w.left)*h.invertedYRatio,b=0,S=1):(v=s.globals.xAxisScale.niceMin+(_.left-w.left)*h.xRatio,y=s.globals.xAxisScale.niceMin+(_.right-w.left)*h.xRatio,b=s.globals.yAxisScale[0].niceMin+(w.bottom-_.bottom)*h.yRatio[0],S=s.globals.yAxisScale[0].niceMax-(_.top-w.top)*h.yRatio[0]);var k={xaxis:{min:v,max:y},yaxis:{min:b,max:S}};s.config.chart.events.selection(i.ctx,k),s.config.chart.brush.enabled&&s.config.chart.events.brushScrolled!==void 0&&s.config.chart.events.brushScrolled(i.ctx,k)},g))}}},{key:"selectionDrawn",value:function(n){var a,i,s=n.context,o=n.zoomtype,l=this.w,c=s,u=this.xyRatios,f=this.ctx.toolbar,h=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),d=c.gridRect.getBoundingClientRect(),g=h.left-d.left-l.globals.barPadForNumericAxis,p=h.right-d.left-l.globals.barPadForNumericAxis,m=h.top-d.top,v=h.bottom-d.top;l.globals.isRangeBar?(a=l.globals.yAxisScale[0].niceMin+g*u.invertedYRatio,i=l.globals.yAxisScale[0].niceMin+p*u.invertedYRatio):(a=l.globals.xAxisScale.niceMin+g*u.xRatio,i=l.globals.xAxisScale.niceMin+p*u.xRatio);var y=[],b=[];if(l.config.yaxis.forEach(function(C,T){var O=l.globals.seriesYAxisMap[T][0],N=l.globals.yAxisScale[T].niceMax-u.yRatio[O]*m,z=l.globals.yAxisScale[T].niceMax-u.yRatio[O]*v;y.push(N),b.push(z)}),c.dragged&&(c.dragX>10||c.dragY>10)&&a!==i){if(l.globals.zoomEnabled){var S=ne.clone(l.globals.initialConfig.yaxis),w=ne.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),i=Math.floor(i),a<1&&(a=1,i=l.globals.dataPoints),i-a<2&&(i=a+1)),o!=="xy"&&o!=="x"||(w={min:a,max:i}),o!=="xy"&&o!=="y"||S.forEach(function(C,T){S[T].min=b[T],S[T].max=y[T]}),f){var _=f.getBeforeZoomRange(w,S);_&&(w=_.xaxis?_.xaxis:w,S=_.yaxis?_.yaxis:S)}var k={xaxis:w};l.config.chart.group||(k.yaxis=S),c.ctx.updateHelpers._updateOptions(k,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&f.zoomCallback(w,S)}else if(l.globals.selectionEnabled){var A,E=null;A={min:a,max:i},o!=="xy"&&o!=="y"||(E=ne.clone(l.config.yaxis)).forEach(function(C,T){E[T].min=b[T],E[T].max=y[T]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:A,yaxis:E})}}}},{key:"panDragging",value:function(n){var a=n.context,i=this.w,s=a;if(i.globals.lastClientPosition.x!==void 0){var o=i.globals.lastClientPosition.x-s.clientX,l=i.globals.lastClientPosition.y-s.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:s.clientX,y:s.clientY};var c=i.globals.isRangeBar?i.globals.minY:i.globals.minX,u=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;s.panScrolled(c,u)}},{key:"panScrolled",value:function(n,a){var i=this.w,s=this.xyRatios,o=ne.clone(i.globals.initialConfig.yaxis),l=s.xRatio,c=i.globals.minX,u=i.globals.maxX;i.globals.isRangeBar&&(l=s.invertedYRatio,c=i.globals.minY,u=i.globals.maxY),this.moveDirection==="left"?(n=c+i.globals.gridWidth/15*l,a=u+i.globals.gridWidth/15*l):this.moveDirection==="right"&&(n=c-i.globals.gridWidth/15*l,a=u-i.globals.gridWidth/15*l),i.globals.isRangeBar||(n<i.globals.initialMinX||a>i.globals.initialMaxX)&&(n=c,a=u);var f={xaxis:{min:n,max:a}};i.config.chart.group||(f.yaxis=o),this.updateScrolledChart(f,n,a)}},{key:"updateScrolledChart",value:function(n,a,i){var s=this.w;if(this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof s.config.chart.events.scrolled=="function"){var o={xaxis:{min:a,max:i}};s.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),r}(),R3=function(){function t(e){De(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Re(t,[{key:"getNearestValues",value:function(e){var r=e.hoverArea,n=e.elGrid,a=e.clientX,i=e.clientY,s=this.w,o=n.getBoundingClientRect(),l=o.width,c=o.height,u=l/(s.globals.dataPoints-1),f=c/s.globals.dataPoints,h=this.hasBars();!s.globals.comboCharts&&!h||s.config.xaxis.convertedCatToNumeric||(u=l/s.globals.dataPoints);var d=a-o.left-s.globals.barPadForNumericAxis,g=i-o.top;d<0||g<0||d>l||g>c?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):s.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):s.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var p=Math.round(d/u),m=Math.floor(g/f);h&&!s.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(d/u),p-=1);var v=null,y=null,b=s.globals.seriesXvalues.map(function(A){return A.filter(function(E){return ne.isNumber(E)})}),S=s.globals.seriesYvalues.map(function(A){return A.filter(function(E){return ne.isNumber(E)})});if(s.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),_=d*(w.width/l),k=g*(w.height/c);v=(y=this.closestInMultiArray(_,k,b,S)).index,p=y.j,v!==null&&s.globals.hasNullValues&&(b=s.globals.seriesXvalues[v],p=(y=this.closestInArray(_,b)).j)}return s.globals.capturedSeriesIndex=v===null?-1:v,(!p||p<1)&&(p=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=m:s.globals.capturedDataPointIndex=p,{capturedSeries:v,j:s.globals.isBarHorizontal?m:p,hoverX:d,hoverY:g}}},{key:"getFirstActiveXArray",value:function(e){for(var r=this.w,n=0,a=e.map(function(s,o){return s.length>0?o:-1}),i=0;i<a.length;i++)if(a[i]!==-1&&r.globals.collapsedSeriesIndices.indexOf(i)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1){n=a[i];break}return n}},{key:"closestInMultiArray",value:function(e,r,n,a){for(var i,s=this.w,o=1/0,l=null,c=null,u=0;u<n.length;u++)if(i=u,s.globals.collapsedSeriesIndices.indexOf(i)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(i)===-1)for(var f=n[u],h=a[u],d=Math.min(f.length,h.length),g=0;g<d;g++){var p=e-f[g],m=Math.sqrt(p*p);if(!s.globals.allSeriesHasEqualX){var v=r-h[g];m=Math.sqrt(p*p+v*v)}m<o&&(o=m,l=u,c=g)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,r){for(var n=r[0],a=null,i=Math.abs(e-n),s=0;s<r.length;s++){var o=Math.abs(e-r[s]);o<i&&(i=o,a=s)}return{j:a}}},{key:"isXoverlap",value:function(e){var r=[],n=this.w.globals.seriesX.filter(function(i){return i[0]!==void 0});if(n.length>0)for(var a=0;a<n.length-1;a++)n[a][e]!==void 0&&n[a+1][e]!==void 0&&n[a][e]!==n[a+1][e]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,r=this.w.globals.initialSeries,n=0;n<r.length-1;n++)if(r[n].data.length!==r[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Mr(e).reduce(function(r,n){return r+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=Mr(n),r&&(n=n.filter(function(i){var s=Number(i.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(s)===-1})),n.sort(function(i,s){var o=Number(i.getAttribute("data:realIndex")),l=Number(s.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var a=[];return n.forEach(function(i){a.push(i.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,r){var n=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),i=e.getAttribute("shape");return new ye(this.ctx).getMarkerPath(n,a,i,r)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var r=this.w,n=r.config.markers.hover.size;return n===void 0&&(n=r.globals.markers.size[e]+r.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var r=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=n.allTooltipSeriesGroups,i=0;i<a.length;i++)e==="enable"?(a[i].classList.add("apexcharts-active"),a[i].style.display=r.config.tooltip.items.display):(a[i].classList.remove("apexcharts-active"),a[i].style.display="none")}}]),t}(),Wke=function(){function t(e){De(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new R3(e)}return Re(t,[{key:"drawSeriesTexts",value:function(e){var r=e.shared,n=r===void 0||r,a=e.ttItems,i=e.i,s=i===void 0?0:i,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,f=e.e,h=this.w;h.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:s,j:l,y1:c,y2:u,w:h}):this.toggleActiveInactiveSeries(n,s);var d=this.getValuesToPrint({i:s,j:l});this.printLabels({i:s,j:l,values:d,ttItems:a,shared:n,e:f});var g=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=g.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=g.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var r,n=this,a=e.i,i=e.j,s=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,f=[],h=function(w){return u.globals.seriesGoals[w]&&u.globals.seriesGoals[w][i]&&Array.isArray(u.globals.seriesGoals[w][i])},d=s.xVal,g=s.zVal,p=s.xAxisTTVal,m="",v=u.globals.colors[a];i!==null&&u.config.plotOptions.bar.distributed&&(v=u.globals.colors[i]);for(var y=function(w,_){var k=n.getFormatters(a);m=n.getSeriesName({fn:k.yLbTitleFormatter,index:a,seriesIndex:a,j:i}),u.config.chart.type==="treemap"&&(m=k.yLbTitleFormatter(String(u.config.series[a].data[i].x),{series:u.globals.series,seriesIndex:a,dataPointIndex:i,w:u}));var A=u.config.tooltip.inverseOrder?_:w;if(u.globals.axisCharts){var E=function(O){var N,z,W,F;return u.globals.isRangeData?k.yLbFormatter((N=u.globals.seriesRangeStart)===null||N===void 0||(z=N[O])===null||z===void 0?void 0:z[i],{series:u.globals.seriesRangeStart,seriesIndex:O,dataPointIndex:i,w:u})+" - "+k.yLbFormatter((W=u.globals.seriesRangeEnd)===null||W===void 0||(F=W[O])===null||F===void 0?void 0:F[i],{series:u.globals.seriesRangeEnd,seriesIndex:O,dataPointIndex:i,w:u}):k.yLbFormatter(u.globals.series[O][i],{series:u.globals.series,seriesIndex:O,dataPointIndex:i,w:u})};if(l)k=n.getFormatters(A),m=n.getSeriesName({fn:k.yLbTitleFormatter,index:A,seriesIndex:a,j:i}),v=u.globals.colors[A],r=E(A),h(A)&&(f=u.globals.seriesGoals[A][i].map(function(O){return{attrs:O,val:k.yLbFormatter(O.value,{seriesIndex:A,dataPointIndex:i,w:u})}}));else{var C,T=c==null||(C=c.target)===null||C===void 0?void 0:C.getAttribute("fill");T&&(T.indexOf("url")!==-1?T.indexOf("Pattern")!==-1&&(v=u.globals.dom.baseEl.querySelector(T.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):v=T),r=E(a),h(a)&&Array.isArray(u.globals.seriesGoals[a][i])&&(f=u.globals.seriesGoals[a][i].map(function(O){return{attrs:O,val:k.yLbFormatter(O.value,{seriesIndex:a,dataPointIndex:i,w:u})}}))}}i===null&&(r=k.yLbFormatter(u.globals.series[a],Ae(Ae({},u),{},{seriesIndex:a,dataPointIndex:a}))),n.DOMHandling({i:a,t:A,j:i,ttItems:o,values:{val:r,goalVals:f,xVal:d,xAxisTTVal:p,zVal:g},seriesName:m,shared:l,pColor:v})},b=0,S=u.globals.series.length-1;b<u.globals.series.length;b++,S--)y(b,S)}},{key:"getFormatters",value:function(e){var r,n=this.w,a=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(a=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,r=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(a=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(r=n.globals.ttVal.title.formatter)):r=n.config.tooltip.y.title.formatter,typeof a!="function"&&(a=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(i){return i}),typeof r!="function"&&(r=function(i){return i?i+": ":""}),{yLbFormatter:a,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(e){var r=e.fn,n=e.index,a=e.seriesIndex,i=e.j,s=this.w;return r(String(s.globals.seriesNames[n]),{series:s.globals.series,seriesIndex:a,dataPointIndex:i,w:s})}},{key:"DOMHandling",value:function(e){e.i;var r=e.t,n=e.j,a=e.ttItems,i=e.values,s=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,f=i.val,h=i.goalVals,d=i.xVal,g=i.xAxisTTVal,p=i.zVal,m=null;m=a[r].children,c.config.tooltip.fillSeriesColor&&(a[r].style.backgroundColor=l,m[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=d),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=g!==""?g:d);var v=a[r].querySelector(".apexcharts-tooltip-text-y-label");v&&(v.innerHTML=s||"");var y=a[r].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=f!==void 0?f:""),m[0]&&m[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[r]),c.config.tooltip.fillSeriesColor?m[0].style.backgroundColor=l:m[0].style.color=l),c.config.tooltip.marker.show||(m[0].style.display="none");var b=a[r].querySelector(".apexcharts-tooltip-text-goals-label"),S=a[r].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&c.globals.seriesGoals[r]){var w=function(){var A="<div>",E="<div>";h.forEach(function(C,T){A+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(C.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(C.attrs.name,"</div>"),E+="<div>".concat(C.val,"</div>")}),b.innerHTML=A+"</div>",S.innerHTML=E+"</div>"};o?c.globals.seriesGoals[r][n]&&Array.isArray(c.globals.seriesGoals[r][n])?w():(b.innerHTML="",S.innerHTML=""):w()}else b.innerHTML="",S.innerHTML="";if(p!==null&&(a[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,a[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=p!==void 0?p:""),o&&m[0]){if(c.config.tooltip.hideEmptySeries){var _=a[r].querySelector(".apexcharts-tooltip-marker"),k=a[r].querySelector(".apexcharts-tooltip-text");parseFloat(f)==0?(_.style.display="none",k.style.display="none"):(_.style.display="block",k.style.display="block")}f==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||c.globals.collapsedSeriesIndices.indexOf(r)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(r)===-1?m[0].parentNode.style.display="none":m[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(r)===-1&&(m[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,r){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(r));a&&(a.classList.add("apexcharts-active"),a.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var r=e.i,n=e.j,a=this.w,i=this.ctx.series.filteredSeriesX(),s="",o="",l=null,c=null,u={series:a.globals.series,seriesIndex:r,dataPointIndex:n,w:a},f=a.globals.ttZFormatter;n===null?c=a.globals.series[r]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(s=i[r][n],i[r].length===0&&(s=i[this.tooltipUtil.getFirstActiveXArray(i)][n])):s=new Hk(this.ctx).isFormatXY()?a.config.series[r].data[n]!==void 0?a.config.series[r].data[n].x:"":a.globals.labels[n]!==void 0?a.globals.labels[n]:"";var h=s;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?s=new t0(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new qr(this.ctx).formatDate,w:this.w}):s=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](h,u):a.globals.xLabelFormatter(h,u),a.config.tooltip.x.formatter!==void 0&&(s=a.globals.ttKeyFormatter(h,u)),a.globals.seriesZ.length>0&&a.globals.seriesZ[r].length>0&&(l=f(a.globals.seriesZ[r][n],a)),o=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(h,u):s,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var r=e.i,n=e.j,a=e.y1,i=e.y2,s=e.w,o=this.ttCtx.getElTooltip(),l=s.config.tooltip.custom;Array.isArray(l)&&l[r]&&(l=l[r]);var c=l({ctx:this.ctx,series:s.globals.series,seriesIndex:r,dataPointIndex:n,y1:a,y2:i,w:s});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),t}(),L3=function(){function t(e){De(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Re(t,[{key:"moveXCrosshairs",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,a=this.w,i=n.getElXCrosshairs(),s=e-n.xcrosshairsWidth/2,o=a.globals.labels.slice().length;if(r!==null&&(s=a.globals.gridWidth/o*r),i===null||a.globals.isBarHorizontal||(i.setAttribute("x",s),i.setAttribute("x1",s),i.setAttribute("x2",s),i.setAttribute("y2",a.globals.gridHeight),i.classList.add("apexcharts-active")),s<0&&(s=0),s>a.globals.gridWidth&&(s=a.globals.gridWidth),n.isXAxisTooltipEnabled){var l=s;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(l=s+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var r=this.ttCtx;r.ycrosshairs!==null&&ye.setAttrs(r.ycrosshairs,{y1:e,y2:e}),r.ycrosshairsHidden!==null&&ye.setAttrs(r.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var a=n.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=r.globals.translateX;var i;i=new ye(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var r=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),i=r.globals.translateY+a,s=n.yaxisTTEls[e].getBoundingClientRect(),o=s.height,l=r.globals.translateYAxisX[e]-2;r.config.yaxis[e].opposite&&(l-=s.width),i-=o/2,r.globals.ignoreYAxisIndexes.indexOf(e)===-1&&i>0&&i<r.globals.gridHeight?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=i+"px",n.yaxisTTEls[e].style.left=l+r.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,i=this.ttCtx,s=i.getElTooltip(),o=i.tooltipRect,l=n!==null?parseFloat(n):1,c=parseFloat(e)+l+5,u=parseFloat(r)+l/2;if(c>a.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>a.globals.gridWidth-o.ttWidth-10&&(c=a.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),a.config.tooltip.followCursor){var f=i.getElGrid().getBoundingClientRect();(c=i.e.clientX-f.left)>a.globals.gridWidth/2&&(c-=i.tooltipRect.ttWidth),(u=i.e.clientY+a.globals.translateY-f.top)>a.globals.gridHeight/2&&(u-=i.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||o.ttHeight/2+u>a.globals.gridHeight&&(u=a.globals.gridHeight-o.ttHeight+a.globals.translateY);isNaN(c)||(c+=a.globals.translateX,s.style.left=c+"px",s.style.top=u+"px")}},{key:"moveMarkers",value:function(e,r){var n=this.w,a=this.ttCtx;if(n.globals.markers.size[e]>0)for(var i=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),s=0;s<i.length;s++)parseInt(i[s].getAttribute("rel"),10)===r&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(r,i[s]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,e)}},{key:"moveDynamicPointOnHover",value:function(e,r){var n,a,i,s,o=this.w,l=this.ttCtx,c=new ye(this.ctx),u=o.globals.pointsArray,f=l.tooltipUtil.getHoverMarkerSize(r),h=o.config.series[r].type;if(!h||h!=="column"&&h!=="candlestick"&&h!=="boxPlot"){i=(n=u[r][e])===null||n===void 0?void 0:n[0],s=((a=u[r][e])===null||a===void 0?void 0:a[1])||0;var d=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers path"));if(d&&s<o.globals.gridHeight&&s>0){var g=d.getAttribute("shape"),p=c.getMarkerPath(i,s,g,1.5*f);d.setAttribute("d",p)}this.moveXCrosshairs(i),l.fixedTooltip||this.moveTooltip(i,s,f)}}},{key:"moveDynamicPointsOnHover",value:function(e){var r,n=this.ttCtx,a=n.w,i=0,s=0,o=a.globals.pointsArray,l=new Ia(this.ctx),c=new ye(this.ctx);r=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=n.tooltipUtil.getHoverMarkerSize(r);if(o[r]&&(i=o[r][e][0],s=o[r][e][1]),!isNaN(i)){var f=n.tooltipUtil.getAllMarkers();if(f.length)for(var h=0;h<a.globals.series.length;h++){var d=o[h];if(a.globals.comboCharts&&d===void 0&&f.splice(h,0,null),d&&d.length){var g=o[h][e][1],p=void 0;f[h].setAttribute("cx",i);var m=f[h].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var v=e+a.globals.series[h].length;p=o[h][v][1],g-=Math.abs(g-p)/2}if(g!==null&&!isNaN(g)&&g<a.globals.gridHeight+u&&g+u>0){var y=c.getMarkerPath(i,g,m,u);f[h].setAttribute("d",y)}else f[h].setAttribute("d","")}}this.moveXCrosshairs(i),n.fixedTooltip||this.moveTooltip(i,s||a.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,r){var n=this.w,a=this.ttCtx,i=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(i=n.globals.barGroups.length);var s=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;n.globals.isBarHorizontal&&(s=new Ia(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(s,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(e,"']"));o||typeof r!="number"||(o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,f=a.getElGrid().getBoundingClientRect(),h=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(o&&!h&&(l-=i%2!=0?u/2:0),o&&h&&(l-=u/2)):n.globals.isBarHorizontal||(l=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(l)&&(l=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?c-=a.tooltipRect.ttHeight:n.config.tooltip.followCursor?c=a.e.clientY-f.top-a.tooltipRect.ttHeight/2:c+a.tooltipRect.ttHeight+15>n.globals.gridHeight&&(c=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(l),a.fixedTooltip||this.moveTooltip(l,c||n.globals.gridHeight)}}]),t}(),Uke=function(){function t(e){De(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new L3(e)}return Re(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,r=new ye(this.ctx),n=new Uu(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=Mr(a),e.config.chart.stacked&&a.sort(function(f,h){return parseFloat(f.getAttribute("data:realIndex"))-parseFloat(h.getAttribute("data:realIndex"))});for(var i=0;i<a.length;i++){var s=a[i].querySelector(".apexcharts-series-markers-wrap");if(s!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=n.getMarkerConfig({cssClass:l,seriesIndex:Number(s.getAttribute("data:realIndex"))});(o=r.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),s.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=this.w;i.config.chart.type!=="bubble"&&this.newPointSize(e,r);var s=r.getAttribute("cx"),o=r.getAttribute("cy");if(n!==null&&a!==null&&(s=n,o=a),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if(i.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();s=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(s,o,i.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var r=this.w,n=this,a=this.ttCtx,i=e,s=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=r.config.markers.hover.size,l=0;l<s.length;l++){var c=s[l].getAttribute("rel"),u=s[l].getAttribute("index");if(o===void 0&&(o=r.globals.markers.size[u]+r.config.markers.hover.sizeOffset),i===parseInt(c,10)){n.newPointSize(i,s[l]);var f=s[l].getAttribute("cx"),h=s[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(f),a.fixedTooltip||n.tooltipPosition.moveTooltip(f,h,o)}else n.oldPointSize(s[l])}}},{key:"newPointSize",value:function(e,r){var n=this.w,a=n.config.markers.hover.size,i=e===0?r.parentNode.firstChild:r.parentNode.lastChild;if(i.getAttribute("default-marker-size")!=="0"){var s=parseInt(i.getAttribute("index"),10);a===void 0&&(a=n.globals.markers.size[s]+n.config.markers.hover.sizeOffset),a<0&&(a=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(r,a);r.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var r=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,r);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<e.length;r++){var n=parseFloat(e[r].getAttribute("default-marker-size"));if(ne.isNumber(n)&&n>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[r],n);e[r].setAttribute("d",a)}else e[r].setAttribute("d","M0,0")}}}]),t}(),Hke=function(){function t(e){De(this,t),this.w=e.w;var r=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.config.chart.type==="rangeBar"&&r.config.plotOptions.bar.rangeBarGroupRows}return Re(t,[{key:"getAttr",value:function(e,r){return parseFloat(e.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(e){var r=e.e,n=e.opt,a=e.x,i=e.y,s=e.type,o=this.ttCtx,l=this.w;if(r.target.classList.contains("apexcharts-".concat(s,"-rect"))){var c=this.getAttr(r,"i"),u=this.getAttr(r,"j"),f=this.getAttr(r,"cx"),h=this.getAttr(r,"cy"),d=this.getAttr(r,"width"),g=this.getAttr(r,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:c,j:u,shared:!1,e:r}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,a=f+o.tooltipRect.ttWidth/2+d,i=h+o.tooltipRect.ttHeight/2-g/2,o.tooltipPosition.moveXCrosshairs(f+d/2),a>l.globals.gridWidth/2&&(a=f-o.tooltipRect.ttWidth/2+d),o.w.config.tooltip.followCursor){var p=l.globals.dom.elWrap.getBoundingClientRect();a=l.globals.clientX-p.left-(a>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),i=l.globals.clientY-p.top-(i>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:a,y:i}}},{key:"handleMarkerTooltip",value:function(e){var r,n,a=e.e,i=e.opt,s=e.x,o=e.y,l=this.w,c=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var u=parseInt(i.paths.getAttribute("cx"),10),f=parseInt(i.paths.getAttribute("cy"),10),h=parseFloat(i.paths.getAttribute("val"));if(n=parseInt(i.paths.getAttribute("rel"),10),r=parseInt(i.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var d=ne.findAncestor(i.paths,"apexcharts-series");d&&(r=parseInt(d.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:r,j:n,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:a}),a.type==="mouseup"&&c.markerClick(a,r,n),l.globals.capturedSeriesIndex=r,l.globals.capturedDataPointIndex=n,s=u,o=f+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var g=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-g.top}h<0&&(o=f),c.marker.enlargeCurrentPoint(n,i.paths,s,o)}return{x:s,y:o}}},{key:"handleBarTooltip",value:function(e){var r,n,a=e.e,i=e.opt,s=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,f=0,h=this.getBarTooltipXY({e:a,opt:i});if(h.j!==null||h.barHeight!==0||h.barWidth!==0){r=h.i;var d=h.j;if(s.globals.capturedSeriesIndex=r,s.globals.capturedDataPointIndex=d,s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!s.config.tooltip.shared?(u=h.x,f=h.y,n=Array.isArray(s.config.stroke.width)?s.config.stroke.width[r]:s.config.stroke.width,c=u):s.globals.comboCharts||s.config.tooltip.shared||(c/=2),isNaN(f)&&(f=s.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(i.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>s.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var g=o.getElGrid().getBoundingClientRect();f=o.e.clientY-g.top}o.tooltip===null&&(o.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+n/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(f=f+s.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+s.globals.translateX+"px",l.style.top=f+"px")}}},{key:"getBarTooltipXY",value:function(e){var r=this,n=e.e,a=e.opt,i=this.w,s=null,o=this.ttCtx,l=0,c=0,u=0,f=0,h=0,d=n.target.classList;if(d.contains("apexcharts-bar-area")||d.contains("apexcharts-candlestick-area")||d.contains("apexcharts-boxPlot-area")||d.contains("apexcharts-rangebar-area")){var g=n.target,p=g.getBoundingClientRect(),m=a.elGrid.getBoundingClientRect(),v=p.height;h=p.height;var y=p.width,b=parseInt(g.getAttribute("cx"),10),S=parseInt(g.getAttribute("cy"),10);f=parseFloat(g.getAttribute("barWidth"));var w=n.type==="touchmove"?n.touches[0].clientX:n.clientX;s=parseInt(g.getAttribute("j"),10),l=parseInt(g.parentNode.getAttribute("rel"),10)-1;var _=g.getAttribute("data-range-y1"),k=g.getAttribute("data-range-y2");i.globals.comboCharts&&(l=parseInt(g.parentNode.getAttribute("data:realIndex"),10));var A=function(C){return i.globals.isXNumeric?b-y/2:r.isVerticalGroupedRangeBar?b+y/2:b-o.dataPointsDividedWidth+y/2},E=function(){return S-o.dataPointsDividedHeight+v/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:l,j:s,y1:_?parseInt(_,10):null,y2:k?parseInt(k,10):null,shared:!o.showOnIntersect&&i.config.tooltip.shared,e:n}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(c=w-m.left+15,u=E()):(c=A(),u=n.clientY-m.top-o.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((c=b)<o.xyRatios.baseLineInvertedY&&(c=b-o.tooltipRect.ttWidth),u=E()):(c=A(),u=S)}return{x:c,y:u,barHeight:h,barWidth:f,i:l,j:s}}}]),t}(),Xke=function(){function t(e){De(this,t),this.w=e.w,this.ttCtx=e}return Re(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,r=this.ttCtx,n=e.config.xaxis.position==="bottom";r.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",i=e.globals.dom.elWrap;r.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,r=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var a=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;r.yaxisOffX=a?e.globals.gridWidth+1:1;var i="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),s=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(r.yaxisTooltip),n===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[n]=document.createElement("div"),r.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,r=this.ttCtx,n=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var i=parseFloat(a.getAttribute("barWidth"));r.xcrosshairsWidth=i}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var s=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/s}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;r.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));r.xcrosshairsWidth=c}else r.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),n!==null&&r.xcrosshairsWidth>0&&n.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,r=this.ttCtx;r.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,r,n){var a=this.ttCtx,i=this.w,s=i.globals,o=s.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&o.length>0){var l=s.yLabelFormatters[e],c=a.getElGrid().getBoundingClientRect(),u=o[0],f=0;n.yRatio.length>1&&(f=u);var h=(r-c.top)*n.yRatio[f],d=s.maxYArr[u]-s.minYArr[u],g=s.minYArr[u]+(d-h);i.config.yaxis[e].reversed&&(g=s.maxYArr[u]-(d-h)),a.tooltipPosition.moveYCrosshairs(r-c.top),a.yaxisTooltipText[e].innerHTML=l(g),a.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),JP=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new R3(this),this.tooltipLabels=new Wke(this),this.tooltipPosition=new L3(this),this.marker=new Uke(this),this.intersect=new Hke(this),this.axesTooltip=new Xke(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Re(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var r=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(s,o){return!!(s.show&&s.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&n.classList.add(r.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),r.globals.dom.elWrap.appendChild(n),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new kd(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var i=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(i=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(i),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var r=this,n=this.w,a=[],i=this.getElTooltip(),s=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=n.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),n.config.tooltip.fillSeriesColor?u.style.backgroundColor=n.globals.colors[l]:u.style.color=n.globals.colors[l];var f=n.config.markers.shape,h=f;Array.isArray(f)&&(h=f[l]),u.setAttribute("shape",h),c.appendChild(u);var d=document.createElement("div");d.classList.add("apexcharts-tooltip-text"),d.style.fontFamily=r.tConfig.style.fontFamily||n.config.chart.fontFamily,d.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(g){var p=document.createElement("div");p.classList.add("apexcharts-tooltip-".concat(g,"-group"));var m=document.createElement("span");m.classList.add("apexcharts-tooltip-text-".concat(g,"-label")),p.appendChild(m);var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(g,"-value")),p.appendChild(v),d.appendChild(p)}),c.appendChild(d),i.appendChild(c),a.push(c)},o=0;o<e;o++)s(o);return a}},{key:"addSVGEvents",value:function(){var e=this.w,r=e.config.chart.type,n=this.getElTooltip(),a=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),i=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",s=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],f={hoverArea:s,elGrid:o,tooltipEl:n,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(i?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var h=0;h<l.length;h++)c.push(l[h].getAttribute("cy")),u.push(l[h].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],f);else if(a&&!e.globals.comboCharts||i&&this.showOnIntersect)this.addDatapointEventsListeners(f);else if(!e.globals.axisCharts||r==="heatmap"||r==="treemap"){var d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,f)}if(this.showOnIntersect){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");g.length>0&&this.addPathsEventListeners(g,f),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(f)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,r=this.getElTooltip(),n=r.getBoundingClientRect(),a=n.width+10,i=n.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(s=s+e.globals.svgWidth-a+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-i-10),r.style.left=s+"px",r.style.top=o+"px",{x:s,y:o,ttWidth:a,ttHeight:i}}},{key:"addDatapointEventsListeners",value:function(e){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,e)}},{key:"addPathsEventListeners",value:function(e,r){for(var n=this,a=function(s){var o={paths:e[s],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[s].addEventListener(l,n.onSeriesHover.bind(n,o),{capture:!1,passive:!0})})},i=0;i<e.length;i++)a(i)}},{key:"onSeriesHover",value:function(e,r){var n=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,r)},20-a))}},{key:"seriesHover",value:function(e,r){var n=this;this.lastHoverTime=Date.now();var a=[],i=this.w;i.config.chart.group&&(a=this.ctx.getGroupedCharts()),i.globals.axisCharts&&(i.globals.minX===-1/0&&i.globals.maxX===1/0||i.globals.dataPoints===0)||(a.length?a.forEach(function(s){var o=n.getElTooltip(s),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===n.w.globals.minX&&s.w.globals.maxX===n.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:l,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:r}))}},{key:"seriesHoverByContext",value:function(e){var r=e.chartCtx,n=e.ttCtx,a=e.opt,i=e.e,s=r.w,o=this.getElTooltip(r);o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=i,n.tooltipUtil.hasBars()&&!s.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ia(r).toggleSeriesOnHover(i,i.target.parentNode),s.globals.axisCharts?n.axisChartsTooltips({e:i,opt:a,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:i,opt:a,tooltipRect:n.tooltipRect}),n.fixedTooltip&&n.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var r,n,a=e.e,i=e.opt,s=this.w,o=i.elGrid.getBoundingClientRect(),l=a.type==="touchmove"?a.touches[0].clientX:a.clientX,c=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=c,this.clientX=l,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(i);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var u=parseInt(i.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(i)}var f=this.getElTooltip(),h=this.getElXCrosshairs(),d=[];s.config.chart.group&&(d=this.ctx.getSyncedCharts());var g=s.globals.xyCharts||s.config.chart.type==="bar"&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;h!==null&&h.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),g&&!this.showOnIntersect||d.length>1)this.handleStickyTooltip(a,l,c,i);else if(s.config.chart.type==="heatmap"||s.config.chart.type==="treemap"){var m=this.intersect.handleHeatTreeTooltip({e:a,opt:i,x:r,y:n,type:s.config.chart.type});r=m.x,n=m.y,f.style.left=r+"px",f.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:i}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:i,x:r,y:n});if(this.yaxisTooltips.length)for(var v=0;v<s.config.yaxis.length;v++)this.axesTooltip.drawYaxisTooltipText(v,c,this.xyRatios);s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),i.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(i)}}},{key:"nonAxisChartsTooltips",value:function(e){var r=e.e,n=e.opt,a=e.tooltipRect,i=this.w,s=n.paths.getAttribute("rel"),o=this.getElTooltip(),l=i.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(s,10)-1,shared:!1});var c=i.globals.clientX-l.left-a.ttWidth/2,u=i.globals.clientY-l.top-a.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",i.config.legend.tooltipHoverFormatter){var f=s-1,h=(0,i.config.legend.tooltipHoverFormatter)(this.legendLabels[f].getAttribute("data:default-text"),{seriesIndex:f,dataPointIndex:f,w:i});this.legendLabels[f].innerHTML=h}}else r.type!=="mouseout"&&r.type!=="touchend"||(o.classList.remove("apexcharts-active"),i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(d){var g=d.getAttribute("data:default-text");d.innerHTML=decodeURIComponent(g)}))}},{key:"handleStickyTooltip",value:function(e,r,n,a){var i=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:r,clientY:n}),o=s.j,l=s.capturedSeries;i.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=a.elGrid.getBoundingClientRect();if(s.hoverX<0||s.hoverX>c.width)this.handleMouseOut(a);else if(l!==null)this.handleStickyCapturedSeries(e,l,a,o);else if(this.tooltipUtil.isXoverlap(o)||i.globals.isBarHorizontal){var u=i.globals.series.findIndex(function(f,h){return!i.globals.collapsedSeriesIndices.includes(h)});this.create(e,this,u,o,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,r,n,a){var i=this.w;if(!this.tConfig.shared&&i.globals.series[r][a]===null)return void this.handleMouseOut(n);if(i.globals.series[r][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,r,a,n.ttItems):this.create(e,this,r,a,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var s=i.globals.series.findIndex(function(o,l){return!i.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,s,a,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,r=new ye(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<n.length;a++)r.pathMouseLeave(n[a])}},{key:"handleMouseOut",value:function(e){var r=this.w,n=this.getElXCrosshairs();if(r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(i){var s=i.getAttribute("data:default-text");i.innerHTML=decodeURIComponent(s)})}},{key:"markerClick",value:function(e,r,n){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:r,dataPointIndex:n,w:a}])}},{key:"create",value:function(e,r,n,a,i){var s,o,l,c,u,f,h,d,g,p,m,v,y,b,S,w,_=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,k=this.w,A=r;e.type==="mouseup"&&this.markerClick(e,n,a),_===null&&(_=this.tConfig.shared);var E=this.tooltipUtil.hasMarkers(n),C=this.tooltipUtil.getElBars(),T=function(){k.globals.markers.largestSize>0?A.marker.enlargePoints(a):A.tooltipPosition.moveDynamicPointsOnHover(a)};if(k.config.legend.tooltipHoverFormatter){var O=k.config.legend.tooltipHoverFormatter,N=Array.from(this.legendLabels);N.forEach(function(Y){var B=Y.getAttribute("data:default-text");Y.innerHTML=decodeURIComponent(B)});for(var z=0;z<N.length;z++){var W=N[z],F=parseInt(W.getAttribute("i"),10),L=decodeURIComponent(W.getAttribute("data:default-text")),H=O(L,{seriesIndex:_?F:n,dataPointIndex:a,w:k});if(_)W.innerHTML=k.globals.collapsedSeriesIndices.indexOf(F)<0?H:L;else if(W.innerHTML=F===n?H:L,n===F)break}}var I=Ae(Ae({ttItems:i,i:n,j:a},((s=k.globals.seriesRange)===null||s===void 0||(o=s[n])===null||o===void 0||(l=o[a])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=k.globals.seriesRange)===null||u===void 0||(f=u[n])===null||f===void 0||(h=f[a])===null||h===void 0||(d=h.y[0])===null||d===void 0?void 0:d.y1}),((g=k.globals.seriesRange)===null||g===void 0||(p=g[n])===null||p===void 0||(m=p[a])===null||m===void 0||(v=m.y[0])===null||v===void 0?void 0:v.y2)!==void 0&&{y2:(y=k.globals.seriesRange)===null||y===void 0||(b=y[n])===null||b===void 0||(S=b[a])===null||S===void 0||(w=S.y[0])===null||w===void 0?void 0:w.y2});if(_){if(A.tooltipLabels.drawSeriesTexts(Ae(Ae({},I),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),E)T();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(C),this.barSeriesHeight>0)){var X=new ye(this.ctx),K=k.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),A.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&T(),A.tooltipPosition.moveStickyTooltipOverBars(a,n);for(var P=0;P<K.length;P++)X.pathMouseEnter(K[P])}}else A.tooltipLabels.drawSeriesTexts(Ae({shared:!1},I)),this.tooltipUtil.hasBars()&&A.tooltipPosition.moveStickyTooltipOverBars(a,n),E&&A.tooltipPosition.moveMarkers(n,a)}}]),t}(),Yke=function(){function t(e){De(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Re(t,[{key:"handleBarDataLabels",value:function(e){var r,n,a=e.x,i=e.y,s=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,f=e.columnGroupIndex,h=e.series,d=e.barHeight,g=e.barWidth,p=e.barXPosition,m=e.barYPosition,v=e.visibleSeries,y=this.w,b=new ye(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(r=a+parseFloat(g*(v+1)),n=i+parseFloat(d*(v+1))-S):(r=a+parseFloat(g*v),n=i+parseFloat(d*v));var w,_=null,k=a,A=i,E={},C=y.config.dataLabels,T=this.barCtx.barOptions.dataLabels,O=this.barCtx.barOptions.dataLabels.total;m!==void 0&&this.barCtx.isRangeBar&&(n=m,A=m),p!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(r=p,k=p);var N=C.offsetX,z=C.offsetY,W={width:0,height:0};if(y.config.dataLabels.enabled){var F=y.globals.series[l][c];W=b.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(F,Ae(Ae({},y),{},{seriesIndex:l,dataPointIndex:c,w:y})):y.globals.yLabelFormatters[0](F),parseFloat(C.style.fontSize))}var L={x:a,y:i,i:l,j:c,realIndex:u,columnGroupIndex:f,bcx:r,bcy:n,barHeight:d,barWidth:g,textRects:W,strokeWidth:S,dataLabelsX:k,dataLabelsY:A,dataLabelsConfig:C,barDataLabelsConfig:T,barTotalDataLabelsConfig:O,offX:N,offY:z};return E=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(L):this.calculateColumnsDataLabelsPosition(L),w=this.drawCalculatedDataLabels({x:E.dataLabelsX,y:E.dataLabelsY,val:this.barCtx.isRangeBar?[s,o]:y.config.chart.stackType==="100%"?h[u][c]:y.globals.series[u][c],i:u,j:c,barWidth:g,barHeight:d,textRects:W,dataLabelsConfig:C}),y.config.chart.stacked&&O.enabled&&(_=this.drawTotalDataLabels({x:E.totalDataLabelsX,y:E.totalDataLabelsY,barWidth:g,barHeight:d,realIndex:u,textAnchor:E.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:C,barTotalDataLabelsConfig:O})),{dataLabelsPos:E,dataLabels:w,totalDataLabels:_}}},{key:"getStackedTotalDataLabel",value:function(e){var r=e.realIndex,n=e.j,a=this.w,i=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(i=this.totalFormatter(i,Ae(Ae({},a),{},{seriesIndex:r,dataPointIndex:n,w:a}))),i}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var r=this,n=this.w,a=e.i,i=e.j,s=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,f=e.barWidth,h=e.barHeight,d=e.textRects,g=e.dataLabelsX,p=e.dataLabelsY,m=e.dataLabelsConfig,v=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,b=e.strokeWidth,S=e.offX,w=e.offY,_=u;h=Math.abs(h);var k=n.config.plotOptions.bar.dataLabels.orientation==="vertical",A=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:i}).zeroEncounters;u-=b/2;var E=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?g+=f/2:(g=n.globals.isXNumeric?u-f/2+S:u-E+f/2+S,!n.config.chart.stacked&&A>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(g-=f*A)),k&&(g=g+d.height/2-b/2-2);var C=n.globals.series[a][i]<0,T=c;switch(this.barCtx.isReversed&&(T=c+(C?h:-h)),v.position){case"center":p=k?C?T-h/2+w:T+h/2-w:C?T-h/2+d.height/2+w:T+h/2+d.height/2-w;break;case"bottom":p=k?C?T-h+w:T+h-w:C?T-h+d.height+b+w:T+h-d.height/2+b-w;break;case"top":p=k?C?T+w:T-w:C?T-d.height/2-w:T+d.height+w}var O=T;if(n.globals.seriesGroups.forEach(function(W){var F;(F=r.barCtx[W.join(",")])===null||F===void 0||F.prevY.forEach(function(L){O=C?Math.max(L[i],O):Math.min(L[i],O)})}),this.barCtx.lastActiveBarSerieIndex===s&&y.enabled){var N=new ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:s,j:i}),m.fontSize);o=C?O-N.height/2-w-y.offsetY+18:O+N.height+w+y.offsetY-18;var z=E;l=_+(n.globals.isXNumeric?-f*n.globals.barGroups.length/2:n.globals.barGroups.length*f/2-(n.globals.barGroups.length-1)*f-z)+y.offsetX}return n.config.chart.stacked||(p<0?p=0+b:p+d.height/3>n.globals.gridHeight&&(p=n.globals.gridHeight-b)),{bcx:u,bcy:c,dataLabelsX:g,dataLabelsY:p,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var r=this,n=this.w,a=e.x,i=e.i,s=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,f=e.textRects,h=e.dataLabelsX,d=e.strokeWidth,g=e.dataLabelsConfig,p=e.barDataLabelsConfig,m=e.barTotalDataLabelsConfig,v=e.offX,y=e.offY,b=n.globals.gridHeight/n.globals.dataPoints,S=this.barCtx.barHelpers.getZeroValueEncounters({i,j:s}).zeroEncounters;u=Math.abs(u);var w,_,k=l-(this.barCtx.isRangeBar?0:b)+c/2+f.height/2+y-3;!n.config.chart.stacked&&S>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=c*S);var A="start",E=n.globals.series[i][s]<0,C=a;switch(this.barCtx.isReversed&&(C=a+(E?-u:u),A=E?"start":"end"),p.position){case"center":h=E?C+u/2-v:Math.max(f.width/2,C-u/2)+v;break;case"bottom":h=E?C+u-d-v:C-u+d+v;break;case"top":h=E?C-d-v:C-d+v}var T=C;if(n.globals.seriesGroups.forEach(function(N){var z;(z=r.barCtx[N.join(",")])===null||z===void 0||z.prevX.forEach(function(W){T=E?Math.min(W[s],T):Math.max(W[s],T)})}),this.barCtx.lastActiveBarSerieIndex===o&&m.enabled){var O=new ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:s}),g.fontSize);E?(w=T-d-v-m.offsetX,A="end"):w=T+v+m.offsetX+(this.barCtx.isReversed?-(u+d):d),_=k-f.height/2+O.height/2+m.offsetY+d,n.globals.barGroups.length>1&&(_-=n.globals.barGroups.length/2*(c/2))}return n.config.chart.stacked||(g.textAnchor==="start"?h-f.width<0?h=E?f.width+d:d:h+f.width>n.globals.gridWidth&&(h=E?n.globals.gridWidth-d:n.globals.gridWidth-f.width-d):g.textAnchor==="middle"?h-f.width/2<0?h=f.width/2+d:h+f.width/2>n.globals.gridWidth&&(h=n.globals.gridWidth-f.width/2-d):g.textAnchor==="end"&&(h<1?h=f.width+d:h+1>n.globals.gridWidth&&(h=n.globals.gridWidth-f.width-d))),{bcx:a,bcy:l,dataLabelsX:h,dataLabelsY:k,totalDataLabelsX:w,totalDataLabelsY:_,totalDataLabelsAnchor:A}}},{key:"drawCalculatedDataLabels",value:function(e){var r=e.x,n=e.y,a=e.val,i=e.i,s=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,f=this.w,h="rotate(0)";f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(h="rotate(-90, ".concat(r,", ").concat(n,")"));var d=new hu(this.barCtx.ctx),g=new ye(this.barCtx.ctx),p=u.formatter,m=null,v=f.globals.collapsedSeriesIndices.indexOf(i)>-1;if(u.enabled&&!v){m=g.group({class:"apexcharts-data-labels",transform:h});var y="";a!==void 0&&(y=p(a,Ae(Ae({},f),{},{seriesIndex:i,dataPointIndex:s,w:f}))),!a&&f.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var b=f.globals.series[i][s]<0,S=f.config.plotOptions.bar.dataLabels.position;f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(S==="top"&&(u.textAnchor=b?"end":"start"),S==="center"&&(u.textAnchor="middle"),S==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<g.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),f.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var w=Ae({},u);this.barCtx.isHorizontal&&a<0&&(u.textAnchor==="start"?w.textAnchor="end":u.textAnchor==="end"&&(w.textAnchor="start")),d.plotDataLabelsText({x:r,y:n,text:y,i,j:s,parent:m,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}},{key:"drawTotalDataLabels",value:function(e){var r=e.x,n=e.y,a=e.val,i=e.realIndex,s=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new ye(this.barCtx.ctx);return o.enabled&&r!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===i&&(l=c.drawText({x:r,y:n,foreColor:o.style.color,text:a,textAnchor:s,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),t}(),Vke=function(){function t(e){De(this,t),this.w=e.w,this.barCtx=e}return Re(t,[{key:"initVariables",value:function(e){var r=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),r.globals.isXNumeric)for(var a=0;a<e[n].length;a++)r.globals.seriesX[n][a]>r.globals.minX&&r.globals.seriesX[n][a]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(r.globals.series),ne.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(i){return i.map(function(s){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],r.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var r,n,a,i,s,o,l,c,u=this.w,f=u.globals.dataPoints;this.barCtx.isRangeBar&&(f=u.globals.labels.length);var h=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)s=(a=u.globals.gridHeight/f)/h,u.globals.isXNumeric&&(s=(a=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),s=s*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(s=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),n=(a-s*this.barCtx.seriesLen)/2;else{if(i=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(i=u.globals.gridWidth/u.globals.dataPoints),o=i/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var d=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/d>0&&(i=u.globals.minXDiff/d),(o=i/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?r=this.barCtx.getBarXForNumericXAxis({x:r,j:0,realIndex:e,barWidth:o}).x:r=u.globals.padHorizontal+ne.noExponents(i-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=s,u.globals.barWidth=o,{x:r,y:n,yDivision:a,xDivision:i,barHeight:s,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].prevY=[],e[r].prevX=[],e[r].prevYF=[],e[r].prevXF=[],e[r].prevYVal=[],e[r].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(r){e[r]||(e[r]={}),e[r].xArrj=[],e[r].xArrjF=[],e[r].xArrjVal=[],e[r].yArrj=[],e[r].yArrjF=[],e[r].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,r,n,a){var i,s,o,l,c=this.w,u=this.barCtx.ctx.fill,f=null,h=this.barCtx.barOptions.distributed?n:r,d=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(g){e[r][n]>=g.from&&e[r][n]<=g.to&&(f=g.color,d=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:a,dataPointIndex:n,color:f,value:e[r][n],fillConfig:(i=c.config.series[r].data[n])===null||i===void 0?void 0:i.fill,fillType:(s=c.config.series[r].data[n])!==null&&s!==void 0&&(o=s.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[r].data[n])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[a]:c.config.fill.type}),useRangeColor:d}}},{key:"getStrokeWidth",value:function(e,r,n){var a=0,i=this.w;return this.barCtx.series[e][r]===void 0||this.barCtx.series[e][r]===null||i.config.chart.type==="bar"&&!this.barCtx.series[e][r]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,i.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var r,n=this.w,a=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,i=e.length,s=0|((r=e[0])===null||r===void 0?void 0:r.length),o=Array.from({length:i},function(){return Array(s).fill(a?"top":"none")});if(a)return o;for(var l=0;l<s;l++){for(var c=[],u=[],f=0,h=0;h<i;h++){var d=e[h][l];d>0?(c.push(h),f++):d<0&&(u.push(h),f++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var g,p=c[0],m=c[c.length-1],v=If(c);try{for(v.s();!(g=v.n()).done;){var y=g.value;o[y][l]=y===p?"bottom":y===m?"top":"none"}}catch(F){v.e(F)}finally{v.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var b,S=Math.max.apply(Math,u),w=Math.min.apply(Math,u),_=If(u);try{for(_.s();!(b=_.n()).done;){var k=b.value;o[k][l]=k===S?"bottom":k===w?"top":"none"}}catch(F){_.e(F)}finally{_.f()}}else if(c.length>0&&u.length>0){var A,E=c[c.length-1],C=If(c);try{for(C.s();!(A=C.n()).done;){var T=A.value;o[T][l]=T===E?"top":"none"}}catch(F){C.e(F)}finally{C.f()}var O,N=Math.max.apply(Math,u),z=If(u);try{for(z.s();!(O=z.n()).done;){var W=O.value;o[W][l]=W===N?"bottom":"none"}}catch(F){z.e(F)}finally{z.f()}}else f===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var r=e.j,n=e.i,a=e.x1,i=e.x2,s=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new ye(this.barCtx.ctx),f=new Ia(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&f===n){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[r],d=u.drawRect(a!==void 0?a:0,s!==void 0?s:0,i!==void 0?i:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(d),d.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var r,n=e.barWidth,a=e.barXPosition,i=e.y1,s=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,f=e.realIndex,h=e.i,d=e.j,g=e.w,p=new ye(this.barCtx.ctx);(o=Array.isArray(o)?o[f]:o)||(o=0);var m=n,v=a;(r=g.config.series[f].data[d])!==null&&r!==void 0&&r.columnWidthOffset&&(v=a-g.config.series[f].data[d].columnWidthOffset/2,m=n+g.config.series[f].data[d].columnWidthOffset);var y=o/2,b=v+y,S=v+m-y,w=(c[h][d]>=0?1:-1)*(l?-1:1);i+=.001-y*w,s+=.001+y*w;var _=p.move(b,i),k=p.move(b,i),A=p.line(S,i);if(g.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(f,d,!1)),_=_+p.line(b,s)+p.line(S,s)+A+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][d]==="both"?" Z":" z"),k=k+p.line(b,i)+A+A+A+A+A+p.line(b,i)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][d]==="both"?" Z":" z"),this.arrBorderRadius[f][d]!=="none"&&(_=p.roundPathCorners(_,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[u]).yArrj.push(s-y*w),E.yArrjF.push(Math.abs(i-s+o*w)),E.yArrjVal.push(this.barCtx.series[h][d])}return{pathTo:_,pathFrom:k}}},{key:"getBarpaths",value:function(e){var r,n=e.barYPosition,a=e.barHeight,i=e.x1,s=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,f=e.realIndex,h=e.i,d=e.j,g=e.w,p=new ye(this.barCtx.ctx);(o=Array.isArray(o)?o[f]:o)||(o=0);var m=n,v=a;(r=g.config.series[f].data[d])!==null&&r!==void 0&&r.barHeightOffset&&(m=n-g.config.series[f].data[d].barHeightOffset/2,v=a+g.config.series[f].data[d].barHeightOffset);var y=o/2,b=m+y,S=m+v-y,w=(c[h][d]>=0?1:-1)*(l?-1:1);i+=.001+y*w,s+=.001-y*w;var _=p.move(i,b),k=p.move(i,b);g.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(f,d,!1));var A=p.line(i,S);if(_=_+p.line(s,b)+p.line(s,S)+A+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][d]==="both"?" Z":" z"),k=k+p.line(i,b)+A+A+A+A+A+p.line(i,b)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][d]==="both"?" Z":" z"),this.arrBorderRadius[f][d]!=="none"&&(_=p.roundPathCorners(_,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[u]).xArrj.push(s+y*w),E.xArrjF.push(Math.abs(i-s-o*w)),E.xArrjVal.push(this.barCtx.series[h][d])}return{pathTo:_,pathFrom:k}}},{key:"checkZeroSeries",value:function(e){for(var r=e.series,n=this.w,a=0;a<r.length;a++){for(var i=0,s=0;s<r[n.globals.maxValsInArrayIndex].length;s++)i+=r[a][s];i===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,r){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return e!=null&&(n=r+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,r,n){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?r:null;return e!=null&&(a=r-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),a}},{key:"getGoalValues",value:function(e,r,n,a,i,s){var o=this,l=this.w,c=[],u=function(d,g){var p;c.push((cm(p={},e,e==="x"?o.getXForValue(d,r,!1):o.getYForValue(d,n,s,!1)),cm(p,"attrs",g),p))};if(l.globals.seriesGoals[a]&&l.globals.seriesGoals[a][i]&&Array.isArray(l.globals.seriesGoals[a][i])&&l.globals.seriesGoals[a][i].forEach(function(d){u(d.value,d)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var f=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,h={strokeHeight:e==="x"?0:l.globals.markers.size[a],strokeWidth:e==="x"?l.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(f[a])?f[a][0]:f[a]};u(l.globals.seriesRangeStart[a][i],h),u(l.globals.seriesRangeEnd[a][i],Ae(Ae({},h),{},{strokeColor:Array.isArray(f[a])?f[a][1]:f[a]}))}return c}},{key:"drawGoalLine",value:function(e){var r=e.barXPosition,n=e.barYPosition,a=e.goalX,i=e.goalY,s=e.barWidth,o=e.barHeight,l=new ye(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(f){if(f.x>=-1&&f.x<=l.w.globals.gridWidth+1){var h=f.attrs.strokeHeight!==void 0?f.attrs.strokeHeight:o/2,d=n+h+o/2;u=l.drawLine(f.x,d-2*h,f.x,d,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeWidth?f.attrs.strokeWidth:2,f.attrs.strokeLineCap),c.add(u)}}):Array.isArray(i)&&i.forEach(function(f){if(f.y>=-1&&f.y<=l.w.globals.gridHeight+1){var h=f.attrs.strokeWidth!==void 0?f.attrs.strokeWidth:s/2,d=r+h+s/2;u=l.drawLine(d-2*h,f.y,d,f.y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeHeight?f.attrs.strokeHeight:2,f.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var r=e.prevPaths,n=e.currPaths,a=e.color,i=this.w,s=r.x,o=r.x1,l=r.barYPosition,c=n.x,u=n.x1,f=n.barYPosition,h=l+n.barHeight,d=new ye(this.barCtx.ctx),g=new ne,p=d.move(o,h)+d.line(s,h)+d.line(c,f)+d.line(u,f)+d.line(o,h)+(i.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return d.drawPath({d:p,fill:g.shadeColor(.5,ne.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var r,n=e.i,a=e.j,i=this.w,s=0,o=0;return(i.config.plotOptions.bar.horizontal?i.globals.series.map(function(l,c){return c}):((r=i.globals.columnSeries)===null||r===void 0?void 0:r.i.map(function(l){return l}))||[]).forEach(function(l){var c=i.globals.seriesPercent[l][a];c&&s++,l<n&&c===0&&o++}),{nonZeroColumns:s,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var r=this.w,n=r.globals.seriesGroups.findIndex(function(s){return s.indexOf(r.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,i=a.indexOf(n);return i<0&&(a.push(n),i=a.length-1),{groupIndex:n,columnGroupIndex:i}}}]),t}(),du=function(){function t(e,r){De(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Ia(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var i=a.getBarSeriesIndices(),s=new dr(this.ctx);this.stackedSeriesTotals=s.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return i.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new Vke(this)}return Re(t,[{key:"draw",value:function(e,r){var n=this.w,a=new ye(this.ctx),i=new dr(this.ctx,n);e=i.getLogSeries(e),this.series=e,this.yRatio=i.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var s=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,f,h,d=void 0,g=void 0,p=[],m=[],v=n.globals.comboCharts?r[o]:o,y=this.barHelpers.getGroupIndex(v).columnGroupIndex,b=a.group({class:"apexcharts-series",rel:o+1,seriesName:ne.escapeString(n.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),e[o].length>0&&(this.visibleI=this.visibleI+1);var S=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[v],this.translationsIndex=v);var _=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions(v);g=k.y,S=k.barHeight,u=k.yDivision,h=k.zeroW,d=k.x,w=k.barWidth,c=k.xDivision,f=k.zeroH,this.isHorizontal||m.push(d+w/2);var A=a.group({class:"apexcharts-datalabels","data:realIndex":v});n.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");var E=a.group({class:"apexcharts-bar-goals-markers"}),C=a.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:C.node}),C.node.classList.add("apexcharts-element-hidden");for(var T=0;T<e[o].length;T++){var O=this.barHelpers.getStrokeWidth(o,T,v),N=null,z={indexes:{i:o,j:T,realIndex:v,translationsIndex:_,bc:l},x:d,y:g,strokeWidth:O,elSeries:b};this.isHorizontal?(N=this.drawBarPaths(Ae(Ae({},z),{},{barHeight:S,zeroW:h,yDivision:u})),w=this.series[o][T]/this.invertedYRatio):(N=this.drawColumnPaths(Ae(Ae({},z),{},{xDivision:c,barWidth:w,zeroH:f})),S=this.series[o][T]/this.yRatio[_]);var W=this.barHelpers.getPathFillColor(e,o,T,v);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&T>0){var F,L=this.barHelpers.drawBarShadow({color:typeof W.color=="string"&&((F=W.color)===null||F===void 0?void 0:F.indexOf("url"))===-1?W.color:ne.hexToRgba(n.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:N});C.add(L),n.config.chart.dropShadow.enabled&&new Zr(this.ctx).dropShadow(L,n.config.chart.dropShadow,v)}this.pathArr.push(N);var H=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:S,barWidth:w});H&&E.add(H),g=N.y,d=N.x,T>0&&m.push(d+w/2),p.push(g),this.renderSeries(Ae(Ae({realIndex:v,pathFill:W.color},W.useRangeColor?{lineFill:W.color}:{}),{},{j:T,i:o,columnGroupIndex:y,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:O,elSeries:b,x:d,y:g,series:e,barHeight:Math.abs(N.barHeight?N.barHeight:S),barWidth:Math.abs(N.barWidth?N.barWidth:w),elDataLabelsWrap:A,elGoalsMarkers:E,elBarShadows:C,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[v]=m,n.globals.seriesYvalues[v]=p,s.add(b)}return s}},{key:"renderSeries",value:function(e){var r=e.realIndex,n=e.pathFill,a=e.lineFill,i=e.j,s=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,f=e.elSeries,h=e.x,d=e.y,g=e.y1,p=e.y2,m=e.series,v=e.barHeight,y=e.barWidth,b=e.barXPosition,S=e.barYPosition,w=e.elDataLabelsWrap,_=e.elGoalsMarkers,k=e.elBarShadows,A=e.visibleSeries,E=e.type,C=e.classes,T=this.w,O=new ye(this.ctx),N=!1;if(!a){var z=typeof T.globals.stroke.colors[r]=="function"?function(I){var X,K=T.config.stroke.colors;return Array.isArray(K)&&K.length>0&&((X=K[I])||(X=""),typeof X=="function")?X({value:T.globals.series[I][i],dataPointIndex:i,w:T}):X}(r):T.globals.stroke.colors[r];a=this.barOptions.distributed?T.globals.stroke.colors[i]:z}var W=new Yke(this).handleBarDataLabels({x:h,y:d,y1:g,y2:p,i:s,j:i,series:m,realIndex:r,columnGroupIndex:o,barHeight:v,barWidth:y,barXPosition:b,barYPosition:S,visibleSeries:A});T.globals.isBarHorizontal||(W.dataLabelsPos.dataLabelsX+Math.max(y,T.globals.barPadForNumericAxis)<0||W.dataLabelsPos.dataLabelsX-Math.max(y,T.globals.barPadForNumericAxis)>T.globals.gridWidth)&&(N=!0),T.config.series[s].data[i]&&T.config.series[s].data[i].strokeColor&&(a=T.config.series[s].data[i].strokeColor),this.isNullValue&&(n="none");var F=i/T.config.chart.animations.animateGradually.delay*(T.config.chart.animations.speed/T.globals.dataPoints)/2.4;if(!N){var L=O.renderPaths({i:s,j:i,realIndex:r,pathFrom:l,pathTo:c,stroke:a,strokeWidth:u,strokeLineCap:T.config.stroke.lineCap,fill:n,animationDelay:F,initialSpeed:T.config.chart.animations.speed,dataChangeSpeed:T.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(E,"-area ").concat(C),chartType:E});L.attr("clip-path","url(#gridRectBarMask".concat(T.globals.cuid,")"));var H=T.config.forecastDataPoints;H.count>0&&i>=T.globals.dataPoints-H.count&&(L.node.setAttribute("stroke-dasharray",H.dashArray),L.node.setAttribute("stroke-width",H.strokeWidth),L.node.setAttribute("fill-opacity",H.fillOpacity)),g!==void 0&&p!==void 0&&(L.attr("data-range-y1",g),L.attr("data-range-y2",p)),new Zr(this.ctx).setSelectionFilter(L,r,i),f.add(L),L.attr({cy:W.dataLabelsPos.bcy,cx:W.dataLabelsPos.bcx,j:i,val:T.globals.series[s][i],barHeight:v,barWidth:y}),W.dataLabels!==null&&w.add(W.dataLabels),W.totalDataLabels&&w.add(W.totalDataLabels),f.add(w),_&&f.add(_),k&&f.add(k)}return f}},{key:"drawBarPaths",value:function(e){var r,n=e.indexes,a=e.barHeight,i=e.strokeWidth,s=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,f=this.w,h=n.i,d=n.j;if(f.globals.isXNumeric)r=(l=(f.globals.seriesX[h][d]-f.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var g=this.barHelpers.getZeroValueEncounters({i:h,j:d}),p=g.nonZeroColumns,m=g.zeroEncounters;p>0&&(a=this.seriesLen*a/p),r=l+a*this.visibleI,r-=a*m}else r=l+a*this.visibleI;this.isFunnel&&(s-=(this.barHelpers.getXForValue(this.series[h][d],s)-s)/2),o=this.barHelpers.getXForValue(this.series[h][d],s);var v=this.barHelpers.getBarpaths({barYPosition:r,barHeight:a,x1:s,x2:o,strokeWidth:i,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:h,j:d,w:f});return f.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:d,i:h,y1:r-a*this.visibleI,y2:a*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:s,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",s,null,h,d),barYPosition:r,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var r,n=e.indexes,a=e.x,i=e.y,s=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,f=this.w,h=n.realIndex,d=n.translationsIndex,g=n.i,p=n.j,m=n.bc;if(f.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:a,j:p,realIndex:h,barWidth:o});a=v.x,r=v.barXPosition}else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:g,j:p}),b=y.nonZeroColumns,S=y.zeroEncounters;b>0&&(o=this.seriesLen*o/b),r=a+o*this.visibleI,r-=o*S}else r=a+o*this.visibleI;i=this.barHelpers.getYForValue(this.series[g][p],l,d);var w=this.barHelpers.getColumnPaths({barXPosition:r,barWidth:o,y1:l,y2:i,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:h,i:g,j:p,w:f});return f.globals.isXNumeric||(a+=s),this.barHelpers.barBackground({bc:m,j:p,i:g,x1:r-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x:a,y:i,goalY:this.barHelpers.getGoalValues("y",null,l,g,p,d),barXPosition:r,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var r=e.x,n=e.barWidth,a=e.realIndex,i=e.j,s=this.w,o=a;return s.globals.seriesX[a].length||(o=s.globals.maxValsInArrayIndex),ne.isNumber(s.globals.seriesX[o][i])&&(r=(s.globals.seriesX[o][i]-s.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:r+n*this.visibleI,x:r}}},{key:"getPreviousPath",value:function(e,r){for(var n=this.w,a="M 0 0",i=0;i<n.globals.previousPaths.length;i++){var s=n.globals.previousPaths[i];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&n.globals.previousPaths[i].paths[r]!==void 0&&(a=n.globals.previousPaths[i].paths[r].d)}return a}}]),t}(),ZP=function(t){Jd(r,du);var e=Kd(r);function r(){return De(this,r),e.apply(this,arguments)}return Re(r,[{key:"draw",value:function(n,a){var i=this,s=this.w;this.graphics=new ye(this.ctx),this.bar=new du(this.ctx,this.xyRatios);var o=new dr(this.ctx,s);n=o.getLogSeries(n),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),s.config.chart.stackType==="100%"&&(n=s.globals.comboCharts?a.map(function(g){return s.globals.seriesPercent[g]}):s.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,f=function(g,p){var m=void 0,v=void 0,y=void 0,b=void 0,S=s.globals.comboCharts?a[g]:g,w=i.barHelpers.getGroupIndex(S),_=w.groupIndex,k=w.columnGroupIndex;i.groupCtx=i[s.globals.seriesGroups[_]];var A=[],E=[],C=0;i.yRatio.length>1&&(i.yaxisIndex=s.globals.seriesYAxisReverseMap[S][0],C=S),i.isReversed=s.config.yaxis[i.yaxisIndex]&&s.config.yaxis[i.yaxisIndex].reversed;var T=i.graphics.group({class:"apexcharts-series",seriesName:ne.escapeString(s.globals.seriesNames[S]),rel:g+1,"data:realIndex":S});i.ctx.series.addCollapsedClassToSeries(T,S);var O=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":S}),N=i.graphics.group({class:"apexcharts-bar-goals-markers"}),z=0,W=0,F=i.initialPositions(c,u,m,v,y,b,C);u=F.y,z=F.barHeight,v=F.yDivision,b=F.zeroW,c=F.x,W=F.barWidth,m=F.xDivision,y=F.zeroH,s.globals.barHeight=z,s.globals.barWidth=W,i.barHelpers.initializeStackedXYVars(i),i.groupCtx.prevY.length===1&&i.groupCtx.prevY[0].every(function(G){return isNaN(G)})&&(i.groupCtx.prevY[0]=i.groupCtx.prevY[0].map(function(){return y}),i.groupCtx.prevYF[0]=i.groupCtx.prevYF[0].map(function(){return 0}));for(var L=0;L<s.globals.dataPoints;L++){var H=i.barHelpers.getStrokeWidth(g,L,S),I={indexes:{i:g,j:L,realIndex:S,translationsIndex:C,bc:p},strokeWidth:H,x:c,y:u,elSeries:T,columnGroupIndex:k,seriesGroup:s.globals.seriesGroups[_]},X=null;i.isHorizontal?(X=i.drawStackedBarPaths(Ae(Ae({},I),{},{zeroW:b,barHeight:z,yDivision:v})),W=i.series[g][L]/i.invertedYRatio):(X=i.drawStackedColumnPaths(Ae(Ae({},I),{},{xDivision:m,barWidth:W,zeroH:y})),z=i.series[g][L]/i.yRatio[C]);var K=i.barHelpers.drawGoalLine({barXPosition:X.barXPosition,barYPosition:X.barYPosition,goalX:X.goalX,goalY:X.goalY,barHeight:z,barWidth:W});K&&N.add(K),u=X.y,c=X.x,A.push(c),E.push(u);var P=i.barHelpers.getPathFillColor(n,g,L,S),Y="",B=s.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(i.barHelpers.arrBorderRadius[S][L]==="bottom"&&s.globals.series[S][L]>0||i.barHelpers.arrBorderRadius[S][L]==="top"&&s.globals.series[S][L]<0)&&(Y=B),T=i.renderSeries(Ae(Ae({realIndex:S,pathFill:P.color},P.useRangeColor?{lineFill:P.color}:{}),{},{j:L,i:g,columnGroupIndex:k,pathFrom:X.pathFrom,pathTo:X.pathTo,strokeWidth:H,elSeries:T,x:c,y:u,series:n,barHeight:z,barWidth:W,elDataLabelsWrap:O,elGoalsMarkers:N,type:"bar",visibleSeries:k,classes:Y}))}s.globals.seriesXvalues[S]=A,s.globals.seriesYvalues[S]=E,i.groupCtx.prevY.push(i.groupCtx.yArrj),i.groupCtx.prevYF.push(i.groupCtx.yArrjF),i.groupCtx.prevYVal.push(i.groupCtx.yArrjVal),i.groupCtx.prevX.push(i.groupCtx.xArrj),i.groupCtx.prevXF.push(i.groupCtx.xArrjF),i.groupCtx.prevXVal.push(i.groupCtx.xArrjVal),l.add(T)},h=0,d=0;h<n.length;h++,d++)f(h,d);return l}},{key:"initialPositions",value:function(n,a,i,s,o,l,c){var u,f,h=this.w;if(this.isHorizontal){s=h.globals.gridHeight/h.globals.dataPoints;var d=h.config.plotOptions.bar.barHeight;u=String(d).indexOf("%")===-1?parseInt(d,10):s*parseInt(d,10)/100,l=h.globals.padHorizontal+(this.isReversed?h.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(s-u)/2}else{f=i=h.globals.gridWidth/h.globals.dataPoints;var g=h.config.plotOptions.bar.columnWidth;h.globals.isXNumeric&&h.globals.dataPoints>1?f=(i=h.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(g).indexOf("%")===-1?f=parseInt(g,10):f*=parseInt(g,10)/100,o=this.isReversed?this.baseLineY[c]:h.globals.gridHeight-this.baseLineY[c],n=h.globals.padHorizontal+(i-f)/2}var p=h.globals.barGroups.length||1;return{x:n,y:a,yDivision:s,xDivision:i,barHeight:u/p,barWidth:f/p,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var a,i=n.indexes,s=n.barHeight,o=n.strokeWidth,l=n.zeroW,c=n.x,u=n.y,f=n.columnGroupIndex,h=n.seriesGroup,d=n.yDivision,g=n.elSeries,p=this.w,m=u+f*s,v=i.i,y=i.j,b=i.realIndex,S=i.translationsIndex,w=0,_=0;_<this.groupCtx.prevXF.length;_++)w+=this.groupCtx.prevXF[_][y];var k=v;if(p.config.series[b].name&&(k=h.indexOf(p.config.series[b].name)),k>0){var A=l;this.groupCtx.prevXVal[k-1][y]<0?A=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]+w-2*(this.isReversed?w:0):this.groupCtx.prevX[k-1][y]:this.groupCtx.prevXVal[k-1][y]>=0&&(A=this.series[v][y]>=0?this.groupCtx.prevX[k-1][y]:this.groupCtx.prevX[k-1][y]-w+2*(this.isReversed?w:0)),a=A}else a=l;c=this.series[v][y]===null?a:a+this.series[v][y]/this.invertedYRatio-2*(this.isReversed?this.series[v][y]/this.invertedYRatio:0);var E=this.barHelpers.getBarpaths({barYPosition:m,barHeight:s,x1:a,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,seriesGroup:h,i:v,j:y,w:p});return this.barHelpers.barBackground({j:y,i:v,y1:m,y2:s,elSeries:g}),u+=d,{pathTo:E.pathTo,pathFrom:E.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,v,y,S),barXPosition:a,barYPosition:m,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(n){var a=n.indexes,i=n.x,s=n.y,o=n.xDivision,l=n.barWidth,c=n.zeroH,u=n.columnGroupIndex,f=n.seriesGroup,h=n.elSeries,d=this.w,g=a.i,p=a.j,m=a.bc,v=a.realIndex,y=a.translationsIndex;if(d.globals.isXNumeric){var b=d.globals.seriesX[v][p];b||(b=0),i=(b-d.globals.minX)/this.xRatio-l/2*d.globals.barGroups.length}for(var S,w=i+u*l,_=0,k=0;k<this.groupCtx.prevYF.length;k++)_+=isNaN(this.groupCtx.prevYF[k][p])?0:this.groupCtx.prevYF[k][p];var A=g;if(f&&(A=f.indexOf(d.globals.seriesNames[v])),A>0&&!d.globals.isXNumeric||A>0&&d.globals.isXNumeric&&d.globals.seriesX[v-1][p]===d.globals.seriesX[v][p]){var E,C,T,O=Math.min(this.yRatio.length+1,v+1);if(this.groupCtx.prevY[A-1]!==void 0&&this.groupCtx.prevY[A-1].length)for(var N=1;N<O;N++){var z;if(!isNaN((z=this.groupCtx.prevY[A-N])===null||z===void 0?void 0:z[p])){T=this.groupCtx.prevY[A-N][p];break}}for(var W=1;W<O;W++){var F,L;if(((F=this.groupCtx.prevYVal[A-W])===null||F===void 0?void 0:F[p])<0){C=this.series[g][p]>=0?T-_+2*(this.isReversed?_:0):T;break}if(((L=this.groupCtx.prevYVal[A-W])===null||L===void 0?void 0:L[p])>=0){C=this.series[g][p]>=0?T:T+_-2*(this.isReversed?_:0);break}}C===void 0&&(C=d.globals.gridHeight),S=(E=this.groupCtx.prevYF[0])!==null&&E!==void 0&&E.every(function(I){return I===0})&&this.groupCtx.prevYF.slice(1,A).every(function(I){return I.every(function(X){return isNaN(X)})})?c:C}else S=c;s=this.series[g][p]?S-this.series[g][p]/this.yRatio[y]+2*(this.isReversed?this.series[g][p]/this.yRatio[y]:0):S;var H=this.barHelpers.getColumnPaths({barXPosition:w,barWidth:l,y1:S,y2:s,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:f,realIndex:a.realIndex,i:g,j:p,w:d});return this.barHelpers.barBackground({bc:m,j:p,i:g,x1:w,x2:l,elSeries:h}),{pathTo:H.pathTo,pathFrom:H.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,g,p),barXPosition:w,x:d.globals.isXNumeric?i:i+o,y:s}}}]),r}(),by=function(t){Jd(r,du);var e=Kd(r);function r(){return De(this,r),e.apply(this,arguments)}return Re(r,[{key:"draw",value:function(n,a,i){var s=this,o=this.w,l=new ye(this.ctx),c=o.globals.comboCharts?a:o.config.chart.type,u=new oi(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var f=new dr(this.ctx,o);n=f.getLogSeries(n),this.series=n,this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var h=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),d=function(p){s.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[p].type==="boxPlot";var m,v,y,b,S=void 0,w=void 0,_=[],k=[],A=o.globals.comboCharts?i[p]:p,E=s.barHelpers.getGroupIndex(A).columnGroupIndex,C=l.group({class:"apexcharts-series",seriesName:ne.escapeString(o.globals.seriesNames[A]),rel:p+1,"data:realIndex":A});s.ctx.series.addCollapsedClassToSeries(C,A),n[p].length>0&&(s.visibleI=s.visibleI+1);var T,O,N=0;s.yRatio.length>1&&(s.yaxisIndex=o.globals.seriesYAxisReverseMap[A][0],N=A);var z=s.barHelpers.initialPositions(A);w=z.y,T=z.barHeight,v=z.yDivision,b=z.zeroW,S=z.x,O=z.barWidth,m=z.xDivision,y=z.zeroH,k.push(S+O/2);for(var W=l.group({class:"apexcharts-datalabels","data:realIndex":A}),F=l.group({class:"apexcharts-bar-goals-markers"}),L=function(I){var X=s.barHelpers.getStrokeWidth(p,I,A),K=null,P={indexes:{i:p,j:I,realIndex:A,translationsIndex:N},x:S,y:w,strokeWidth:X,elSeries:C};K=s.isHorizontal?s.drawHorizontalBoxPaths(Ae(Ae({},P),{},{yDivision:v,barHeight:T,zeroW:b})):s.drawVerticalBoxPaths(Ae(Ae({},P),{},{xDivision:m,barWidth:O,zeroH:y})),w=K.y,S=K.x;var Y=s.barHelpers.drawGoalLine({barXPosition:K.barXPosition,barYPosition:K.barYPosition,goalX:K.goalX,goalY:K.goalY,barHeight:T,barWidth:O});Y&&F.add(Y),I>0&&k.push(S+O/2),_.push(w),K.pathTo.forEach(function(B,G){var te=!s.isBoxPlot&&s.candlestickOptions.wick.useFillColor?K.color[G]:o.globals.stroke.colors[p],oe=u.fillPath({seriesNumber:A,dataPointIndex:I,color:K.color[G],value:n[p][I]});s.renderSeries({realIndex:A,pathFill:oe,lineFill:te,j:I,i:p,pathFrom:K.pathFrom,pathTo:B,strokeWidth:X,elSeries:C,x:S,y:w,series:n,columnGroupIndex:E,barHeight:T,barWidth:O,elDataLabelsWrap:W,elGoalsMarkers:F,visibleSeries:s.visibleI,type:o.config.chart.type})})},H=0;H<o.globals.dataPoints;H++)L(H);o.globals.seriesXvalues[A]=k,o.globals.seriesYvalues[A]=_,h.add(C)},g=0;g<n.length;g++)d(g);return h}},{key:"drawVerticalBoxPaths",value:function(n){var a=n.indexes,i=n.x;n.y;var s=n.xDivision,o=n.barWidth,l=n.zeroH,c=n.strokeWidth,u=this.w,f=new ye(this.ctx),h=a.i,d=a.j,g=u.config.plotOptions.candlestick.colors,p=this.boxOptions.colors,m=a.realIndex,v=function(H){return Array.isArray(H)?H[m]:H},y=v(g.upward),b=v(g.downward),S=this.yRatio[a.translationsIndex],w=this.getOHLCValue(m,d),_=l,k=l,A=w.o<w.c?[y]:[b];this.isBoxPlot&&(A=[v(p.lower),v(p.upper)]);var E=Math.min(w.o,w.c),C=Math.max(w.o,w.c),T=w.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[m][d]-u.globals.minX)/this.xRatio-o/2);var O=i+o*this.visibleI;this.series[h][d]===void 0||this.series[h][d]===null?(E=l,C=l):(E=l-E/S,C=l-C/S,_=l-w.h/S,k=l-w.l/S,T=l-w.m/S);var N=f.move(O,l),z=f.move(O+o/2,E);if(u.globals.previousPaths.length>0&&(z=this.getPreviousPath(m,d,!0)),this.isOHLC){var W=O+o/2,F=l-w.o/S,L=l-w.c/S;N=[f.move(W,_)+f.line(W,k)+f.move(W,F)+f.line(O,F)+f.move(W,L)+f.line(O+o,L)]}else N=this.isBoxPlot?[f.move(O,E)+f.line(O+o/2,E)+f.line(O+o/2,_)+f.line(O+o/4,_)+f.line(O+o-o/4,_)+f.line(O+o/2,_)+f.line(O+o/2,E)+f.line(O+o,E)+f.line(O+o,T)+f.line(O,T)+f.line(O,E+c/2),f.move(O,T)+f.line(O+o,T)+f.line(O+o,C)+f.line(O+o/2,C)+f.line(O+o/2,k)+f.line(O+o-o/4,k)+f.line(O+o/4,k)+f.line(O+o/2,k)+f.line(O+o/2,C)+f.line(O,C)+f.line(O,T)+"z"]:[f.move(O,C)+f.line(O+o/2,C)+f.line(O+o/2,_)+f.line(O+o/2,C)+f.line(O+o,C)+f.line(O+o,E)+f.line(O+o/2,E)+f.line(O+o/2,k)+f.line(O+o/2,E)+f.line(O,E)+f.line(O,C-c/2)];return z+=f.move(O,E),u.globals.isXNumeric||(i+=s),{pathTo:N,pathFrom:z,x:i,y:C,goalY:this.barHelpers.getGoalValues("y",null,l,h,d,a.translationsIndex),barXPosition:O,color:A}}},{key:"drawHorizontalBoxPaths",value:function(n){var a=n.indexes;n.x;var i=n.y,s=n.yDivision,o=n.barHeight,l=n.zeroW,c=n.strokeWidth,u=this.w,f=new ye(this.ctx),h=a.i,d=a.j,g=this.boxOptions.colors.lower;this.isBoxPlot&&(g=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var p=this.invertedYRatio,m=a.realIndex,v=this.getOHLCValue(m,d),y=l,b=l,S=Math.min(v.o,v.c),w=Math.max(v.o,v.c),_=v.m;u.globals.isXNumeric&&(i=(u.globals.seriesX[m][d]-u.globals.minX)/this.invertedXRatio-o/2);var k=i+o*this.visibleI;this.series[h][d]===void 0||this.series[h][d]===null?(S=l,w=l):(S=l+S/p,w=l+w/p,y=l+v.h/p,b=l+v.l/p,_=l+v.m/p);var A=f.move(l,k),E=f.move(S,k+o/2);return u.globals.previousPaths.length>0&&(E=this.getPreviousPath(m,d,!0)),A=[f.move(S,k)+f.line(S,k+o/2)+f.line(y,k+o/2)+f.line(y,k+o/2-o/4)+f.line(y,k+o/2+o/4)+f.line(y,k+o/2)+f.line(S,k+o/2)+f.line(S,k+o)+f.line(_,k+o)+f.line(_,k)+f.line(S+c/2,k),f.move(_,k)+f.line(_,k+o)+f.line(w,k+o)+f.line(w,k+o/2)+f.line(b,k+o/2)+f.line(b,k+o-o/4)+f.line(b,k+o/4)+f.line(b,k+o/2)+f.line(w,k+o/2)+f.line(w,k)+f.line(_,k)+"z"],E+=f.move(S,k),u.globals.isXNumeric||(i+=s),{pathTo:A,pathFrom:E,x:w,y:i,goalX:this.barHelpers.getGoalValues("x",l,null,h,d),barYPosition:k,color:g}}},{key:"getOHLCValue",value:function(n,a){var i=this.w,s=new dr(this.ctx,i),o=s.getLogValAtSeriesIndex(i.globals.seriesCandleH[n][a],n),l=s.getLogValAtSeriesIndex(i.globals.seriesCandleO[n][a],n),c=s.getLogValAtSeriesIndex(i.globals.seriesCandleM[n][a],n),u=s.getLogValAtSeriesIndex(i.globals.seriesCandleC[n][a],n),f=s.getLogValAtSeriesIndex(i.globals.seriesCandleL[n][a],n);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:f,c:this.isBoxPlot?f:u}}}]),r}(),B3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"checkColorRange",value:function(){var e=this.w,r=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(a,i){a.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(e,r,n,a){var i=this.w,s=1,o=i.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,r,n);i.globals.hasNegs||a?s=i.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(s=1-l.percent/100,e==="treemap"&&(s=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new ne;if(i.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var f=u.shadeColor(-1*s,l.color);c=ne.hexToRgba(ne.isColorHex(f)?f:ne.rgb2hex(f),i.config.fill.opacity)}else{var h=u.shadeColor(s,l.color);c=ne.hexToRgba(ne.isColorHex(h)?h:ne.rgb2hex(h),i.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,r,n){var a=this.w,i=a.globals.series[r][n],s=a.config.plotOptions[e],o=s.colorScale.inverse?n:r;s.distributed&&a.config.chart.type==="treemap"&&(o=n);var l=a.globals.colors[o],c=null,u=Math.min.apply(Math,Mr(a.globals.series[r])),f=Math.max.apply(Math,Mr(a.globals.series[r]));s.distributed||e!=="heatmap"||(u=a.globals.minY,f=a.globals.maxY),s.colorScale.min!==void 0&&(u=s.colorScale.min<a.globals.minY?s.colorScale.min:a.globals.minY,f=s.colorScale.max>a.globals.maxY?s.colorScale.max:a.globals.maxY);var h=Math.abs(f)+Math.abs(u),d=100*i/(h===0?h-1e-6:h);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(g,p){if(i>=g.from&&i<=g.to){l=g.color,c=g.foreColor?g.foreColor:null,u=g.from,f=g.to;var m=Math.abs(f)+Math.abs(u);d=100*i/(m===0?m-1e-6:m)}}),{color:l,foreColor:c,percent:d}}},{key:"calculateDataLabels",value:function(e){var r=e.text,n=e.x,a=e.y,i=e.i,s=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new ye(this.ctx),f=new hu(this.ctx),h=null;if(c.enabled){h=u.group({class:"apexcharts-data-labels"});var d=c.offsetX,g=c.offsetY,p=n+d,m=a+parseFloat(c.style.fontSize)/3+g;f.plotDataLabelsText({x:p,y:m,text:r,i,j:s,color:o.foreColor,parent:h,fontSize:l,dataLabelsConfig:c})}return h}},{key:"addListeners",value:function(e){var r=new ye(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e))}}]),t}(),Gke=function(){function t(e,r){De(this,t),this.ctx=e,this.w=e.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new B3(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Re(t,[{key:"draw",value:function(e){var r=this.w,n=new ye(this.ctx),a=n.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var i=r.globals.gridWidth/r.globals.dataPoints,s=r.globals.gridHeight/r.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();r.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var f=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ne.escapeString(r.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(f,u),r.config.chart.dropShadow.enabled){var h=r.config.chart.dropShadow;new Zr(this.ctx).dropShadow(f,h,u)}for(var d=0,g=r.config.plotOptions.heatmap.shadeIntensity,p=0,m=0;m<r.globals.dataPoints;m++)if(r.globals.seriesX.length&&!r.globals.allSeriesHasEqualX&&r.globals.minX+r.globals.minXDiff*m<r.globals.seriesX[u][p])d+=i;else{if(p>=c[u].length)break;var v=this.helpers.getShadeColor(r.config.chart.type,u,p,this.negRange),y=v.color,b=v.colorProps;r.config.fill.type==="image"&&(y=new oi(this.ctx).fillPath({seriesNumber:u,dataPointIndex:p,opacity:r.globals.hasNegs?b.percent<0?1-(1+b.percent/100):g+b.percent/100:b.percent/100,patternID:ne.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:i,height:r.config.fill.image.height?r.config.fill.image.height:s}));var S=this.rectRadius,w=n.drawRect(d,o,i,s,S);if(w.attr({cx:d,cy:o}),w.node.classList.add("apexcharts-heatmap-rect"),f.add(w),w.attr({fill:y,i:u,index:u,j:p,val:e[u][p],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?y:r.globals.stroke.colors[0],color:y}),this.helpers.addListeners(w),r.config.chart.animations.enabled&&!r.globals.dataChanged){var _=1;r.globals.resized||(_=r.config.chart.animations.speed),this.animateHeatMap(w,d,o,i,s,_)}if(r.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){k=this.dynamicAnim.speed;var A=r.globals.previousPaths[u]&&r.globals.previousPaths[u][p]&&r.globals.previousPaths[u][p].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,ne.isColorHex(A)?A:ne.rgb2hex(A),ne.isColorHex(y)?y:ne.rgb2hex(y),k)}}var E=(0,r.config.dataLabels.formatter)(r.globals.series[u][p],{value:r.globals.series[u][p],seriesIndex:u,dataPointIndex:p,w:r}),C=this.helpers.calculateDataLabels({text:E,x:d+i/2,y:o+s/2,i:u,j:p,colorProps:b,series:c});C!==null&&f.add(C),d+=i,p++}o+=s,a.add(f)}var T=r.globals.yAxisScale[0].result.slice();return r.config.yaxis[0].reversed?T.unshift(""):T.push(""),r.globals.yAxisScale[0].result=T,a}},{key:"animateHeatMap",value:function(e,r,n,a,i,s){var o=new Bu(this.ctx);o.animateRect(e,{x:r+a/2,y:n+i/2,width:0,height:0},{x:r,y:n,width:a,height:i},s,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,r,n,a){e.attr({fill:r}).animate(a).attr({fill:n})}}]),t}(),$3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"drawYAxisTexts",value:function(e,r,n,a){var i=this.w,s=i.config.yaxis[0],o=i.globals.yLabelFormatters[0];return new ye(this.ctx).drawText({x:e+s.labels.offsetX,y:r+s.labels.offsetY,text:o(a,n),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[n]:s.labels.style.colors})}}]),t}(),z3=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100;var n=r.config.plotOptions.pie.customScale,a=r.globals.gridWidth/2,i=r.globals.gridHeight/2;this.translateX=a-a*n,this.translateY=i-i*n,this.dataLabelsGroup=new ye(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Re(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new ye(this.ctx),i=a.group({class:"apexcharts-pie"});if(n.globals.noData)return i;for(var s=0,o=0;o<e.length;o++)s+=ne.negToZero(e[o]);var l=[],c=a.group();s===0&&(s=1e-5),e.forEach(function(b){r.maxY=Math.max(r.maxY,b)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(i);for(var u=0;u<e.length;u++){var f=this.fullAngle*ne.negToZero(e[u])/s;l.push(f),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var h,d=0,g=0;g<n.globals.previousPaths.length;g++)d+=ne.negToZero(n.globals.previousPaths[g]);for(var p=0;p<n.globals.previousPaths.length;p++)h=this.fullAngle*ne.negToZero(n.globals.previousPaths[p])/d,this.prevSectorAngleArr.push(h)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var m=a.drawCircle(this.donutSize);m.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),c.add(m)}var v=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){v.add(b)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),c.add(v),i.add(c),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.add(y)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(i),i}},{key:"drawArcs",value:function(e,r){var n=this.w,a=new Zr(this.ctx),i=new ye(this.ctx),s=new oi(this.ctx),o=i.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,f=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var h=0;h<e.length;h++){var d=i.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ne.escapeString(n.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});o.add(d),c=f,u=(l=u)+e[h],f=c+this.prevSectorAngleArr[h];var g=u<l?this.fullAngle+u-l:u-l,p=s.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:r[h]}),m=this.getChangedPath(c,f),v=i.drawPath({d:m,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(v.attr({index:0,j:h}),a.setSelectionFilter(v,0,h),n.config.chart.dropShadow.enabled){var y=n.config.chart.dropShadow;a.dropShadow(v,y,h)}this.addListeners(v,this.donutDataLabels),ye.setAttrs(v.node,{"data:angle":g,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":r[h]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=ne.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle):this.chartType==="donut"&&(b=ne.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle)),d.add(v);var S=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((S=g/this.fullAngle*n.config.chart.animations.speed)===0&&(S=1),this.animDur=S+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(v,{size:this.sliceSizes[h],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:f,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(v,{size:this.sliceSizes[h],endAngle:u,startAngle:l,i:h,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:S}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&v.node.addEventListener("mouseup",this.pieClicked.bind(this,h)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),n.config.dataLabels.enabled){var w=b.x,_=b.y,k=100*g/this.fullAngle+"%";if(g!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[h]){var A=n.config.dataLabels.formatter;A!==void 0&&(k=A(n.globals.seriesPercent[h][0],{seriesIndex:h,w:n}));var E=n.globals.dataLabels.style.colors[h],C=i.group({class:"apexcharts-datalabels"}),T=i.drawText({x:w,y:_,text:k,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:E});if(C.add(T),n.config.dataLabels.dropShadow.enabled){var O=n.config.dataLabels.dropShadow;a.dropShadow(T,O)}T.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(T.node.classList.add("apexcharts-pie-label-delay"),T.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(C)}}}return o}},{key:"addListeners",value:function(e,r){var n=new ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,r)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,r)))}},{key:"animatePaths",value:function(e,r){var n=this.w,a=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,i=a,s=r.startAngle,o=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(s=r.prevEndAngle,i=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===n.config.series.length-1&&(a+o>this.fullAngle?r.endAngle=r.endAngle-(a+o):a+o<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(a+o)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,s,o,a,i,r)}},{key:"animateArc",value:function(e,r,n,a,i,s){var o,l=this,c=this.w,u=new Bu(this.ctx),f=s.size;(isNaN(r)||isNaN(i))&&(r=n,i=a,s.dur=0);var h=a,d=n,g=r<n?this.fullAngle+r-n:r-n;c.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:f}),e.attr({d:o})),s.dur!==0?e.animate(s.dur,s.animBeginArr[s.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),s.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(p){h=g+(a-g)*p,s.animateStartingPos&&(h=i+(a-i)*p,d=r-i+(n-(r-i))*p),o=l.getPiePath({me:l,startAngle:d,angle:h,size:f}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:d,angle:a,size:f}),s.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var r,n=this.w,a=this,i=a.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),s=n.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(s.attr("data:pieClicked")!=="true"){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(f){f.setAttribute("data:pieClicked","false");var h=f.getAttribute("data:pathOrig");h&&f.setAttribute("d",h)}),n.globals.capturedDataPointIndex=e,s.attr("data:pieClicked","true");var l=parseInt(s.attr("data:startAngle"),10),c=parseInt(s.attr("data:angle"),10);r=a.getPiePath({me:a,startAngle:l,angle:c,size:i}),c!==360&&s.plot(r)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var u=s.attr("data:pathOrig");s.attr({d:u})}}},{key:"getChangedPath",value:function(e,r){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:r-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var r,n=e.me,a=e.startAngle,i=e.angle,s=e.size,o=new ye(this.ctx),l=a,c=Math.PI*(l-90)/180,u=i+a;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var f=Math.PI*(u-90)/180,h=n.centerX+s*Math.cos(c),d=n.centerY+s*Math.sin(c),g=n.centerX+s*Math.cos(f),p=n.centerY+s*Math.sin(f),m=ne.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),v=ne.polarToCartesian(n.centerX,n.centerY,n.donutSize,l),y=i>180?1:0,b=["M",h,d,"A",s,s,0,y,1,g,p];return r=n.chartType==="donut"?[].concat(b,["L",m.x,m.y,"A",n.donutSize,n.donutSize,0,y,0,v.x,v.y,"L",h,d,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(b,["L",n.centerX,n.centerY,"L",h,d]).join(" "):[].concat(b).join(" "),o.roundPathCorners(r,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var r=this.w,n=new j3(this.ctx),a=new ye(this.ctx),i=new $3(this.ctx),s=a.group(),o=a.group(),l=n.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var f=r.globals.radialSize,h=f/(u-1),d=0;d<u-1;d++){var g=a.drawCircle(f);if(g.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var p=i.drawYAxisTexts(this.centerX,this.centerY-f+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,d,c[d]);o.add(p)}s.add(g),f-=h}this.drawSpokes(e),e.add(s),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,r,n){var a=this.w,i=new ye(this.ctx),s=r.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var o,l,c=n.centerX,u=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;o=r.name.color===void 0?a.globals.colors[0]:r.name.color;var f=r.name.fontSize,h=r.name.fontFamily,d=r.name.fontWeight;l=r.value.color===void 0?a.config.chart.foreColor:r.value.color;var g=r.value.formatter,p="",m="";if(s?(o=r.total.color,f=r.total.fontSize,h=r.total.fontFamily,d=r.total.fontWeight,m=this.donutDataLabels.total.label?r.total.label:"",p=r.total.formatter(a)):a.globals.series.length===1&&(p=g(a.globals.series[0],a),m=a.globals.seriesNames[0]),m&&(m=r.name.formatter(m,r.total.show,a)),r.name.show){var v=i.drawText({x:c,y:u+parseFloat(r.name.offsetY),text:m,textAnchor:"middle",foreColor:o,fontSize:f,fontWeight:d,fontFamily:h});v.node.classList.add("apexcharts-datalabel-label"),e.add(v)}if(r.value.show){var y=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,b=i.drawText({x:c,y:u+y,text:p,textAnchor:"middle",foreColor:l,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,r,n,a){var i,s=this.w;a?i=e.name.color===void 0?s.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:s.globals.series.length>1&&e.total.show&&(i=e.total.color);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,s),a||typeof e.total.formatter!="function"||(n=e.total.formatter(s));var c=r===e.total.label;r=this.donutDataLabels.total.label?e.name.formatter(r,c,s):"",o!==null&&(o.textContent=r),l!==null&&(l.textContent=n),o!==null&&(o.style.fill=i)}},{key:"printDataLabelsInner",value:function(e,r){var n=this.w,a=e.getAttribute("data:value"),i=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(r,i,a,e);var s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");s!==null&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(e){var r=this,n=this.w,a=new ye(this.ctx),i=n.config.plotOptions.polarArea.spokes;if(i.strokeWidth!==0){for(var s=[],o=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)s.push(ne.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*l));s.forEach(function(c,u){var f=a.drawLine(c.x,c.y,r.centerX,r.centerY,Array.isArray(i.connectorColors)?i.connectorColors[u]:i.connectorColors);e.add(f)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var r=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(r,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),t}(),qke=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new ye(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.logBase=r.config.yaxis[0].logBase,this.coreUtils=new dr(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Re(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new oi(this.ctx),i=[],s=new hu(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=o+n.config.plotOptions.radar.offsetX,u=l+n.config.plotOptions.radar.offsetY,f=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),h=[],d=null,g=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(m,v){var y=m.length===n.globals.dataPoints,b=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:ne.escapeString(n.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});r.dataRadiusOfPercent[v]=[],r.dataRadius[v]=[],r.angleArr[v]=[],m.forEach(function(N,z){var W=Math.abs(r.maxValue-r.minValue);N-=r.minValue,r.isLog&&(N=r.coreUtils.getLogVal(r.logBase,N,0)),r.dataRadiusOfPercent[v][z]=N/W,r.dataRadius[v][z]=r.dataRadiusOfPercent[v][z]*r.size,r.angleArr[v][z]=z*r.disAngle}),h=r.getDataPointsPos(r.dataRadius[v],r.angleArr[v]);var S=r.createPaths(h,{x:0,y:0});d=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),g=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":v}),n.globals.delayedElements.push({el:d.node,index:v});var w={i:v,realIndex:v,animationDelay:v,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[v],strokeLineCap:n.config.stroke.lineCap},_=null;n.globals.previousPaths.length>0&&(_=r.getPreviousPath(v));for(var k=0;k<S.linePathsTo.length;k++){var A=r.graphics.renderPaths(Ae(Ae({},w),{},{pathFrom:_===null?S.linePathsFrom[k]:_,pathTo:S.linePathsTo[k],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[v]:r.strokeWidth,fill:"none",drawShadow:!1}));b.add(A);var E=a.fillPath({seriesNumber:v}),C=r.graphics.renderPaths(Ae(Ae({},w),{},{pathFrom:_===null?S.areaPathsFrom[k]:_,pathTo:S.areaPathsTo[k],strokeWidth:0,fill:E,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var T=new Zr(r.ctx),O=n.config.chart.dropShadow;T.dropShadow(C,Object.assign({},O,{noUserSpaceOnUse:!0}),v)}b.add(C)}m.forEach(function(N,z){var W=new Uu(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:z}),F=r.graphics.drawMarker(h[z].x,h[z].y,W);F.attr("rel",z),F.attr("j",z),F.attr("index",v),F.node.setAttribute("default-marker-size",W.pSize);var L=r.graphics.group({class:"apexcharts-series-markers"});L&&L.add(F),d.add(L),b.add(d);var H=n.config.dataLabels;if(H.enabled){var I=H.formatter(n.globals.series[v][z],{seriesIndex:v,dataPointIndex:z,w:n});s.plotDataLabelsText({x:h[z].x,y:h[z].y,text:I,textAnchor:"middle",i:v,j:v,parent:g,offsetCorrection:!1,dataLabelsConfig:Ae({},H)})}b.add(g)}),i.push(b)}),this.drawPolygons({parent:f}),n.config.xaxis.labels.show){var p=this.drawXAxisTexts();f.add(p)}return i.forEach(function(m){f.add(m)}),f.add(this.yaxisLabels),f}},{key:"drawPolygons",value:function(e){for(var r=this,n=this.w,a=e.parent,i=new $3(this.ctx),s=n.globals.yAxisScale[0].result.reverse(),o=s.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var f=[],h=[];l.forEach(function(d,g){var p=ne.getPolygonPos(d,r.dataPointsLen),m="";p.forEach(function(v,y){if(g===0){var b=r.graphics.drawLine(v.x,v.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[y]:r.polygons.connectorColors);h.push(b)}y===0&&r.yaxisLabelsTextsPos.push({x:v.x,y:v.y}),m+=v.x+","+v.y+" "}),f.push(m)}),f.forEach(function(d,g){var p=r.polygons.strokeColors,m=r.polygons.strokeWidth,v=r.graphics.drawPolygon(d,Array.isArray(p)?p[g]:p,Array.isArray(m)?m[g]:m,n.globals.radarPolygons.fill.colors[g]);a.add(v)}),h.forEach(function(d){a.add(d)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(d,g){var p=i.drawYAxisTexts(d.x,d.y,g,s[g]);r.yaxisLabels.add(p)})}},{key:"drawXAxisTexts",value:function(){var e=this,r=this.w,n=r.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),i=ne.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(s,o){var l=r.config.xaxis.labels.formatter,c=new hu(e.ctx);if(i[o]){var u=e.getTextPos(i[o],e.size),f=l(s,{seriesIndex:-1,dataPointIndex:o,w:r});c.plotDataLabelsText({x:u.newX,y:u.newY,text:f,textAnchor:u.textAnchor,i:o,j:o,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:Ae({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(h){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var d=Object.assign({},r,{labelIndex:o});r.config.chart.events.xAxisLabelClick(h,e.ctx,d)}})}}),a}},{key:"createPaths",value:function(e,r){var n=this,a=[],i=[],s=[],o=[];if(e.length){i=[this.graphics.move(r.x,r.y)],o=[this.graphics.move(r.x,r.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,f){l+=n.graphics.line(u.x,u.y),c+=n.graphics.line(u.x,u.y),f===e.length-1&&(l+="Z",c+="Z")}),a.push(l),s.push(c)}return{linePathsFrom:i,linePathsTo:a,areaPathsFrom:o,areaPathsTo:s}}},{key:"getTextPos",value:function(e,r){var n="middle",a=e.x,i=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",a+=10):e.x<0&&(n="end",a-=10):n="middle",Math.abs(e.y)>=r-10&&(e.y<0?i-=10:e.y>0&&(i+=10)),{textAnchor:n,newX:a,newY:i}}},{key:"getPreviousPath",value:function(e){for(var r=this.w,n=null,a=0;a<r.globals.previousPaths.length;a++){var i=r.globals.previousPaths[a];i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[a].paths[0]!==void 0&&(n=r.globals.previousPaths[a].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],r=r||[];for(var a=[],i=0;i<n;i++){var s={};s.x=e[i]*Math.sin(r[i]),s.y=-e[i]*Math.cos(r[i]),a.push(s)}return a}}]),t}(),Kke=function(t){Jd(r,z3);var e=Kd(r);function r(n){var a;De(this,r),(a=e.call(this,n)).ctx=n,a.w=n.w,a.animBeginArr=[0],a.animDur=0;var i=a.w;return a.startAngle=i.config.plotOptions.radialBar.startAngle,a.endAngle=i.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),a.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(QL(a)),a}return Re(r,[{key:"draw",value:function(n){var a=this.w,i=new ye(this.ctx),s=i.group({class:"apexcharts-radialbar"});if(a.globals.noData)return s;var o=i.group(),l=this.defaultSize/2,c=a.globals.gridWidth/2,u=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(u=u-a.config.stroke.width-a.config.chart.dropShadow.blur);var f=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var h=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:f,series:n});o.add(h)}var d=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:f,series:n}),g=360;a.config.plotOptions.radialBar.startAngle<0&&(g=this.totalAngle);var p=(360-g)/360;if(a.globals.radialSize=u-u*p,this.radialDataLabels.value.show){var m=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=m*p}return o.add(d.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),s.add(o),s}},{key:"drawTracks",value:function(n){var a=this.w,i=new ye(this.ctx),s=i.group({class:"apexcharts-tracks"}),o=new Zr(this.ctx),l=new oi(this.ctx),c=this.getStrokeWidth(n);n.size=n.size-c/2;for(var u=0;u<n.series.length;u++){var f=i.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(f),f.attr({rel:u+1}),n.size=n.size-c-this.margin;var h=a.config.plotOptions.radialBar.track,d=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(h.background)?h.background[u]:h.background,solid:!0}),g=this.trackStartAngle,p=this.trackEndAngle;Math.abs(p)+Math.abs(g)>=360&&(p=360-Math.abs(this.startAngle)-.1);var m=i.drawPath({d:"",stroke:d,strokeWidth:c*parseInt(h.strokeWidth,10)/100,fill:"none",strokeOpacity:h.opacity,classes:"apexcharts-radialbar-area"});if(h.dropShadow.enabled){var v=h.dropShadow;o.dropShadow(m,v)}f.add(m),m.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(m,{centerX:n.centerX,centerY:n.centerY,endAngle:p,startAngle:g,size:n.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return s}},{key:"drawArcs",value:function(n){var a=this.w,i=new ye(this.ctx),s=new oi(this.ctx),o=new Zr(this.ctx),l=i.group(),c=this.getStrokeWidth(n);n.size=n.size-c/2;var u=a.config.plotOptions.radialBar.hollow.background,f=n.size-c*n.series.length-this.margin*n.series.length-c*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,h=f-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(n,l,f,u));var d=this.drawHollow({size:h,centerX:n.centerX,centerY:n.centerY,fill:u||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var g=a.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(d,g)}var p=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(p=0);var m=null;if(this.radialDataLabels.show){var v=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");m=this.renderInnerDataLabels(v,this.radialDataLabels,{hollowSize:f,centerX:n.centerX,centerY:n.centerY,opacity:p})}a.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(d),m&&l.add(m));var y=!1;a.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var b=y?n.series.length-1:0;y?b>=0:b<n.series.length;y?b--:b++){var S=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ne.escapeString(a.globals.seriesNames[b])});l.add(S),S.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(S,b),n.size=n.size-c-this.margin;var w=s.fillPath({seriesNumber:b,size:n.size,value:n.series[b]}),_=this.startAngle,k=void 0,A=ne.negToZero(n.series[b]>100?100:n.series[b])/100,E=Math.round(this.totalAngle*A)+this.startAngle,C=void 0;a.globals.dataChanged&&(k=this.startAngle,C=Math.round(this.totalAngle*ne.negToZero(a.globals.previousPaths[b])/100)+k),Math.abs(E)+Math.abs(_)>360&&(E-=.01),Math.abs(C)+Math.abs(k)>360&&(C-=.01);var T=E-_,O=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[b]:a.config.stroke.dashArray,N=i.drawPath({d:"",stroke:w,strokeWidth:c,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:O});if(ye.setAttrs(N.node,{"data:angle":T,"data:value":n.series[b]}),a.config.chart.dropShadow.enabled){var z=a.config.chart.dropShadow;o.dropShadow(N,z,b)}if(o.setSelectionFilter(N,0,b),this.addListeners(N,this.radialDataLabels),S.add(N),N.attr({index:0,j:b}),this.barLabels.enabled){var W=ne.polarToCartesian(n.centerX,n.centerY,n.size,_),F=this.barLabels.formatter(a.globals.seriesNames[b],{seriesIndex:b,w:a}),L=["apexcharts-radialbar-label"];this.barLabels.onClick||L.push("apexcharts-no-click");var H=this.barLabels.useSeriesColors?a.globals.colors[b]:a.config.chart.foreColor;H||(H=a.config.chart.foreColor);var I=W.x+this.barLabels.offsetX,X=W.y+this.barLabels.offsetY,K=i.drawText({x:I,y:X,text:F,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:H,cssClass:L.join(" ")});K.on("click",this.onBarLabelClick),K.attr({rel:b+1}),_!==0&&K.attr({"transform-origin":"".concat(I," ").concat(X),transform:"rotate(".concat(_," 0 0)")}),S.add(K)}var P=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(P=a.config.chart.animations.speed),a.globals.dataChanged&&(P=a.config.chart.animations.dynamicAnimation.speed),this.animDur=P/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(N,{centerX:n.centerX,centerY:n.centerY,endAngle:E,startAngle:_,prevEndAngle:C,prevStartAngle:k,size:n.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:P,shouldSetPrevPaths:!0})}return{g:l,elHollow:d,dataLabels:m}}},{key:"drawHollow",value:function(n){var a=new ye(this.ctx).drawCircle(2*n.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),a}},{key:"drawHollowImage",value:function(n,a,i,s){var o=this.w,l=new oi(this.ctx),c=ne.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:i,height:i,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),s="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var f=o.config.plotOptions.radialBar.hollow.imageWidth,h=o.config.plotOptions.radialBar.hollow.imageHeight;if(f===void 0&&h===void 0){var d=o.globals.dom.Paper.image(u,function(p){this.move(n.centerX-p.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-p.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(d)}else{var g=o.globals.dom.Paper.image(u,function(p){this.move(n.centerX-f/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(f,h)});a.add(g)}}return s}},{key:"getStrokeWidth",value:function(n){var a=this.w;return n.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var a=parseInt(n.target.getAttribute("rel"),10)-1,i=this.barLabels.onClick,s=this.w;i&&i(s.globals.seriesNames[a],{w:s,seriesIndex:a})}}]),r}(),Jke=function(t){Jd(r,du);var e=Kd(r);function r(){return De(this,r),e.apply(this,arguments)}return Re(r,[{key:"draw",value:function(n,a){var i=this.w,s=new ye(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var o=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var c,u,f,h,d=void 0,g=void 0,p=i.globals.comboCharts?a[l]:l,m=this.barHelpers.getGroupIndex(p).columnGroupIndex,v=s.group({class:"apexcharts-series",seriesName:ne.escapeString(i.globals.seriesNames[p]),rel:l+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(v,p),n[l].length>0&&(this.visibleI=this.visibleI+1);var y=0,b=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[p][0],S=p);var w=this.barHelpers.initialPositions(p);g=w.y,h=w.zeroW,d=w.x,b=w.barWidth,y=w.barHeight,c=w.xDivision,u=w.yDivision,f=w.zeroH;for(var _=s.group({class:"apexcharts-datalabels","data:realIndex":p}),k=s.group({class:"apexcharts-rangebar-goals-markers"}),A=0;A<i.globals.dataPoints;A++){var E=this.barHelpers.getStrokeWidth(l,A,p),C=this.seriesRangeStart[l][A],T=this.seriesRangeEnd[l][A],O=null,N=null,z=null,W={x:d,y:g,strokeWidth:E,elSeries:v},F=this.seriesLen;if(i.config.plotOptions.bar.rangeBarGroupRows&&(F=1),i.config.series[l].data[A]===void 0)break;if(this.isHorizontal){z=g+y*this.visibleI;var L=(u-y*F)/2;if(i.config.series[l].data[A].x){var H=this.detectOverlappingBars({i:l,j:A,barYPosition:z,srty:L,barHeight:y,yDivision:u,initPositions:w});y=H.barHeight,z=H.barYPosition}b=(O=this.drawRangeBarPaths(Ae({indexes:{i:l,j:A,realIndex:p},barHeight:y,barYPosition:z,zeroW:h,yDivision:u,y1:C,y2:T},W))).barWidth}else{i.globals.isXNumeric&&(d=(i.globals.seriesX[l][A]-i.globals.minX)/this.xRatio-b/2),N=d+b*this.visibleI;var I=(c-b*F)/2;if(i.config.series[l].data[A].x){var X=this.detectOverlappingBars({i:l,j:A,barXPosition:N,srtx:I,barWidth:b,xDivision:c,initPositions:w});b=X.barWidth,N=X.barXPosition}y=(O=this.drawRangeColumnPaths(Ae({indexes:{i:l,j:A,realIndex:p,translationsIndex:S},barWidth:b,barXPosition:N,zeroH:f,xDivision:c},W))).barHeight}var K=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:z,goalX:O.goalX,goalY:O.goalY,barHeight:y,barWidth:b});K&&k.add(K),g=O.y,d=O.x;var P=this.barHelpers.getPathFillColor(n,l,A,p);this.renderSeries({realIndex:p,pathFill:P.color,lineFill:P.useRangeColor?P.color:i.globals.stroke.colors[p],j:A,i:l,x:d,y:g,y1:C,y2:T,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:E,elSeries:v,series:n,barHeight:y,barWidth:b,barXPosition:N,barYPosition:z,columnGroupIndex:m,elDataLabelsWrap:_,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}o.add(v)}return o}},{key:"detectOverlappingBars",value:function(n){var a=n.i,i=n.j,s=n.barYPosition,o=n.barXPosition,l=n.srty,c=n.srtx,u=n.barHeight,f=n.barWidth,h=n.yDivision,d=n.xDivision,g=n.initPositions,p=this.w,m=[],v=p.config.series[a].data[i].rangeName,y=p.config.series[a].data[i].x,b=Array.isArray(y)?y.join(" "):y,S=p.globals.labels.map(function(_){return Array.isArray(_)?_.join(" "):_}).indexOf(b),w=p.globals.seriesRange[a].findIndex(function(_){return _.x===b&&_.overlaps.length>0});return this.isHorizontal?(s=p.config.plotOptions.bar.rangeBarGroupRows?l+h*S:l+u*this.visibleI+h*S,w>-1&&!p.config.plotOptions.bar.rangeBarOverlap&&(m=p.globals.seriesRange[a][w].overlaps).indexOf(v)>-1&&(s=(u=g.barHeight/m.length)*this.visibleI+h*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+m.indexOf(v))+h*S)):(S>-1&&!p.globals.timescaleLabels.length&&(o=p.config.plotOptions.bar.rangeBarGroupRows?c+d*S:c+f*this.visibleI+d*S),w>-1&&!p.config.plotOptions.bar.rangeBarOverlap&&(m=p.globals.seriesRange[a][w].overlaps).indexOf(v)>-1&&(o=(f=g.barWidth/m.length)*this.visibleI+d*(100-parseInt(this.barOptions.barWidth,10))/100/2+f*(this.visibleI+m.indexOf(v))+d*S)),{barYPosition:s,barXPosition:o,barHeight:u,barWidth:f}}},{key:"drawRangeColumnPaths",value:function(n){var a=n.indexes,i=n.x,s=n.xDivision,o=n.barWidth,l=n.barXPosition,c=n.zeroH,u=this.w,f=a.i,h=a.j,d=a.realIndex,g=a.translationsIndex,p=this.yRatio[g],m=this.getRangeValue(d,h),v=Math.min(m.start,m.end),y=Math.max(m.start,m.end);this.series[f][h]===void 0||this.series[f][h]===null?v=c:(v=c-v/p,y=c-y/p);var b=Math.abs(y-v),S=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:v,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:d,i:d,j:h,w:u});if(u.globals.isXNumeric){var w=this.getBarXForNumericXAxis({x:i,j:h,realIndex:d,barWidth:o});i=w.x,l=w.barXPosition}else i+=s;return{pathTo:S.pathTo,pathFrom:S.pathFrom,barHeight:b,x:i,y:m.start<0&&m.end<0?v:y,goalY:this.barHelpers.getGoalValues("y",null,c,f,h,g),barXPosition:l}}},{key:"preventBarOverflow",value:function(n){var a=this.w;return n<0&&(n=0),n>a.globals.gridWidth&&(n=a.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var a=n.indexes,i=n.y,s=n.y1,o=n.y2,l=n.yDivision,c=n.barHeight,u=n.barYPosition,f=n.zeroW,h=this.w,d=a.realIndex,g=a.j,p=this.preventBarOverflow(f+s/this.invertedYRatio),m=this.preventBarOverflow(f+o/this.invertedYRatio),v=this.getRangeValue(d,g),y=Math.abs(m-p),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:p,x2:m,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:d,realIndex:d,j:g,w:h});return h.globals.isXNumeric||(i+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:y,x:v.start<0&&v.end<0?p:m,goalX:this.barHelpers.getGoalValues("x",f,null,d,g),y:i}}},{key:"getRangeValue",value:function(n,a){var i=this.w;return{start:i.globals.seriesRangeStart[n][a],end:i.globals.seriesRangeEnd[n][a]}}}]),r}(),Zke=function(){function t(e){De(this,t),this.w=e.w,this.lineCtx=e}return Re(t,[{key:"sameValueSeriesFix",value:function(e,r){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new dr(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var a=r[e].slice();a[a.length-1]=a[a.length-1]+1e-6,r[e]=a}return r}},{key:"calculatePoints",value:function(e){var r=e.series,n=e.realIndex,a=e.x,i=e.y,s=e.i,o=e.j,l=e.prevY,c=this.w,u=[],f=[],h=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(h=(c.globals.seriesX[n][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(h),f.push(ne.isNumber(r[s][0])?l+c.config.markers.offsetY:null)),u.push(a+c.config.markers.offsetX),f.push(ne.isNumber(r[s][o+1])?i+c.config.markers.offsetY:null),{x:u,y:f}}},{key:"checkPreviousPaths",value:function(e){for(var r=e.pathFromLine,n=e.pathFromArea,a=e.realIndex,i=this.w,s=0;s<i.globals.previousPaths.length;s++){var o=i.globals.previousPaths[s];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(a,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,r=i.globals.previousPaths[s].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=i.globals.previousPaths[s].paths[0].d,i.config.stroke.show&&i.globals.previousPaths[s].paths[1]&&(r=i.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:r,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var r,n,a,i=e.i,s=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,f=this.w,h=f.config.chart.stacked&&!f.globals.comboCharts||f.config.chart.stacked&&f.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[s])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[s])===null||n===void 0?void 0:n.type)==="column");if(((a=o[i])===null||a===void 0?void 0:a[0])!==void 0)l=(c=h&&i>0?this.lineCtx.prevSeriesY[i-1][0]:this.lineCtx.zeroY)-o[i][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[i][0]/this.lineCtx.yRatio[u]:0);else if(h&&i>0&&o[i][0]===void 0){for(var d=i-1;d>=0;d--)if(o[d][0]!==null&&o[d][0]!==void 0){l=c=this.lineCtx.prevSeriesY[d][0];break}}return{prevY:l,lineYPosition:c}}}]),t}(),Qke=function(t){for(var e,r,n,a,i=function(u){for(var f=[],h=u[0],d=u[1],g=f[0]=wy(h,d),p=1,m=u.length-1;p<m;p++)h=d,d=u[p+1],f[p]=.5*(g+(g=wy(h,d)));return f[p]=g,f}(t),s=t.length-1,o=[],l=0;l<s;l++)n=wy(t[l],t[l+1]),Math.abs(n)<1e-6?i[l]=i[l+1]=0:(a=(e=i[l]/n)*e+(r=i[l+1]/n)*r)>9&&(a=3*n/Math.sqrt(a),i[l]=a*e,i[l+1]=a*r);for(var c=0;c<=s;c++)a=(t[Math.min(s,c+1)][0]-t[Math.max(0,c-1)][0])/(6*(1+i[c]*i[c])),o.push([a||0,i[c]*a||0]);return o},e2e=function(t){var e=Qke(t),r=t[1],n=t[0],a=[],i=e[1],s=e[0];a.push(n,[n[0]+s[0],n[1]+s[1],r[0]-i[0],r[1]-i[1],r[0],r[1]]);for(var o=2,l=e.length;o<l;o++){var c=t[o],u=e[o];a.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return a},t2e=function(t,e,r){var n=t.slice(e,r);if(e){if(r-e>1&&n[1].length<6){var a=n[0].length;n[1]=[2*n[0][a-2]-n[0][a-4],2*n[0][a-1]-n[0][a-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function wy(t,e){return(e[1]-t[1])/(e[0]-t[0])}var Sy=function(){function t(e,r,n){De(this,t),this.ctx=e,this.w=e.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new I3(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Zke(this),this.markers=new Uu(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Re(t,[{key:"draw",value:function(e,r,n,a){var i,s=this.w,o=new ye(this.ctx),l=s.globals.comboCharts?r:s.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new dr(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var f=[],h=0;h<e.length;h++){e=this.lineHelpers.sameValueSeriesFix(h,e);var d=s.globals.comboCharts?n[h]:h,g=this.yRatio.length>1?d:0;this._initSerieVariables(e,h,d);var p=[],m=[],v=[],y=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,d),s.globals.isXNumeric&&s.globals.seriesX.length>0&&(y=(s.globals.seriesX[d][0]-s.globals.minX)/this.xRatio),v.push(y);var b,S=y,w=void 0,_=S,k=this.zeroY,A=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:h,realIndex:d,series:e,prevY:k,lineYPosition:0,translationsIndex:g}).prevY,s.config.stroke.curve==="monotoneCubic"&&e[h][0]===null?p.push(null):p.push(k),b=k,l==="rangeArea"&&(w=A=this.lineHelpers.determineFirstPrevY({i:h,realIndex:d,series:a,prevY:A,lineYPosition:0,translationsIndex:g}).prevY,m.push(p[0]!==null?A:null));var E=this._calculatePathsFrom({type:l,series:e,i:h,realIndex:d,translationsIndex:g,prevX:_,prevY:k,prevY2:A}),C=[p[0]],T=[m[0]],O={type:l,series:e,realIndex:d,translationsIndex:g,i:h,x:y,y:1,pX:S,pY:b,pathsFrom:E,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:v,yArrj:p,y2Arrj:m,seriesRangeEnd:a},N=this._iterateOverDataPoints(Ae(Ae({},O),{},{iterations:l==="rangeArea"?e[h].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var z=this._calculatePathsFrom({series:a,i:h,realIndex:d,prevX:_,prevY:A}),W=this._iterateOverDataPoints(Ae(Ae({},O),{},{series:a,xArrj:[y],yArrj:C,y2Arrj:T,pY:w,areaPaths:N.areaPaths,pathsFrom:z,iterations:a[h].length-1,isRangeStart:!1})),F=N.linePaths.length/2,L=0;L<F;L++)N.linePaths[L]=W.linePaths[L+F]+N.linePaths[L];N.linePaths.splice(F),N.pathFromLine=W.pathFromLine+N.pathFromLine}else N.pathFromArea+="z";this._handlePaths({type:l,realIndex:d,i:h,paths:N}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),f.push(this.elSeries)}if(((i=s.config.series[0])===null||i===void 0?void 0:i.zIndex)!==void 0&&f.sort(function(X,K){return Number(X.node.getAttribute("zIndex"))-Number(K.node.getAttribute("zIndex"))}),s.config.chart.stacked)for(var H=f.length-1;H>=0;H--)c.add(f[H]);else for(var I=0;I<f.length;I++)c.add(f[I]);return c}},{key:"_initSerieVariables",value:function(e,r,n){var a=this.w,i=new ye(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[n]:a.config.stroke.width;var s=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[n],s=n),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[s]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[s]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=i.group({class:"apexcharts-series",zIndex:a.config.series[n].zIndex!==void 0?a.config.series[n].zIndex:n,seriesName:ne.escapeString(a.globals.seriesNames[n])}),this.elPointsMain=i.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),a.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:r,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=i.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[r].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:r+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var r,n,a,i,s=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,f=e.prevX,h=e.prevY,d=e.prevY2,g=this.w,p=new ye(this.ctx);if(o[l][0]===null){for(var m=0;m<o[l].length;m++)if(o[l][m]!==null){f=this.xDivision*m,h=this.zeroY-o[l][m]/this.yRatio[u],r=p.move(f,h),n=p.move(f,this.areaBottomY);break}}else r=p.move(f,h),s==="rangeArea"&&(r=p.move(f,d)+p.line(f,h)),n=p.move(f,this.areaBottomY)+p.line(f,h);if(a=p.move(0,this.areaBottomY)+p.line(0,this.areaBottomY),i=p.move(0,this.areaBottomY)+p.line(0,this.areaBottomY),g.globals.previousPaths.length>0){var v=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:i,realIndex:c});a=v.pathFromLine,i=v.pathFromArea}return{prevX:f,prevY:h,linePath:r,areaPath:n,pathFromLine:a,pathFromArea:i}}},{key:"_handlePaths",value:function(e){var r=e.type,n=e.realIndex,a=e.i,i=e.paths,s=this.w,o=new ye(this.ctx),l=new oi(this.ctx);this.prevSeriesY.push(i.yArrj),s.globals.seriesXvalues[n]=i.xArrj,s.globals.seriesYvalues[n]=i.yArrj;var c=s.config.forecastDataPoints;if(c.count>0&&r!=="rangeArea"){var u=s.globals.seriesXvalues[n][s.globals.seriesXvalues[n].length-c.count-1],f=o.drawRect(u,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(f.node);var h=o.drawRect(0,0,u,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var d={i:a,realIndex:n,animationDelay:a,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var g=l.fillPath({seriesNumber:n}),p=0;p<i.areaPaths.length;p++){var m=o.renderPaths(Ae(Ae({},d),{},{pathFrom:i.pathFromArea,pathTo:i.areaPaths[p],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:g}));this.elSeries.add(m)}if(s.config.stroke.show&&!this.pointsChart){var v=null;if(r==="line")v=l.fillPath({seriesNumber:n,i:a});else if(s.config.stroke.fill.type==="solid")v=s.globals.stroke.colors[n];else{var y=s.config.fill;s.config.fill=s.config.stroke.fill,v=l.fillPath({seriesNumber:n,i:a}),s.config.fill=y}for(var b=0;b<i.linePaths.length;b++){var S=v;r==="rangeArea"&&(S=l.fillPath({seriesNumber:n}));var w=Ae(Ae({},d),{},{pathFrom:i.pathFromLine,pathTo:i.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:r==="rangeArea"?S:"none"}),_=o.renderPaths(w);if(this.elSeries.add(_),_.attr("fill-rule","evenodd"),c.count>0&&r!=="rangeArea"){var k=o.renderPaths(w);k.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&k.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),_.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var r,n,a=this,i=e.type,s=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,f=e.x,h=e.y,d=e.pX,g=e.pY,p=e.pathsFrom,m=e.linePaths,v=e.areaPaths,y=e.seriesIndex,b=e.lineYPosition,S=e.xArrj,w=e.yArrj,_=e.y2Arrj,k=e.isRangeStart,A=e.seriesRangeEnd,E=this.w,C=new ye(this.ctx),T=this.yRatio,O=p.prevY,N=p.linePath,z=p.areaPath,W=p.pathFromLine,F=p.pathFromArea,L=ne.isNumber(E.globals.minYArr[l])?E.globals.minYArr[l]:E.globals.minY;o||(o=E.globals.dataPoints>1?E.globals.dataPoints-1:E.globals.dataPoints);var H=function(re,se){return se-re/T[c]+2*(a.isReversed?re/T[c]:0)},I=h,X=E.config.chart.stacked&&!E.globals.comboCharts||E.config.chart.stacked&&E.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((r=this.w.config.series[l])===null||r===void 0?void 0:r.type)==="bar"||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="column"),K=E.config.stroke.curve;Array.isArray(K)&&(K=Array.isArray(y)?K[y[u]]:K[u]);for(var P,Y=0,B=0;B<o&&s[u].length!==0;B++){var G=s[u][B+1]===void 0||s[u][B+1]===null;if(E.globals.isXNumeric){var te=E.globals.seriesX[l][B+1];E.globals.seriesX[l][B+1]===void 0&&(te=E.globals.seriesX[l][o-1]),f=(te-E.globals.minX)/this.xRatio}else f+=this.xDivision;X?u>0&&E.globals.collapsedSeries.length<E.config.series.length-1?b=this.prevSeriesY[function(re){for(var se=re;se>0;se--){if(!(E.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[se])||se)>-1))return se;se--}return 0}(u-1)][B+1]:b=this.zeroY:b=this.zeroY,G?h=H(L,b):(h=H(s[u][B+1],b),i==="rangeArea"&&(I=H(A[u][B+1],b))),S.push(s[u][B+1]===null?null:f),!G||E.config.stroke.curve!=="smooth"&&E.config.stroke.curve!=="monotoneCubic"?(w.push(h),_.push(I)):(w.push(null),_.push(null));var oe=this.lineHelpers.calculatePoints({series:s,x:f,y:h,realIndex:l,i:u,j:B,prevY:O}),le=this._createPaths({type:i,series:s,i:u,realIndex:l,j:B,x:f,y:h,y2:I,xArrj:S,yArrj:w,y2Arrj:_,pX:d,pY:g,pathState:Y,segmentStartX:P,linePath:N,areaPath:z,linePaths:m,areaPaths:v,curve:K,isRangeStart:k});v=le.areaPaths,m=le.linePaths,d=le.pX,g=le.pY,Y=le.pathState,P=le.segmentStartX,z=le.areaPath,N=le.linePath,!this.appendPathFrom||E.globals.hasNullValues||K==="monotoneCubic"&&i==="rangeArea"||(W+=C.line(f,this.areaBottomY),F+=C.line(f,this.areaBottomY)),this.handleNullDataPoints(s,oe,u,B,l),this._handleMarkersAndLabels({type:i,pointsPos:oe,i:u,j:B,realIndex:l,isRangeStart:k})}return{yArrj:w,xArrj:S,pathFromArea:F,areaPaths:v,pathFromLine:W,linePaths:m,linePath:N,areaPath:z}}},{key:"_handleMarkersAndLabels",value:function(e){var r=e.type,n=e.pointsPos,a=e.isRangeStart,i=e.i,s=e.j,o=e.realIndex,l=this.w,c=new hu(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,s,{realIndex:o,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:o,j:s+1});u!==null&&this.elPointsMain.add(u)}var f=c.drawDataLabel({type:r,isRangeStart:a,pos:n,i:o,j:s+1});f!==null&&this.elDataLabelsWrap.add(f)}},{key:"_createPaths",value:function(e){var r=e.type,n=e.series,a=e.i;e.realIndex;var i,s=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,f=e.y2,h=e.y2Arrj,d=e.pX,g=e.pY,p=e.pathState,m=e.segmentStartX,v=e.linePath,y=e.areaPath,b=e.linePaths,S=e.areaPaths,w=e.curve,_=e.isRangeStart,k=new ye(this.ctx),A=this.areaBottomY,E=r==="rangeArea",C=r==="rangeArea"&&_;switch(w){case"monotoneCubic":var T=_?u:h;switch(p){case 0:if(T[s+1]===null)break;p=1;case 1:if(!(E?c.length===n[a].length:s===n[a].length-2))break;case 2:var O=_?c:c.slice().reverse(),N=_?T:T.slice().reverse(),z=(i=N,O.map(function(te,oe){return[te,i[oe]]}).filter(function(te){return te[1]!==null})),W=z.length>1?e2e(z):z,F=[];E&&(C?S=z:F=S.reverse());var L=0,H=0;if(function(te,oe){for(var le=function(D){var Ce=[],Ee=0;return D.forEach(function($e){$e!==null?Ee++:Ee>0&&(Ce.push(Ee),Ee=0)}),Ee>0&&Ce.push(Ee),Ce}(te),re=[],se=0,xe=0;se<le.length;xe+=le[se++])re[se]=t2e(oe,xe,xe+le[se]);return re}(N,W).forEach(function(te){L++;var oe=function(se){for(var xe="",D=0;D<se.length;D++){var Ce=se[D],Ee=Ce.length;Ee>4?(xe+="C".concat(Ce[0],", ").concat(Ce[1]),xe+=", ".concat(Ce[2],", ").concat(Ce[3]),xe+=", ".concat(Ce[4],", ").concat(Ce[5])):Ee>2&&(xe+="S".concat(Ce[0],", ").concat(Ce[1]),xe+=", ".concat(Ce[2],", ").concat(Ce[3]))}return xe}(te),le=H,re=(H+=te.length)-1;C?v=k.move(z[le][0],z[le][1])+oe:E?v=k.move(F[le][0],F[le][1])+k.line(z[le][0],z[le][1])+oe+k.line(F[re][0],F[re][1]):(v=k.move(z[le][0],z[le][1])+oe,y=v+k.line(z[re][0],A)+k.line(z[le][0],A)+"z",S.push(y)),b.push(v)}),E&&L>1&&!C){var I=b.slice(L).reverse();b.splice(L),I.forEach(function(te){return b.push(te)})}p=0}break;case"smooth":var X=.35*(o-d);if(n[a][s]===null)p=0;else switch(p){case 0:if(m=d,v=C?k.move(d,h[s])+k.line(d,g):k.move(d,g),y=k.move(d,g),n[a][s+1]===null||n[a][s+1]===void 0){b.push(v),S.push(y);break}if(p=1,s<n[a].length-2){var K=k.curve(d+X,g,o-X,l,o,l);v+=K,y+=K;break}case 1:if(n[a][s+1]===null)v+=C?k.line(d,f):k.move(d,g),y+=k.line(d,A)+k.line(m,A)+"z",b.push(v),S.push(y),p=-1;else{var P=k.curve(d+X,g,o-X,l,o,l);v+=P,y+=P,s>=n[a].length-2&&(C&&(v+=k.curve(o,l,o,l,o,f)+k.move(o,f)),y+=k.curve(o,l,o,l,o,A)+k.line(m,A)+"z",b.push(v),S.push(y),p=-1)}}d=o,g=l;break;default:var Y=function(te,oe,le){var re=[];switch(te){case"stepline":re=k.line(oe,null,"H")+k.line(null,le,"V");break;case"linestep":re=k.line(null,le,"V")+k.line(oe,null,"H");break;case"straight":re=k.line(oe,le)}return re};if(n[a][s]===null)p=0;else switch(p){case 0:if(m=d,v=C?k.move(d,h[s])+k.line(d,g):k.move(d,g),y=k.move(d,g),n[a][s+1]===null||n[a][s+1]===void 0){b.push(v),S.push(y);break}if(p=1,s<n[a].length-2){var B=Y(w,o,l);v+=B,y+=B;break}case 1:if(n[a][s+1]===null)v+=C?k.line(d,f):k.move(d,g),y+=k.line(d,A)+k.line(m,A)+"z",b.push(v),S.push(y),p=-1;else{var G=Y(w,o,l);v+=G,y+=G,s>=n[a].length-2&&(C&&(v+=k.line(o,f)),y+=k.line(o,A)+k.line(m,A)+"z",b.push(v),S.push(y),p=-1)}}d=o,g=l}return{linePaths:b,areaPaths:S,pX:d,pY:g,pathState:p,segmentStartX:m,linePath:v,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,r,n,a,i){var s=this.w;if(e[n][a]===null&&s.config.markers.showNullDataPoints||e[n].length===1){var o=this.strokeWidth-s.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:r,seriesIndex:i,j:a+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(f){var h,d=[],g=this.xoffset,p=this.yoffset,m=i(f)/this.height,v=i(f)/this.width;if(this.width>=this.height)for(h=0;h<f.length;h++)d.push([g,p,g+m,p+f[h]/m]),p+=f[h]/m;else for(h=0;h<f.length;h++)d.push([g,p,g+f[h]/v,p+v]),g+=f[h]/v;return d},this.cutArea=function(f){var h;if(this.width>=this.height){var d=f/this.height,g=this.width-d;h=new t(this.xoffset+d,this.yoffset,g,this.height)}else{var p=f/this.width,m=this.height-p;h=new t(this.xoffset,this.yoffset+p,this.width,m)}return h}}function e(o,l,c,u,f){u=u===void 0?0:u,f=f===void 0?0:f;var h=r(function(d,g){var p,m=[],v=g/i(d);for(p=0;p<d.length;p++)m[p]=d[p]*v;return m}(o,l*c),[],new t(u,f,l,c),[]);return function(d){var g,p,m=[];for(g=0;g<d.length;g++)for(p=0;p<d[g].length;p++)m.push(d[g][p]);return m}(h)}function r(o,l,c,u){var f,h,d;if(o.length!==0)return f=c.shortestEdge(),function(g,p,m){var v;if(g.length===0)return!0;(v=g.slice()).push(p);var y=n(g,m),b=n(v,m);return y>=b}(l,h=o[0],f)?(l.push(h),r(o.slice(1),l,c,u)):(d=c.cutArea(i(l),u),u.push(c.getCoordinates(l)),r(o,[],d,u)),u;u.push(c.getCoordinates(l))}function n(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),f=i(o);return Math.max(Math.pow(l,2)*u/Math.pow(f,2),Math.pow(f,2)/(Math.pow(l,2)*c))}function a(o){return o&&o.constructor===Array}function i(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function s(o){var l,c=0;if(a(o[0]))for(l=0;l<o.length;l++)c+=s(o[l]);else c=i(o);return c}return function o(l,c,u,f,h){f=f===void 0?0:f,h=h===void 0?0:h;var d,g,p=[],m=[];if(a(l[0])){for(g=0;g<l.length;g++)p[g]=s(l[g]);for(d=e(p,c,u,f,h),g=0;g<l.length;g++)m.push(o(l[g],d[g][2]-d[g][0],d[g][3]-d[g][1],d[g][0],d[g][1]))}else m=e(l,c,u,f,h);return m}}();var r2e=function(){function t(e,r){De(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new B3(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Re(t,[{key:"draw",value:function(e){var r=this,n=this.w,a=new ye(this.ctx),i=new oi(this.ctx),s=a.group({class:"apexcharts-treemap"});if(n.globals.noData)return s;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(r.labels[c])||(r.labels[c]=[]),r.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,c){var u=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ne.escapeString(n.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(n.config.chart.dropShadow.enabled){var f=n.config.chart.dropShadow;new Zr(r.ctx).dropShadow(s,f,c)}var h=a.group({class:"apexcharts-data-labels"}),d={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(W,F){var L=W[0],H=W[1],I=W[2],X=W[3];d.xMin=Math.min(d.xMin,L),d.yMin=Math.min(d.yMin,H),d.xMax=Math.max(d.xMax,I),d.yMax=Math.max(d.yMax,X);var K=r.helpers.getShadeColor(n.config.chart.type,c,F,r.negRange),P=K.color,Y=i.fillPath({color:P,seriesNumber:c,dataPointIndex:F}),B=a.drawRect(L,H,I-L,X-H,n.config.plotOptions.treemap.borderRadius,"#fff",1,r.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?P:n.globals.stroke.colors[c]);B.attr({cx:L,cy:H,index:c,i:c,j:F,width:I-L,height:X-H,fill:Y}),B.node.classList.add("apexcharts-treemap-rect"),r.helpers.addListeners(B);var G={x:L+(I-L)/2,y:H+(X-H)/2,width:0,height:0},te={x:L,y:H,width:I-L,height:X-H};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var oe=1;n.globals.resized||(oe=n.config.chart.animations.speed),r.animateTreemap(B,G,te,oe)}if(n.globals.dataChanged){var le=1;r.dynamicAnim.enabled&&n.globals.shouldAnimate&&(le=r.dynamicAnim.speed,n.globals.previousPaths[c]&&n.globals.previousPaths[c][F]&&n.globals.previousPaths[c][F].rect&&(G=n.globals.previousPaths[c][F].rect),r.animateTreemap(B,G,te,le))}var re=r.getFontSize(W),se=n.config.dataLabels.formatter(r.labels[c][F],{value:n.globals.series[c][F],seriesIndex:c,dataPointIndex:F,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(re=parseInt(n.config.dataLabels.style.fontSize,10),se=r.truncateLabels(se,re,L,H,I,X));var xe=null;n.globals.series[c][F]&&(xe=r.helpers.calculateDataLabels({text:se,x:(L+I)/2,y:(H+X)/2+r.strokeWidth/2+re/3,i:c,j:F,colorProps:K,fontSize:re,series:e})),n.config.dataLabels.enabled&&xe&&r.rotateToFitLabel(xe,re,se,L,H,I,X),u.add(B),xe!==null&&u.add(xe)});var g=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&g&&g.show){var p=n.config.series[c].name||"";if(p&&d.xMin<1/0&&d.yMin<1/0){var m=g.offsetX,v=g.offsetY,y=g.borderColor,b=g.borderWidth,S=g.borderRadius,w=g.style,_=w.color||n.config.chart.foreColor,k={left:w.padding.left,right:w.padding.right,top:w.padding.top,bottom:w.padding.bottom},A=a.getTextRects(p,w.fontSize,w.fontFamily),E=A.width+k.left+k.right,C=A.height+k.top+k.bottom,T=d.xMin+(m||0),O=d.yMin+(v||0),N=a.drawRect(T,O,E,C,S,w.background,1,b,y),z=a.drawText({x:T+k.left,y:O+k.top+.75*A.height,text:p,fontSize:w.fontSize,fontFamily:w.fontFamily,fontWeight:w.fontWeight,foreColor:_,cssClass:w.cssClass||""});u.add(N),u.add(z)}}u.add(h),s.add(u)}),s}},{key:"getFontSize",value:function(e){var r=this.w,n=function a(i){var s,o=0;if(Array.isArray(i[0]))for(s=0;s<i.length;s++)o+=a(i[s]);else for(s=0;s<i.length;s++)o+=i[s].length;return o}(this.labels)/function a(i){var s,o=0;if(Array.isArray(i[0]))for(s=0;s<i.length;s++)o+=a(i[s]);else for(s=0;s<i.length;s++)o+=1;return o}(this.labels);return function(a,i){var s=a*i,o=Math.pow(s,.5);return Math.min(o/n,parseInt(r.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,r,n,a,i,s,o){var l=new ye(this.ctx),c=l.getTextRects(n,r);if(c.width+this.w.config.stroke.width+5>s-a&&c.width<=o-i){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,r,n,a,i,s){var o=new ye(this.ctx),l=o.getTextRects(e,r).width+this.w.config.stroke.width+5>i-n&&s-a>i-n?s-a:i-n,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:r});return e.length!==c.length&&l/r<5?"":c}},{key:"animateTreemap",value:function(e,r,n,a){var i=new Bu(this.ctx);i.animateRect(e,r,n,a,function(){i.animationCompleted(e)})}}]),t}(),W3=86400,n2e=10/W3,a2e=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Re(t,[{key:"calculateTimeScaleTicks",value:function(e,r){var n=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var i=new qr(this.ctx),s=(r-e)/864e5;this.determineInterval(s),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,s<n2e?a.globals.disableZoomIn=!0:s>5e4&&(a.globals.disableZoomOut=!0);var o=i.getTimeUnitsfromTimestamp(e,r,this.utc),l=a.globals.gridWidth/s,c=l/24,u=c/60,f=u/60,h=Math.floor(24*s),d=Math.floor(1440*s),g=Math.floor(s*W3),p=Math.floor(s),m=Math.floor(s/30),v=Math.floor(s/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:f,numberOfSeconds:g,numberOfMinutes:d,numberOfHours:h,numberOfDays:p,numberOfMonths:m,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var S=this.timeScaleArray.map(function(w){var _={position:w.position,unit:w.unit,year:w.year,day:w.day?w.day:1,hour:w.hour?w.hour:0,month:w.month+1};return w.unit==="month"?Ae(Ae({},_),{},{day:1,value:w.value+1}):w.unit==="day"||w.unit==="hour"?Ae(Ae({},_),{},{value:w.value}):w.unit==="minute"?Ae(Ae({},_),{},{value:w.value,minute:w.value}):w.unit==="second"?Ae(Ae({},_),{},{value:w.value,minute:w.minute,second:w.second}):w});return S.filter(function(w){var _=1,k=Math.ceil(a.globals.gridWidth/120),A=w.value;a.config.xaxis.tickAmount!==void 0&&(k=a.config.xaxis.tickAmount),S.length>k&&(_=Math.floor(S.length/k));var E=!1,C=!1;switch(n.tickInterval){case"years":w.unit==="year"&&(E=!0);break;case"half_year":_=7,w.unit==="year"&&(E=!0);break;case"months":_=1,w.unit==="year"&&(E=!0);break;case"months_fortnight":_=15,w.unit!=="year"&&w.unit!=="month"||(E=!0),A===30&&(C=!0);break;case"months_days":_=10,w.unit==="month"&&(E=!0),A===30&&(C=!0);break;case"week_days":_=8,w.unit==="month"&&(E=!0);break;case"days":_=1,w.unit==="month"&&(E=!0);break;case"hours":w.unit==="day"&&(E=!0);break;case"minutes_fives":case"seconds_fives":A%5!=0&&(C=!0);break;case"seconds_tens":A%10!=0&&(C=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!C)return!0}else if((A%_==0||E)&&!C)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,r){var n=this.w,a=this.formatDates(e),i=this.removeOverlappingTS(a);n.globals.timescaleLabels=i.slice(),new dm(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var r=24*e,n=60*r;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var r=e.firstVal,n=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,s=e.numberOfYears,o=r.minYear,l=0,c=new qr(this.ctx),u="year";if(r.minDate>1||r.minMonth>0){var f=c.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);l=(c.determineDaysOfYear(r.minYear)-f+1)*i,o=r.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:ne.monthMod(n+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:a,month:ne.monthMod(n+1)});for(var h=o,d=l,g=0;g<s;g++)h++,d=c.determineDaysOfYear(h-1)*i+d,this.timeScaleArray.push({position:d,value:h,unit:u,year:h,month:1})}},{key:"generateMonthScale",value:function(e){var r=e.firstVal,n=e.currentMonthDate,a=e.currentMonth,i=e.currentYear,s=e.daysWidthOnXAxis,o=e.numberOfMonths,l=a,c=0,u=new qr(this.ctx),f="month",h=0;if(r.minDate>1){c=(u.determineDaysOfMonths(a+1,r.minYear)-n+1)*s,l=ne.monthMod(a+1);var d=i+h,g=ne.monthMod(l),p=l;l===0&&(f="year",p=d,g=1,d+=h+=1),this.timeScaleArray.push({position:c,value:p,unit:f,year:d,month:g})}else this.timeScaleArray.push({position:c,value:l,unit:f,year:i,month:ne.monthMod(a)});for(var m=l+1,v=c,y=0,b=1;y<o;y++,b++){(m=ne.monthMod(m))===0?(f="year",h+=1):f="month";var S=this._getYear(i,m,h);v=u.determineDaysOfMonths(m,S)*s+v;var w=m===0?S:m;this.timeScaleArray.push({position:v,value:w,unit:f,year:S,month:m===0?1:m}),m++}}},{key:"generateDayScale",value:function(e){var r=e.firstVal,n=e.currentMonth,a=e.currentYear,i=e.hoursWidthOnXAxis,s=e.numberOfDays,o=new qr(this.ctx),l="day",c=r.minDate+1,u=c,f=function(b,S,w){return b>o.determineDaysOfMonths(S+1,w)&&(u=1,l="month",d=S+=1),S},h=(24-r.minHour)*i,d=c,g=f(u,n,a);r.minHour===0&&r.minDate===1?(h=0,d=ne.monthMod(r.minMonth),l="month",u=r.minDate):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(h=0,c=r.minDate,d=c,g=f(u=c,n,a),d!==1&&(l="day")),this.timeScaleArray.push({position:h,value:d,unit:l,year:this._getYear(a,g,0),month:ne.monthMod(g),day:u});for(var p=h,m=0;m<s;m++){l="day",g=f(u+=1,g,this._getYear(a,g,0));var v=this._getYear(a,g,0);p=24*i+p;var y=u===1?ne.monthMod(g):u;this.timeScaleArray.push({position:p,value:y,unit:l,year:v,month:ne.monthMod(g),day:y})}}},{key:"generateHourScale",value:function(e){var r=e.firstVal,n=e.currentDate,a=e.currentMonth,i=e.currentYear,s=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new qr(this.ctx),c="hour",u=function(_,k){return _>l.determineDaysOfMonths(k+1,i)&&(m=1,k+=1),{month:k,date:m}},f=function(_,k){return _>l.determineDaysOfMonths(k+1,i)?k+=1:k},h=60-(r.minMinute+r.minSecond/60),d=h*s,g=r.minHour+1,p=g;h===60&&(d=0,p=g=r.minHour);var m=n;p>=24&&(p=0,c="day",g=m+=1);var v=u(m,a).month;v=f(m,v),g>31&&(g=m=1),this.timeScaleArray.push({position:d,value:g,unit:c,day:m,hour:p,year:i,month:ne.monthMod(v)}),p++;for(var y=d,b=0;b<o;b++){c="hour",p>=24&&(p=0,c="day",v=u(m+=1,v).month,v=f(m,v));var S=this._getYear(i,v,0);y=60*s+y;var w=p===0?m:p;this.timeScaleArray.push({position:y,value:w,unit:c,hour:p,day:m,year:S,month:ne.monthMod(v)}),p++}}},{key:"generateMinuteScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,i=e.currentHour,s=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,f=e.numberOfMinutes,h=a+1,d=s,g=o,p=l,m=i,v=(60-n-r/1e3)*u,y=0;y<f;y++)h>=60&&(h=0,(m+=1)===24&&(m=0)),this.timeScaleArray.push({position:v,value:h,unit:"minute",hour:m,minute:h,day:d,year:this._getYear(p,g,0),month:ne.monthMod(g)}),v+=c,h++}},{key:"generateSecondScale",value:function(e){for(var r=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,i=e.currentHour,s=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,f=n+1,h=a,d=s,g=o,p=l,m=i,v=(1e3-r)/1e3*c,y=0;y<u;y++)f>=60&&(f=0,++h>=60&&(h=0,++m===24&&(m=0))),this.timeScaleArray.push({position:v,value:f,unit:"second",hour:m,minute:h,second:f,day:d,year:this._getYear(p,g,0),month:ne.monthMod(g)}),v+=c,f++}},{key:"createRawDateString",value:function(e,r){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+r).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+r).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+r).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+r).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var r=this,n=this.w;return e.map(function(a){var i=a.value.toString(),s=new qr(r.ctx),o=r.createRawDateString(a,i),l=s.getDate(s.parseDate(o));if(r.utc||(l=s.getDate(s.parseDateWithTimezone(o))),n.config.xaxis.labels.format===void 0){var c="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(c=u.year),a.unit==="month"&&(c=u.month),a.unit==="day"&&(c=u.day),a.unit==="hour"&&(c=u.hour),a.unit==="minute"&&(c=u.minute),a.unit==="second"&&(c=u.second),i=s.formatDate(l,c)}else i=s.formatDate(l,n.config.xaxis.labels.format);return{dateString:o,position:a.position,value:i,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var r,n=this,a=new ye(this.ctx),i=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(i=!0,r=a.getTextRects(e[0].value).width);var s=0,o=e.map(function(l,c){if(c>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=i?r:a.getTextRects(e[s].value).width,f=e[s].position;return l.position>f+u+10?(s=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,r,n){return e+Math.floor(r/12)+n}}]),t}(),i2e=function(){function t(e,r){De(this,t),this.ctx=r,this.w=r.w,this.el=e}return Re(t,[{key:"setupElements",value:function(){var e=this.w,r=e.globals,n=e.config,a=n.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),r.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&n.plotOptions.bar.horizontal,r.chartClass=".apexcharts".concat(r.chartID),r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),ye.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas ".concat(r.chartClass.substring(1))}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=window.SVG().addTo(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),r.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),ye.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elWrap.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(e,r){var n=this.w,a=this.ctx,i=n.config,s=n.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=i.chart.type||"line",c=null,u=0;s.series.forEach(function(_,k){var A,E,C=((A=e[k])===null||A===void 0?void 0:A.type)==="column"?"bar":((E=e[k])===null||E===void 0?void 0:E.type)||(l==="column"?"bar":l);o[C]?(C==="rangeArea"?(o[C].series.push(s.seriesRangeStart[k]),o[C].seriesRangeEnd.push(s.seriesRangeEnd[k])):o[C].series.push(_),o[C].i.push(k),C==="bar"&&(n.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(C)?c=C:console.warn("You have specified an unrecognized series type (".concat(C,").")),l!==C&&C!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&i.plotOptions.bar.horizontal&&(u-=o.bar.series.length,o.bar={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),s.comboCharts||(s.comboCharts=u>0);var f=new Sy(a,r),h=new by(a,r);a.pie=new z3(a);var d=new Kke(a);a.rangeBar=new Jke(a,r);var g=new qke(a),p=[];if(s.comboCharts){var m,v,y=new dr(a);if(o.area.series.length>0&&(m=p).push.apply(m,Mr(y.drawSeriesByGroup(o.area,s.areaGroups,"area",f))),o.bar.series.length>0)if(i.chart.stacked){var b=new ZP(a,r);p.push(b.draw(o.bar.series,o.bar.i))}else a.bar=new du(a,r),p.push(a.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&p.push(f.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(v=p).push.apply(v,Mr(y.drawSeriesByGroup(o.line,s.lineGroups,"line",f))),o.candlestick.series.length>0&&p.push(h.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&p.push(h.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&p.push(a.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var S=new Sy(a,r,!0);p.push(S.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var w=new Sy(a,r,!0);p.push(w.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(i.chart.type){case"line":p=f.draw(s.series,"line");break;case"area":p=f.draw(s.series,"area");break;case"bar":i.chart.stacked?p=new ZP(a,r).draw(s.series):(a.bar=new du(a,r),p=a.bar.draw(s.series));break;case"candlestick":p=new by(a,r).draw(s.series,"candlestick");break;case"boxPlot":p=new by(a,r).draw(s.series,i.chart.type);break;case"rangeBar":p=a.rangeBar.draw(s.series);break;case"rangeArea":p=f.draw(s.seriesRangeStart,"rangeArea",void 0,s.seriesRangeEnd);break;case"heatmap":p=new Gke(a,r).draw(s.series);break;case"treemap":p=new r2e(a,r).draw(s.series);break;case"pie":case"donut":case"polarArea":p=a.pie.draw(s.series);break;case"radialBar":p=d.draw(s.series);break;case"radar":p=g.draw(s.series);break;default:p=f.draw(s.series)}return p}},{key:"setSVGDimensions",value:function(){var e=this.w,r=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",r.svgWidth=n.chart.width,r.svgHeight=n.chart.height;var a=ne.getDimensions(this.el),i=n.chart.width.toString().split(/[0-9]+/g).pop();i==="%"?ne.isNumber(a[0])&&(a[0].width===0&&(a=ne.getDimensions(this.el.parentNode)),r.svgWidth=a[0]*parseInt(n.chart.width,10)/100):i!=="px"&&i!==""||(r.svgWidth=parseInt(n.chart.width,10));var s=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(r.svgHeight!=="auto"&&r.svgHeight!=="")if(s==="%"){var o=ne.getDimensions(this.el.parentNode);r.svgHeight=o[1]*parseInt(n.chart.height,10)/100}else r.svgHeight=parseInt(n.chart.height,10);else r.svgHeight=r.axisCharts?r.svgWidth/1.61:r.svgWidth/1.2;if(r.svgWidth=Math.max(r.svgWidth,0),r.svgHeight=Math.max(r.svgHeight,0),ye.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),s!=="%"){var l=n.chart.sparkline.enabled?0:r.axisCharts?n.chart.parentHeightOffset:0;r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(r.svgHeight+l,"px")}r.dom.elWrap.style.width="".concat(r.svgWidth,"px"),r.dom.elWrap.style.height="".concat(r.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,r=e.translateY,n=e.translateX;ye.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(r,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,r=e.globals,n=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new M3(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var i=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*e.globals.radialSize;if(i&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=ne.getBoundingClientRect(i);s=o.bottom;var l=o.bottom-o.top;s=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(s+r.translateY+n+a);r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(r.dom.elWrap.style.height="".concat(c,"px"),ye.setAttrs(r.dom.Paper.node,{height:c}),r.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Pw(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,r=function(){return e.w.config.series.map(function(){return[]})},n=new P3,a=this.w.globals,i={dataWasParsed:a.dataWasParsed,originalSeries:a.originalSeries};n.initGlobalVars(a),a.seriesXvalues=r(),a.seriesYvalues=r(),i.dataWasParsed&&(a.dataWasParsed=i.dataWasParsed,a.originalSeries=i.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,r=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Iw(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Iw(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new a2e(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}r=new dr(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,r=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var a=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];a.forEach(function(i){var s=r.constructor.getChartByID(i);s.w.globals.brushSource=e.ctx,typeof s.w.config.chart.events.zoomed!="function"&&(s.w.config.chart.events.zoomed=function(){return e.updateSourceChart(s)}),typeof s.w.config.chart.events.scrolled!="function"&&(s.w.config.chart.events.scrolled=function(){return e.updateSourceChart(s)})}),n.config.chart.events.selection=function(i,s){a.forEach(function(o){r.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),s2e=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"_updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[r.ctx];i&&(l=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(l=[r.ctx],r.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var f=c.w;if(f.globals.shouldAnimate=a,n||(f.globals.resized=!0,f.globals.dataChanged=!0,a&&c.series.getPreviousPaths()),e&&Sn(e)==="object"&&(c.config=new _d(e),e=dr.extendArrayProps(c.config,e,f),c.w.globals.chartID!==r.ctx.w.globals.chartID&&delete e.series,f.config=ne.extend(f.config,e),s&&(f.globals.lastXAxis=e.xaxis?ne.clone(e.xaxis):[],f.globals.lastYAxis=e.yaxis?ne.clone(e.yaxis):[],f.globals.initialConfig=ne.extend({},f.config),f.globals.initialSeries=ne.clone(f.config.series),e.series))){for(var h=0;h<f.globals.collapsedSeriesIndices.length;h++){var d=f.config.series[f.globals.collapsedSeriesIndices[h]];f.globals.collapsedSeries[h].data=f.globals.axisCharts?d.data.slice():d}for(var g=0;g<f.globals.ancillaryCollapsedSeriesIndices.length;g++){var p=f.config.series[f.globals.ancillaryCollapsedSeriesIndices[g]];f.globals.ancillaryCollapsedSeries[g].data=f.globals.axisCharts?p.data.slice():p}c.series.emptyCollapsedSeries(f.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,r){var n=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(i){var s=n.w;return s.globals.shouldAnimate=r,s.globals.dataChanged=!0,r&&n.ctx.series.getPreviousPaths(),n.ctx.data.resetParsingFlags(),n.ctx.data.parseData(e),a&&(s.globals.initialConfig.series=ne.clone(s.config.series),s.globals.initialSeries=ne.clone(s.config.series)),n.ctx.update().then(function(){i(n.ctx)})})}},{key:"_extendSeries",value:function(e,r){var n=this.w,a=n.config.series[r];return Ae(Ae({},n.config.series[r]),{},{name:e.name?e.name:a==null?void 0:a.name,color:e.color?e.color:a==null?void 0:a.color,type:e.type?e.type:a==null?void 0:a.type,group:e.group?e.group:a==null?void 0:a.group,hidden:e.hidden!==void 0?e.hidden:a==null?void 0:a.hidden,data:e.data?e.data:a==null?void 0:a.data,zIndex:e.zIndex!==void 0?e.zIndex:r})}},{key:"toggleDataPointSelection",value:function(e,r){var n=this.w,a=null,i=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?a=n.globals.dom.Paper.findOne("".concat(i," path[j='").concat(r,"'], ").concat(i," circle[j='").concat(r,"'], ").concat(i," rect[j='").concat(r,"']")):r===void 0&&(a=n.globals.dom.Paper.findOne("".concat(i," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new ye(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var r=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(r.config.xaxis[a]=e.xaxis[a],r.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(r.config.xaxis.categories=e.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var n=new Sd(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(r,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var r=this,n=this.w,a=n.globals.lastXAxis,i=n.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(i=e.yaxis),n.config.xaxis.min=a.min,n.config.xaxis.max=a.max;var s=function(o){i[o]!==void 0&&(n.config.yaxis[o].min=i[o].min,n.config.yaxis[o].max=i[o].max)};n.config.yaxis.map(function(o,l){n.globals.zoomed||i[l]!==void 0?s(l):r.ctx.opts.yaxis[l]!==void 0&&(o.min=r.ctx.opts.yaxis[l].min,o.max=r.ctx.opts.yaxis[l].max)})}}]),t}();(function(){function t(){for(var i=arguments.length>0&&arguments[0]!==f?arguments[0]:[],s=arguments.length>1?arguments[1]:f,o=arguments.length>2?arguments[2]:f,l=arguments.length>3?arguments[3]:f,c=arguments.length>4?arguments[4]:f,u=arguments.length>5?arguments[5]:f,f=arguments.length>6?arguments[6]:f,h=i.slice(s,o||f),d=l.slice(c,u||f),g=0,p={pos:[0,0],start:[0,0]},m={pos:[0,0],start:[0,0]};h[g]=e.call(p,h[g]),d[g]=e.call(m,d[g]),h[g][0]!=d[g][0]||h[g][0]=="M"||h[g][0]=="A"&&(h[g][4]!=d[g][4]||h[g][5]!=d[g][5])?(Array.prototype.splice.apply(h,[g,1].concat(n.call(p,h[g]))),Array.prototype.splice.apply(d,[g,1].concat(n.call(m,d[g])))):(h[g]=r.call(p,h[g]),d[g]=r.call(m,d[g])),!(++g==h.length&&g==d.length);)g==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),g==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]);return{start:h,dest:d}}function e(i){switch(i[0]){case"z":case"Z":i[0]="L",i[1]=this.start[0],i[2]=this.start[1];break;case"H":i[0]="L",i[2]=this.pos[1];break;case"V":i[0]="L",i[2]=i[1],i[1]=this.pos[0];break;case"T":i[0]="Q",i[3]=i[1],i[4]=i[2],i[1]=this.reflection[1],i[2]=this.reflection[0];break;case"S":i[0]="C",i[6]=i[4],i[5]=i[3],i[4]=i[2],i[3]=i[1],i[2]=this.reflection[1],i[1]=this.reflection[0]}return i}function r(i){var s=i.length;return this.pos=[i[s-2],i[s-1]],"SCQT".indexOf(i[0])!=-1&&(this.reflection=[2*this.pos[0]-i[s-4],2*this.pos[1]-i[s-3]]),i}function n(i){var s=[i];switch(i[0]){case"M":return this.pos=this.start=[i[1],i[2]],s;case"L":i[5]=i[3]=i[1],i[6]=i[4]=i[2],i[1]=this.pos[0],i[2]=this.pos[1];break;case"Q":i[6]=i[4],i[5]=i[3],i[4]=1*i[4]/3+2*i[2]/3,i[3]=1*i[3]/3+2*i[1]/3,i[2]=1*this.pos[1]/3+2*i[2]/3,i[1]=1*this.pos[0]/3+2*i[1]/3;break;case"A":s=function(o,l){var c,u,f,h,d,g,p,m,v,y,b,S,w,_,k,A,E,C,T,O,N,z,W,F,L,H,I=Math.abs(l[1]),X=Math.abs(l[2]),K=l[3]%360,P=l[4],Y=l[5],B=l[6],G=l[7],te=new kt(o),oe=new kt(B,G),le=[];if(I===0||X===0||te.x===oe.x&&te.y===oe.y)return[["C",te.x,te.y,oe.x,oe.y,oe.x,oe.y]];for(c=new kt((te.x-oe.x)/2,(te.y-oe.y)/2).transform(new Ye().rotate(K)),u=c.x*c.x/(I*I)+c.y*c.y/(X*X),u>1&&(I*=u=Math.sqrt(u),X*=u),f=new Ye().rotate(K).scale(1/I,1/X).rotate(-K),te=te.transform(f),oe=oe.transform(f),h=[oe.x-te.x,oe.y-te.y],g=h[0]*h[0]+h[1]*h[1],d=Math.sqrt(g),h[0]/=d,h[1]/=d,p=g<4?Math.sqrt(1-g/4):0,P===Y&&(p*=-1),m=new kt((oe.x+te.x)/2+p*-h[1],(oe.y+te.y)/2+p*h[0]),v=new kt(te.x-m.x,te.y-m.y),y=new kt(oe.x-m.x,oe.y-m.y),b=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(b*=-1),S=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(S*=-1),Y&&b>S&&(S+=2*Math.PI),!Y&&b<S&&(S-=2*Math.PI),_=Math.ceil(2*Math.abs(b-S)/Math.PI),A=[],E=b,w=(S-b)/_,k=4*Math.tan(w/4)/3,N=0;N<=_;N++)T=Math.cos(E),C=Math.sin(E),O=new kt(m.x+T,m.y+C),A[N]=[new kt(O.x+k*C,O.y-k*T),O,new kt(O.x-k*C,O.y+k*T)],E+=w;for(A[0][0]=A[0][1].clone(),A[A.length-1][2]=A[A.length-1][1].clone(),f=new Ye().rotate(K).scale(I,X).rotate(-K),N=0,z=A.length;N<z;N++)A[N][0]=A[N][0].transform(f),A[N][1]=A[N][1].transform(f),A[N][2]=A[N][2].transform(f);for(N=1,z=A.length;N<z;N++)W=(O=A[N-1][2]).x,F=O.y,L=(O=A[N][0]).x,H=O.y,B=(O=A[N][1]).x,G=O.y,le.push(["C",W,F,L,H,B,G]);return le}(this.pos,i),i=s[0]}return i[0]="C",this.pos=[i[5],i[6]],this.reflection=[2*i[5]-i[3],2*i[6]-i[4]],s}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(s===!1)return!1;for(var o=s,l=i.length;o<l;++o)if(i[o][0]=="M")return o;return!1}qe(ti,{morph:function(i,s,o,l,c){for(var u=this.parse(i),f=this.parse(s),h=0,d=0,g=!1,p=!1;h!==!1||d!==!1;){var m;g=a(u,h!==!1&&h+1),p=a(f,d!==!1&&d+1),h===!1&&(h=(m=new ti(v.start).bbox()).height==0||m.width==0?u.push(u[0])-1:u.push(["M",m.x+m.width/2,m.y+m.height/2])-1),d===!1&&(d=(m=new ti(v.dest).bbox()).height==0||m.width==0?f.push(f[0])-1:f.push(["M",m.x+m.width/2,m.y+m.height/2])-1);var v=t(u,h,g,f,d,p);u=u.slice(0,h).concat(v.start,g===!1?[]:u.slice(g)),f=f.slice(0,d).concat(v.dest,p===!1?[]:f.slice(p)),h=g!==!1&&h+v.start.length,d=p!==!1&&d+v.dest.length}this._array=u,this.destination=new ti,this.destination._array=f;var y=this.fromArray(u.map(function(b,S){var w=f[S].map(function(_,k){return k===0?_:l.step(b[k],f[S][k],o,c[S],c)});return w}));return y}})})();const QP=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class o2e{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const r=!e.type.indexOf("mouse");if(r&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(QP(e));const n=(r?"mouseup":"touchend")+".drag";Wi(window,(r?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Wi(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:r,lastClick:n}=this,a=this.el.point(QP(e)),i=a.x-n.x,s=a.y-n.y;if(!i&&!s)return r;const o=r.x+i,l=r.y+s;this.box=new fr(o,l,r.w,r.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,r){this.el.type==="svg"?qs.prototype.move.call(this.el,e,r):this.el.move(e,r)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Ea(window,"mousemove.drag"),Ea(window,"touchmove.drag"),Ea(window,"mouseup.drag"),Ea(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Nw(t,e,r,n=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,s=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:s,event:a,index:n,points:r})}}function Fw([t,e],{a:r,b:n,c:a,d:i,e:s,f:o}){return[t*r+e*a+s,t*n+e*i+o]}qe(tn,{draggable(t=!0){return(this.remember("_draggable")||new o2e(this)).init(t),this}});let U3=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new qs,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Zd();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.createHandle.call(this,this.selection,t,e,r,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",Nw(n,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,r,n){const a=n.at(r-1),i=n[(r+1)%n.length],s=e,o=[s[0]-a[0],s[1]-a[1]],l=[s[0]-i[0],s[1]-i[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=[o[0]/c,o[1]/c],h=[l[0]/u,l[1]/u],d=[s[0]-10*f[0],s[1]-10*f[1]],g=[s[0]-10*h[0],s[1]-10*h[1]];t.plot([d,s,g])}updateResizeHandles(){this.handlePoints.forEach((t,e,r)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,r,n)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const r=this.getPoint("t");t.get(0).plot(r[0],r[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Nw("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(r=>Fw(r,e)),this.rotationPoint=Fw(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:r,y2:n,cx:a,cy:i}=this.el.bbox()){return[[t,r],[a,r],[e,r],[e,i],[e,n],[a,n],[t,n],[t,i]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const eI=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof U3?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function jw(t,e,r,n=null){return function(a){a.preventDefault(),a.stopPropagation();var i=a.pageX||a.touches[0].pageX,s=a.pageY||a.touches[0].pageY;e.fire(t,{x:i,y:s,event:a,index:n,points:r})}}function Mw([t,e],{a:r,b:n,c:a,d:i,e:s,f:o}){return[t*r+e*a+s,t*n+e*i+o]}qe(tn,{select:eI(U3)}),qe([Ho,Xo,Uo],{pointSelect:eI(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new qs,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Zd();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Nw("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Fw(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class H3{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new qs,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const r=Zd();this.observer=new r.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,r){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(r)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const a=this.order[r];this.createHandle.call(this,this.selection,e,r,n,a),this.selection.get(r+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",jw(a,this.el,this.handlePoints,r))})}createHandleFn(e){e.polyline()}updateHandleFn(e,r,n,a){const i=a.at(n-1),s=a[(n+1)%a.length],o=r,l=[o[0]-i[0],o[1]-i[1]],c=[o[0]-s[0],o[1]-s[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=[l[0]/u,l[1]/u],d=[c[0]/f,c[1]/f],g=[o[0]-10*h[0],o[1]-10*h[1]],p=[o[0]-10*d[0],o[1]-10*d[1]];e.plot([g,o,p])}updateResizeHandles(){this.handlePoints.forEach((e,r,n)=>{const a=this.order[r];this.updateHandle.call(this,this.selection.get(r+1),e,r,n,a)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,r){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],r[0],r[1]),e.get(1).center(r[0],r[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",jw("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Mw(n,r)),this.rotationPoint=Mw(this.getRotationPoint(e),r)}getHandlePoints({x:e,x2:r,y:n,y2:a,cx:i,cy:s}=this.el.bbox()){return[[e,n],[i,n],[r,n],[r,s],[r,a],[i,a],[e,a],[e,s]]}getRotationPoint({y:e,cx:r}=this.el.bbox()){return[r,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const tI=t=>function(e=!0,r={}){typeof e=="object"&&(r=e,e=!0);let n=this.remember("_"+t.name);return n||(e.prototype instanceof H3?(n=new e(this),e=!0):n=new t(this),this.remember("_"+t.name,n)),n.active(e,r),this};qe(tn,{select:tI(H3)}),qe([Ho,Xo,Uo],{pointSelect:tI(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new qs,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Zd();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,r)=>{this.createHandle.call(this,this.selection,t,e,r),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",jw("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,r)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,r)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Mw(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const tp=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),rI=t=>{let e=1/0,r=1/0,n=-1/0,a=-1/0;for(let i=0;i<t.length;i++){const s=t[i];e=Math.min(e,s[0]),r=Math.min(r,s[1]),n=Math.max(n,s[0]),a=Math.max(a,s[1])}return new fr(e,r,n-e,a-r)};class nI{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,r){this.preserveAspectRatio=r.preserveAspectRatio??!1,this.aroundCenter=r.aroundCenter??!1,this.grid=r.grid??0,this.degree=r.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:r,index:n,points:a}=e.detail,i=!r.type.indexOf("mouse");if(i&&(r.which||r.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(tp(r)),this.index=n,this.points=a.slice();const s=(i?"mousemove":"touchmove")+".resize",o=(i?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Wi(window,s,this.movePoint):e.type==="rot"?Wi(window,s,this.rotate):Wi(window,s,this.resize),Wi(window,o,this.endResize)}resize(e){this.lastEvent=e;const r=this.snapToGrid(this.el.point(tp(e)));let n=r.x-this.startPoint.x,a=r.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,a*=2);const i=this.box.x+n,s=this.box.y+a,o=this.box.x2+n,l=this.box.y2+a;let c=new fr(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(i,this.box.x2),c.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(s,this.box.y2),c.y2=Math.max(s,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,f=c.height/this.box.height,h=["lt","t","rt","r","rb","b","lb","l"],d=(h.indexOf(this.eventType)+4)%h.length,g=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[d];let p=this.eventType.includes("t")||this.eventType.includes("b")?f:u;p=this.eventType.length===2?Math.max(u,f):p,c=function(m,v,y){const b=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]].map(([S,w])=>{const _=S-v[0],k=(w-v[1])*y;return[_*y+v[0],k+v[1]]});return rI(b)}(this.box,g,p)}this.el.dispatch("resize",{box:new fr(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:r,y:n}=this.snapToGrid(this.el.point(tp(e))),a=this.el.array().slice();a[this.index]=[r,n],this.el.dispatch("resize",{box:rI(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const r=this.startPoint,n=this.el.point(tp(e)),{cx:a,cy:i}=this.box,s=r.x-a,o=r.y-i,l=n.x-a,c=n.y-i,u=Math.sqrt(s*s+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let f=Math.acos((s*l+o*c)/u)/Math.PI*180;if(!f)return;n.x<r.x&&(f=-f);const h=new Ye(this.el),{x:d,y:g}=new kt(a,i).transformO(h),{rotate:p}=h.decompose(),m=this.snapToAngle(p+f)-p;this.el.dispatch("resize",{box:this.box,angle:m,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(h.rotateO(m,d,g))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Ea(window,"mousemove.resize touchmove.resize"),Ea(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}qe(tn,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let r=this.remember("_ResizeHandler");return r||(t.prototype instanceof nI?(r=new t(this),t=!0):r=new nI(this),this.remember("_resizeHandler",r)),r.active(t,e),this}}),window.SVG===void 0&&(window.SVG=Ske),window.Apex===void 0&&(window.Apex={});var aI=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Bu(this.ctx),this.ctx.axes=new Nke(this.ctx),this.ctx.core=new i2e(this.ctx.el,this.ctx),this.ctx.config=new _d({}),this.ctx.data=new Hk(this.ctx),this.ctx.grid=new F3(this.ctx),this.ctx.graphics=new ye(this.ctx),this.ctx.coreUtils=new dr(this.ctx),this.ctx.crosshairs=new Iw(this.ctx),this.ctx.events=new Pke(this.ctx),this.ctx.exports=new ah(this.ctx),this.ctx.fill=new oi(this.ctx),this.ctx.localization=new Ike(this.ctx),this.ctx.options=new jo,this.ctx.responsive=new Fke(this.ctx),this.ctx.series=new Ia(this.ctx),this.ctx.theme=new jke(this.ctx),this.ctx.formatters=new t0(this.ctx),this.ctx.titleSubtitle=new Mke(this.ctx),this.ctx.legend=new M3(this.ctx),this.ctx.toolbar=new D3(this.ctx),this.ctx.tooltip=new JP(this.ctx),this.ctx.dimensions=new dm(this.ctx),this.ctx.updateHelpers=new s2e(this.ctx),this.ctx.zoomPanSelection=new zke(this.ctx),this.ctx.w.globals.tooltip=new JP(this.ctx)}}]),t}(),iI=function(){function t(e){De(this,t),this.ctx=e,this.w=e.w}return Re(t,[{key:"clear",value:function(e){var r=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var r=this,n=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!n&&(a.parentNode.parentNode.style.minHeight="unset");var i=this.w.globals.dom.baseEl;i&&this.ctx.eventList.forEach(function(o){i.removeEventListener(o,r.ctx.events.documentEvent)});var s=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elLegendWrap=null,s.elLegendForeign=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectBarMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),t}(),_y=new WeakMap,l2e=function(){function t(e,r){De(this,t),this.opts=r,this.ctx=this,this.w=new Oke(r).init(),this.el=e,this.w.globals.cuid=ne.randomId(),this.w.globals.chartID=this.w.config.chart.id?ne.escapeString(this.w.config.chart.id):this.w.globals.cuid,new aI(this).initModules(),this.lastUpdateOptions=null,this.create=ne.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Re(t,[{key:"render",value:function(){var e=this;return new Promise(function(r,n){if(ne.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(h,d){var g=!1;if(h.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var p=h.getBoundingClientRect();h.style.display!=="none"&&p.width!==0||(g=!0)}var m=new ResizeObserver(function(v){g&&d.call(h,v),g=!0});h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(h.children).forEach(function(v){return m.observe(v)}):m.observe(h),_y.set(d,m)}(e.el.parentNode,e.parentResizeHandler);var i=e.el.getRootNode&&e.el.getRootNode(),s=ne.is("ShadowRoot",i),o=e.el.ownerDocument,l=s?i.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),s?i.prepend(l):e.w.config.chart.injectStyleSheet!==!1&&o.head.appendChild(l)}var f=e.create(e.w.config.series,{});if(!f)return r(e);e.mount(f).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),r(f)}).catch(function(h){n(h)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,r){var n=this,a=this.w;new aI(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,!ne.elementExists(this.el)||(this.responsive.checkResponsiveConfig(r),a.config.xaxis.convertedCatToNumeric&&new Sd(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),i.svgWidth===0))return i.animationEnded=!0,null;var s=e;e.forEach(function(h,d){h.hidden&&(s=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:d}))});var o=dr.checkComboSeries(s,a.config.chart.type);i.comboCharts=o.comboCharts,i.comboBarCount=o.comboBarCount;var l=s.every(function(h){return h.data&&h.data.length===0});(s.length===0||l&&i.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(s),this.theme.init(),new Uu(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new dr(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(s,c),f=new hu(this);return f.bringForward(),a.config.dataLabels.background.enabled&&f.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:c,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,a=n.w;return new Promise(function(i,s){if(n.el===null)return s(new Error("Not enough data to display or target element not found"));(r===null||a.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new F3(n);var o,l,c=n.grid.drawGrid();if(n.annotations=new Cke(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(c&&a.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&a.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(r.elGraph))for(var u=0;u<r.elGraph.length;u++)a.globals.dom.elGraphical.add(r.elGraph[u]);else a.globals.dom.elGraphical.add(r.elGraph);a.config.grid.position==="front"&&(c&&a.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(c.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&n.axes.drawAxis(a.config.chart.type,c);var f=new kd(e.ctx,c),h=new Xk(e.ctx,c);if(c!==null&&(f.xAxisLabelCorrections(c.xAxisTickWidth),h.setYAxisTextAlignments(),a.config.yaxis.map(function(g,p){a.globals.ignoreYAxisIndexes.indexOf(p)===-1&&h.yAxisTitleRotate(p,g.opposite)})),n.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&n.w.globals.tooltip.drawTooltip(r.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:r.xyRatios});else{var d=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(g){d[g]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(g){g.method(g.params,!1,g.context)}),a.globals.axisCharts||a.globals.noData||n.core.resizeNonAxisCharts(),i(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(r,n){var a=_y.get(n);a&&(a.disconnect(),_y.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(r,n){r.id===ne.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new iI(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return r.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,a,i,s))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,r,n)}},{key:"appendSeries",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,r,n)}},{key:"appendData",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.data.resetParsingFlags(),n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var a=n.w.config.series.slice(),i=0;i<a.length;i++)if(e[i]!==null&&e[i]!==void 0)for(var s=0;s<e[i].data.length;s++)a[i].data.push(e[i].data[s]);return n.w.config.series=a,r&&(n.w.globals.initialSeries=ne.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var r=this;return new Promise(function(n,a){if(r.lastUpdateOptions&&JSON.stringify(r.lastUpdateOptions)===JSON.stringify(e))return n(r);r.lastUpdateOptions=ne.clone(e),new iI(r.ctx).clear({isUpdating:!0});var i=r.create(r.w.config.series,e);if(!i)return n(r);r.mount(i).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,n(r)}).catch(function(s){a(s)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),r=[this];return e.length&&(r=[],e.forEach(function(n){r.push(n)})),r}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return e.w.config.chart.group===r.group?r.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,r){return this.series.toggleSeriesOnHover(e,r)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,r)}},{key:"addEventListener",value:function(e,r){this.events.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,r){this.events.removeEventListener(e,r)}},{key:"addXaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addXaxisAnnotationExternal(e,r,a)}},{key:"addYaxisAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addYaxisAnnotationExternal(e,r,a)}},{key:"addPointAnnotation",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addPointAnnotationExternal(e,r,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;e&&(r=e),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;r&&(n=r),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,r){return this.coreUtils.getSeriesTotalsXRange(e,r)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Pw(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Pw(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,r){return this.updateHelpers.toggleDataPointSelection(e,r)}},{key:"zoomX",value:function(e,r){this.ctx.toolbar.zoomUpdateOptions(e,r)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new ah(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new ah(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ah(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var r=ne.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(a){return a.id===r})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),r=0;r<e.length;r++)new t(e[r],JSON.parse(e[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,r){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var a=null;if(n.publicMethods.indexOf(r)!==-1){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];a=n[r].apply(n,s)}return a}}},{key:"merge",value:function(e,r){return ne.extend(e,r)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),t}();const c2e=Object.freeze(Object.defineProperty({__proto__:null,default:l2e},Symbol.toStringTag,{value:"Module"})),u2e=EI(c2e);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var e=o(U),r=i(u2e),n=i($4),a=["type","width","height","series","options","chartRef"];function i(S){return S&&S.__esModule?S:{default:S}}function s(S){var w,_;return typeof WeakMap!="function"?null:(w=new WeakMap,_=new WeakMap,(s=function(k){return k?_:w})(S))}function o(S,w){if(!w&&S&&S.__esModule)return S;if(S===null||f(S)!="object"&&typeof S!="function")return{default:S};if(w=s(w),w&&w.has(S))return w.get(S);var _,k,A={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in S)_!=="default"&&{}.hasOwnProperty.call(S,_)&&((k=E?Object.getOwnPropertyDescriptor(S,_):null)&&(k.get||k.set)?Object.defineProperty(A,_,k):A[_]=S[_]);return A.default=S,w&&w.set(S,A),A}function l(){return(l=Object.assign?Object.assign.bind():function(S){for(var w=1;w<arguments.length;w++){var _,k=arguments[w];for(_ in k)!{}.hasOwnProperty.call(k,_)||(S[_]=k[_])}return S}).apply(null,arguments)}function c(S,w){if(S==null)return{};var _,k=u(S,w);if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(S),E=0;E<A.length;E++)_=A[E],w.includes(_)||{}.propertyIsEnumerable.call(S,_)&&(k[_]=S[_]);return k}function u(S,w){if(S==null)return{};var _,k={};for(_ in S)if({}.hasOwnProperty.call(S,_)){if(w.includes(_))continue;k[_]=S[_]}return k}function f(S){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(S)}function h(S,w){var _,k=Object.keys(S);return Object.getOwnPropertySymbols&&(_=Object.getOwnPropertySymbols(S),w&&(_=_.filter(function(A){return Object.getOwnPropertyDescriptor(S,A).enumerable})),k.push.apply(k,_)),k}function d(S){for(var w=1;w<arguments.length;w++){var _=arguments[w]!=null?arguments[w]:{};w%2?h(Object(_),!0).forEach(function(k){g(S,k,_[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):h(Object(_)).forEach(function(k){Object.defineProperty(S,k,Object.getOwnPropertyDescriptor(_,k))})}return S}function g(S,w,_){return(w=p(w))in S?Object.defineProperty(S,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[w]=_,S}function p(S){return S=m(S,"string"),f(S)=="symbol"?S:S+""}function m(S,w){if(f(S)!="object"||!S)return S;var _=S[Symbol.toPrimitive];if(_===void 0)return(w==="string"?String:Number)(S);if(_=_.call(S,w),f(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}function v(S,w){var _=d({},S);return w.forEach(function(k){delete _[k]}),_}function y(S,w){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(S!==w){if(f(S)!=="object"||S===null||f(w)!=="object"||w===null)return!1;if(!_.has(S)&&!_.has(w)){_.add(S),_.add(w);var k=Object.keys(S),A=Object.keys(w);if(k.length!==A.length)return!1;for(var E=0,C=k;E<C.length;E++){var T=C[E];if(!A.includes(T)||!y(S[T],w[T],_))return!1}}}return!0}function b(T){function w(H){return H&&f(H)==="object"&&!Array.isArray(H)}var L=T.type,_=L===void 0?"line":L,L=T.width,k=L===void 0?"100%":L,L=T.height,A=L===void 0?"auto":L,E=T.series,C=T.options,L=T.chartRef,T=c(T,a),O=(0,e.useRef)(null),N=L||(0,e.useRef)(null),z=(0,e.useRef)(),W=((0,e.useEffect)(function(){z.current=C;var H=O.current;return N.current=new r.default(H,W()),N.current.render(),function(){N.current&&typeof N.current.destroy=="function"&&N.current.destroy()}},[]),(0,e.useEffect)(function(){var H=!y(N.current.w.config.series,E),I=!y(z.current,C)||A!==N.current.opts.chart.height||k!==N.current.opts.chart.width;(H||I)&&(!H||I?N.current.updateOptions(W()):N.current.updateSeries(E)),z.current=C},[C,E,A,k]),function(){return F(C,{chart:{type:_,height:A,width:k},series:E})}),F=function(H,I){var X=d({},H);return w(H)&&w(I)&&Object.keys(I).forEach(function(K){w(I[K])&&K in H?X[K]=F(H[K],I[K]):Object.assign(X,g({},K,I[K]))}),X},L=v(T,Object.keys(b.propTypes));return e.default.createElement("div",l({ref:O},L))}b.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number]),chartRef:n.default.shape({current:n.default.any})}})(ZL);const Yk=Lt(ZL);function ky({data:t=[],categories:e=[],title:r="",height:n=300,type:a="area",color:i="#0B6E99",yAxisFormatter:s=o=>(o==null?void 0:o.toLocaleString())||"0"}){const o=[{name:r,data:t}],l={chart:{type:a,height:n,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},fontFamily:"Inter, system-ui, -apple-system, sans-serif",dropShadow:{enabled:!0,top:2,left:0,blur:4,opacity:.1}},colors:[i],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.1,stops:[0,90,100]}},xaxis:{categories:e,labels:{style:{colors:"#6B7280",fontSize:"11px"},rotate:-45,rotateAlways:e.length>15},axisBorder:{show:!0,color:"#E5E7EB"},axisTicks:{show:!0,color:"#E5E7EB"}},yaxis:{labels:{style:{colors:"#6B7280",fontSize:"11px"},formatter:s}},grid:{borderColor:"#F3F4F6",strokeDashArray:4,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},tooltip:{enabled:!0,theme:"light",x:{show:!0},y:{formatter:s},style:{fontSize:"12px"}},legend:{show:!1}};return x.jsx("div",{style:{width:"100%"},children:x.jsx(Yk,{options:l,series:o,type:a,height:n})})}function f2e({labels:t=[],series:e=[],title:r="",height:n=300,colors:a=["#0B6E99","#00A99D","#F5A623","#9333EA","#DC2626","#16A34A","#0891B2"]}){const i={chart:{type:"donut",height:n,fontFamily:"Inter, system-ui, -apple-system, sans-serif",dropShadow:{enabled:!0,top:2,left:0,blur:4,opacity:.1}},colors:a,labels:t,dataLabels:{enabled:!0,formatter:function(s){return s.toFixed(1)+"%"},style:{fontSize:"12px",fontWeight:600,colors:["#ffffff"]},dropShadow:{enabled:!0,top:1,left:1,blur:1,opacity:.5}},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:600,color:"#1F2937"},value:{show:!0,fontSize:"20px",fontWeight:700,color:"#111827",formatter:function(s){return parseFloat(s).toLocaleString()}},total:{show:!0,label:r||"Total",fontSize:"14px",fontWeight:600,color:"#6B7280",formatter:function(s){return s.globals.seriesTotals.reduce((o,l)=>o+l,0).toLocaleString()}}}}}},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontSize:"12px",fontWeight:500,labels:{colors:"#6B7280"},markers:{width:12,height:12,radius:3},itemMargin:{horizontal:8,vertical:4}},tooltip:{enabled:!0,theme:"light",y:{formatter:function(s){return s.toLocaleString()}},style:{fontSize:"12px"}},stroke:{show:!0,width:2,colors:["#ffffff"]}};return x.jsx("div",{style:{width:"100%"},children:x.jsx(Yk,{options:i,series:e,type:"donut",height:n})})}function sI({categories:t=[],series:e=[],title:r="",height:n=300,stacked:a=!0,horizontal:i=!1,colors:s=["#0B6E99","#00A99D","#F5A623","#9333EA","#DC2626","#16A34A","#0891B2"],yAxisFormatter:o=l=>(l==null?void 0:l.toLocaleString())||"0"}){const l={chart:{type:"bar",height:n,stacked:a,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},fontFamily:"Inter, system-ui, -apple-system, sans-serif",dropShadow:{enabled:!1}},plotOptions:{bar:{horizontal:i,columnWidth:"70%",borderRadius:4,dataLabels:{position:"top"}}},colors:s,dataLabels:{enabled:!1},stroke:{show:!0,width:1,colors:["#ffffff"]},xaxis:{categories:t,labels:{style:{colors:"#6B7280",fontSize:"11px"},rotate:i?0:-45,rotateAlways:!i&&t.length>10},axisBorder:{show:!0,color:"#E5E7EB"},axisTicks:{show:!0,color:"#E5E7EB"}},yaxis:{labels:{style:{colors:"#6B7280",fontSize:"11px"},formatter:o}},grid:{borderColor:"#F3F4F6",strokeDashArray:4,xaxis:{lines:{show:i}},yaxis:{lines:{show:!i}}},tooltip:{enabled:!0,theme:"light",y:{formatter:o},style:{fontSize:"12px"}},legend:{show:e.length>1,position:"top",horizontalAlign:"left",fontSize:"12px",fontWeight:500,labels:{colors:"#6B7280"},markers:{width:12,height:12,radius:3},itemMargin:{horizontal:12,vertical:4}},fill:{opacity:1}};return x.jsx("div",{style:{width:"100%"},children:x.jsx(Yk,{options:l,series:e,type:"bar",height:n})})}const Dw=[{id:"tile_totalGallons",title:"TOTAL GALLONS (ALL C-STORES)",zone:"top",type:"tile"},{id:"tile_serviceRevenueThisWeek",title:"SERVICE REVENUE (THIS WEEK)",zone:"top",type:"tile"},{id:"tile_currentTanks",title:"CURRENT TANKS",zone:"top",type:"tile"},{id:"tile_customersLost",title:"CUSTOMERS LOST",zone:"top",type:"tile"},{id:"tile_customersGained",title:"CUSTOMERS GAINED",zone:"top",type:"tile"},{id:"tile_tanksSet",title:"TANKS SET",zone:"top",type:"tile"},{id:"combinedRevenue",title:"Combined Revenue Trend (Daily)",zone:"bottom",type:"chart"},{id:"serviceCard",title:"Service - Revenue & Counts",zone:"bottom",type:"chart"},{id:"deliveryCard",title:"Delivery - Revenue & Counts",zone:"bottom",type:"chart"},{id:"productMix",title:"Product Mix (Revenue)",zone:"bottom",type:"chart"},{id:"summaryStats",title:"Summary Statistics",zone:"bottom",type:"tile"},{id:"companyHealth",title:"Company Health",zone:"bottom",type:"tile"},{id:"tanksSetWeek",title:"Tanks Set (Weekly)",zone:"bottom",type:"chart"},{id:"avgMilesCard",title:"Avg Miles per Stop",zone:"bottom",type:"tile"}];function oI(t){return Dw.find(e=>e.id===t)||{id:t,title:t}}function h2e(){const t="execdash_custom_layout_v1",e=t+"_visible",[r,n]=U.useState(null),[a,i]=U.useState(null),[s,o]=U.useState({}),[l,c]=U.useState(!0),[u,f]=U.useState(null),[h,d]=U.useState(null),g=U.useRef({zone:null,index:null,id:null}),[p,m]=U.useState(()=>{try{const F=localStorage.getItem(t);if(F){const L=JSON.parse(F);if(L&&Array.isArray(L.top))return L.top}}catch{}return["tile_totalGallons","tile_serviceRevenueThisWeek","tile_currentTanks","tile_customersLost","tile_customersGained","tile_tanksSet"]}),[v,y]=U.useState(()=>{try{const F=localStorage.getItem(t);if(F){const L=JSON.parse(F);if(L&&Array.isArray(L.bottom))return L.bottom}}catch{}return["combinedRevenue","serviceCard","deliveryCard","productMix","summaryStats","companyHealth","tanksSetWeek","avgMilesCard"]}),[b,S]=U.useState(()=>{try{const L=localStorage.getItem(e);if(L)return JSON.parse(L)}catch{}const F={};return Dw.forEach(L=>F[L.id]=!0),F}),w=F=>F==null?"0":Number(F).toLocaleString();U.useEffect(()=>{let F=!0;async function L(){c(!0);try{const[H,I]=await Promise.all([Nv(),X_e()]);if(!F)return;H.error&&console.warn("[ExecDash] billboard error",H.error),n(H.data||{}),i(I||{}),f(H.error||null)}catch(H){console.error("[ExecDash] load error",H),F&&f(H.message||String(H))}finally{F&&c(!1)}}return L(),()=>{F=!1}},[]),U.useEffect(()=>{if(r&&(r.combinedRevenueByDay||r.serviceSeriesStatus||r.deliveriesSeriesStatus||r.truckData||r.productData))return;let L=!0;async function H(){try{if(!be)return;const I=new Date,X=new Date;X.setDate(X.getDate()-29);const K=M=>M.toISOString().slice(0,10),P=[];for(let M=0;M<30;M++){const Z=new Date(X);Z.setDate(X.getDate()+M),P.push(K(Z))}const{data:Y}=await be.from("delivery_tickets").select("date, amount, qty, status, truck, product").gte("date",K(X)).lte("date",K(I)),{data:B}=await be.from("service_jobs").select("job_date, job_amount, status, technician").gte("job_date",K(X)).lte("job_date",K(I)),G={},te={},oe={},le={};let re=0,se=0,xe=0;(Y||[]).forEach(M=>{const Z=(M.date||"").slice(0,10),ue=Number(M.amount||0),pe=Number(M.qty||0);re++,se+=pe,xe+=ue,G[Z]=(G[Z]||0)+ue;const Se=(M.status||"unknown").toLowerCase();te[Se]=te[Se]||{},te[Se][Z]=(te[Se][Z]||0)+1,M.truck&&(oe[M.truck]=(oe[M.truck]||0)+ue),M.product&&(le[M.product]=(le[M.product]||0)+ue)});const D={},Ce={};let Ee=0;(B||[]).forEach(M=>{const Z=(M.job_date||"").slice(0,10),ue=Number(M.job_amount||0),pe=(M.status||"unknown").toLowerCase();Ce[pe]=Ce[pe]||{},Ce[pe][Z]=(Ce[pe][Z]||0)+1,pe==="completed"&&(D[Z]=(D[Z]||0)+ue,Ee++)});const $e=P.map(M=>Number(D[M]||0)+Number(G[M]||0)),ze=Object.keys(Ce).sort().map(M=>({name:M,values:P.map(Z=>Number(Ce[M][Z]||0))})),ie=Object.keys(te).sort().map(M=>({name:M,values:P.map(Z=>Number(te[M][Z]||0))})),Me=Object.entries(oe).map(([M,Z])=>({truck:M,revenue:Z})).sort((M,Z)=>Z.revenue-M.revenue).slice(0,10),Qe=Object.entries(le).map(([M,Z])=>({product:M,revenue:Z})).sort((M,Z)=>Z.revenue-M.revenue).slice(0,10);if(!L)return;o({combinedRevenueByDay:$e,allDays:P,serviceSeriesStatus:ze,deliveriesSeriesStatus:ie,truckData:Me,productData:Qe,deliveriesTotals:{tickets:re,gallons:se},deliveriesAvgPrice:re?xe/re:0,svcCounts:{completed:Ee}})}catch(I){console.error("[ExecDash] fallback error",I)}}return H(),()=>{L=!1}},[r]);const _={combinedRevenueByDay:r&&(r.combinedRevenueByDay||r.combinedRevenue)||s.combinedRevenueByDay||[],allDays:r&&(r.allDays||r.combinedDays)||s.allDays||[],truckData:r&&(r.truckData||r.topTrucks)||s.truckData||[],productData:r&&(r.productData||r.topProducts)||s.productData||[],serviceSeriesStatus:r&&(r.serviceSeriesStatus||r.serviceSeries)||s.serviceSeriesStatus||[],deliveriesSeriesStatus:r&&(r.deliveriesSeriesStatus||r.deliveriesSeries)||s.deliveriesSeriesStatus||[],deliveriesTotals:r&&r.deliveriesTotals||s.deliveriesTotals||{tickets:0,gallons:0},deliveriesAvgPrice:r&&r.deliveriesAvgPrice||s.deliveriesAvgPrice||0,svcCounts:r&&r.svcCounts||s.svcCounts||{completed:0}};U.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify({top:p,bottom:v})),localStorage.setItem(e,JSON.stringify(b))}catch{}},[p,v,b]);function k(F,L,H,I){g.current={zone:F,index:L,id:H},d(H);try{I.dataTransfer.setData("text/plain",JSON.stringify({zone:F,index:L,id:H}))}catch{}I.dataTransfer.effectAllowed="move"}function A(F,L,H){H.preventDefault(),H.dataTransfer.dropEffect="move"}function E(F,L,H){H.preventDefault();const I=g.current;if(!I||!I.id)return;const X=I.id,K=Array.from(p),P=Array.from(v);I.zone==="top"?K.splice(I.index,1):P.splice(I.index,1);const Y=F==="top"?K:P,B=L??Y.length;Y.splice(B,0,X),m(K),y(P),g.current={zone:null,index:null,id:null},d(null)}function C(){g.current={zone:null,index:null,id:null},d(null)}function T(F){S(L=>{const H={...L,[F]:!L[F]};return H[F]&&!p.includes(F)&&!v.includes(F)&&y(I=>[...I,F]),H})}function O(F,L){S(H=>({...H,[F]:!0})),L==="top"?m(H=>H.includes(F)?H:[...H,F]):y(H=>H.includes(F)?H:[...H,F])}function N(F){S(L=>({...L,[F]:!1})),m(L=>L.filter(H=>H!==F)),y(L=>L.filter(H=>H!==F))}function z(F){var I,X,K,P;const L=a||{},H=(r==null?void 0:r.dashboardSquares)||{};switch(F){case"tile_totalGallons":return x.jsx(Ka,{title:"TOTAL GALLONS (ALL C-STORES)",value:(H.totalGallonsAllStores||0).toLocaleString(),sub:"gal"});case"tile_serviceRevenueThisWeek":return x.jsx(Ka,{title:"SERVICE REVENUE (THIS WEEK)",value:(H.weeklyServiceRevenue||0).toLocaleString(void 0,{style:"currency",currency:"USD"})});case"tile_currentTanks":return x.jsx(Ka,{title:"CURRENT TANKS",value:(L.current_tanks||0).toLocaleString()});case"tile_customersLost":return x.jsx(Ka,{title:"CUSTOMERS LOST",value:(L.customers_lost||0).toLocaleString()});case"tile_customersGained":return x.jsx(Ka,{title:"CUSTOMERS GAINED",value:(L.customers_gained||0).toLocaleString()});case"tile_tanksSet":return x.jsx(Ka,{title:"TANKS SET",value:(L.tanks_set||0).toLocaleString()});case"summaryStats":return x.jsx("div",{children:x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px,1fr))",gap:12},children:[x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:11,color:"#6B7280",fontWeight:600},children:"TOTAL TICKETS"}),x.jsx("div",{style:{fontSize:20,fontWeight:700},children:w((I=_.deliveriesTotals)==null?void 0:I.tickets)})]}),x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:11,color:"#6B7280",fontWeight:600},children:"TOTAL GALLONS"}),x.jsx("div",{style:{fontSize:20,fontWeight:700},children:w((X=_.deliveriesTotals)==null?void 0:X.gallons)})]}),x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:11,color:"#6B7280",fontWeight:600},children:"AVG PRICE/GAL"}),x.jsxs("div",{style:{fontSize:20,fontWeight:700},children:["$",(_.deliveriesAvgPrice||0).toFixed(2)]})]}),x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:11,color:"#6B7280",fontWeight:600},children:"SERVICE COMPLETED"}),x.jsx("div",{style:{fontSize:20,fontWeight:700},children:w((K=_.svcCounts)==null?void 0:K.completed)})]})]})});case"companyHealth":return typeof RP=="function"?x.jsx(RP,{}):x.jsx("div",{});case"avgMilesCard":const Y=((P=r==null?void 0:r.deliveryTicketsMetrics)==null?void 0:P.avgMiles)??null;return x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:12,color:"#6B7280"},children:"Avg Miles per Stop"}),x.jsx("div",{style:{fontSize:22,fontWeight:700,marginTop:6},children:Y!==null?`${Number(Y).toFixed(1)} mi`:""}),x.jsx("div",{style:{marginTop:10},children:x.jsx(Y_e,{})})]});default:return x.jsx("div",{})}}function W(F){switch(F){case"combinedRevenue":return x.jsx(ky,{data:_.combinedRevenueByDay||[],categories:_.allDays||[],title:"Revenue",height:260,type:"area",color:"#0B6E99",yAxisFormatter:I=>"$"+Math.round(I).toLocaleString()});case"serviceCard":return x.jsx(sI,{categories:(_.allDays||[]).slice(-30),series:(_.serviceSeriesStatus||[]).map(I=>({name:I.name,data:(I.values||I.data||[]).slice(-30)})),height:260,stacked:!0,colors:["#16A34A","#4338CA","#F59E0B","#DC2626"]});case"deliveryCard":return x.jsx(sI,{categories:(_.allDays||[]).slice(-30),series:(_.deliveriesSeriesStatus||[]).map(I=>({name:I.name,data:(I.values||I.data||[]).slice(-30)})),height:260,stacked:!0,colors:["#16A34A","#4338CA","#DC2626"]});case"productMix":return x.jsx(f2e,{labels:(_.productData||[]).map(I=>I.product||I.name),series:(_.productData||[]).map(I=>Number(I.revenue||I.amount||0)),title:"Total",height:260,colors:["#0B6E99","#00A99D","#F5A623","#9333EA","#DC2626","#16A34A","#0891B2"]});case"tanksSetWeek":if(r!=null&&r.tanksSetWeekly)return x.jsx(ky,{data:r.tanksSetWeekly.values,categories:r.tanksSetWeekly.weeks,title:"Tanks Set (Weekly)",height:240,type:"line",color:"#9333EA"});const H=(a||{}).tanks_set||0;return x.jsx(ky,{data:[H],categories:[new Date().toISOString().slice(0,10)],title:"Tanks Set (Weekly)",height:240,type:"line",color:"#9333EA"});default:return x.jsx("div",{})}}return x.jsxs("div",{style:{display:"flex",gap:16,padding:18},children:[x.jsx("aside",{style:{width:260,flexShrink:0},children:x.jsxs("div",{style:{background:"#fff",border:"1px solid #E6E6E6",borderRadius:8,padding:12},children:[x.jsx("h3",{style:{marginTop:0},children:"Card Picker"}),x.jsx("p",{style:{margin:0,color:"#6B7280",fontSize:13},children:"Toggle cards to show/hide; add to Top or Bottom."}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginTop:10},children:Dw.map(F=>x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[x.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",flex:1},children:[x.jsx("input",{type:"checkbox",checked:!!b[F.id],onChange:()=>T(F.id)}),x.jsx("span",{style:{fontSize:14},children:F.title})]}),x.jsxs("div",{style:{display:"flex",gap:6},children:[x.jsx("button",{onClick:()=>O(F.id,"top"),style:{fontSize:12},children:"Add Top"}),x.jsx("button",{onClick:()=>O(F.id,"bottom"),style:{fontSize:12},children:"Add Bottom"}),b[F.id]&&(p.includes(F.id)||v.includes(F.id))&&x.jsx("button",{onClick:()=>N(F.id),style:{fontSize:12},children:"Remove"})]})]},F.id))})]})}),x.jsxs("main",{style:{flex:1},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[x.jsx("h2",{style:{margin:0},children:"Gibson Oil & Gas  KPI Dashboard"}),x.jsx("div",{children:x.jsx("button",{className:"btn btn-outline",children:"Edit KPIs"})})]}),u&&x.jsx("div",{style:{background:"#fee2e2",padding:12,borderRadius:6,color:"#b91c1c",marginBottom:12},children:String(u)}),l&&x.jsx("div",{style:{marginBottom:12},children:"Loading dashboard..."}),x.jsx("div",{style:{marginBottom:16,display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(160px,1fr))",gap:16},onDragOver:F=>{F.preventDefault()},onDrop:F=>{E("top",null,F)},children:p.map((F,L)=>{if(!b[F])return null;const H=oI(F),I=h===F;return x.jsxs("div",{draggable:!0,onDragStart:X=>k("top",L,F,X),onDragOver:X=>A("top",L,X),onDrop:X=>E("top",L,X),onDragEnd:C,style:{background:"#fff",border:"1px solid #E6E6E6",borderRadius:8,overflow:"hidden",boxShadow:I?"0 6px 18px rgba(11,110,153,0.08)":void 0},children:[x.jsxs("div",{style:{padding:10,borderBottom:"1px solid #F3F4F6",cursor:"grab",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[x.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:x.jsx("path",{d:"M10 6h.01M14 6h.01M10 12h.01M14 12h.01M10 18h.01M14 18h.01",stroke:"#6B7280",strokeWidth:"1.5",strokeLinecap:"round"})}),x.jsx("div",{style:{fontWeight:700},children:H.title})]}),x.jsx("button",{onClick:()=>N(F),style:{border:"none",background:"transparent",cursor:"pointer"},children:""})]}),x.jsx("div",{style:{padding:12},children:z(F)})]},F)})}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",gap:16},onDragOver:F=>{F.preventDefault()},onDrop:F=>{E("bottom",null,F)},children:v.map((F,L)=>{if(!b[F])return null;const H=oI(F),I=h===F;return x.jsxs("div",{draggable:!0,onDragStart:X=>k("bottom",L,F,X),onDragOver:X=>A("bottom",L,X),onDrop:X=>E("bottom",L,X),onDragEnd:C,style:{background:"#fff",border:"1px solid #E6E6E6",borderRadius:8,overflow:"hidden",boxShadow:I?"0 6px 18px rgba(11,110,153,0.08)":void 0},children:[x.jsxs("div",{style:{padding:10,borderBottom:"1px solid #F3F4F6",cursor:"grab",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[x.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:x.jsx("path",{d:"M10 6h.01M14 6h.01M10 12h.01M14 12h.01M10 18h.01M14 18h.01",stroke:"#6B7280",strokeWidth:"1.5",strokeLinecap:"round"})}),x.jsx("div",{style:{fontWeight:700},children:H.title})]}),x.jsx("button",{onClick:()=>N(F),style:{border:"none",background:"transparent",cursor:"pointer"},children:""})]}),x.jsx("div",{style:{padding:12},children:W(F)})]},F)})})]})]})}function d2e({targetId:t="billboard-root",className:e=""}){const[r,n]=U.useState(!1),a=U.useCallback(()=>{const o=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n(!!o)},[]);U.useEffect(()=>(document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.addEventListener("MSFullscreenChange",a),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("webkitfullscreenchange",a),document.removeEventListener("mozfullscreenchange",a),document.removeEventListener("MSFullscreenChange",a)}),[a]);const i=async()=>{try{const o=document.getElementById(t)||document.documentElement;if(!o)return;o.requestFullscreen?await o.requestFullscreen():o.webkitRequestFullscreen?await o.webkitRequestFullscreen():o.mozRequestFullScreen?await o.mozRequestFullScreen():o.msRequestFullscreen&&await o.msRequestFullscreen()}catch(o){console.error("requestFullscreen error",o)}},s=async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen()}catch(o){console.error("exitFullscreen error",o)}};return x.jsx("button",{type:"button",className:e,"aria-pressed":r,onClick:()=>r?s():i(),title:r?"Exit fullscreen":"Enter fullscreen",style:{padding:"8px 10px",borderRadius:8,border:"none",background:"rgba(0,0,0,0.6)",color:"white",cursor:"pointer",fontSize:14},children:r?"Exit Fullscreen":"Fullscreen"})}var X3={};function p2e(t){if(typeof window>"u")return;const e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}Object.defineProperty(X3,"__esModule",{value:!0});var or=U;function g2e(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ys=g2e(or);p2e(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const m2e=or.forwardRef(function({style:e={},className:r="",autoFill:n=!1,play:a=!0,pauseOnHover:i=!1,pauseOnClick:s=!1,direction:o="left",speed:l=50,delay:c=0,loop:u=0,gradient:f=!1,gradientColor:h="white",gradientWidth:d=200,onFinish:g,onCycleComplete:p,onMount:m,children:v},y){const[b,S]=or.useState(0),[w,_]=or.useState(0),[k,A]=or.useState(1),[E,C]=or.useState(!1),T=or.useRef(null),O=y||T,N=or.useRef(null),z=or.useCallback(()=>{if(N.current&&O.current){const K=O.current.getBoundingClientRect(),P=N.current.getBoundingClientRect();let Y=K.width,B=P.width;(o==="up"||o==="down")&&(Y=K.height,B=P.height),A(n&&Y&&B&&B<Y?Math.ceil(Y/B):1),S(Y),_(B)}},[n,O,o]);or.useEffect(()=>{if(E&&(z(),N.current&&O.current)){const K=new ResizeObserver(()=>z());return K.observe(O.current),K.observe(N.current),()=>{K&&K.disconnect()}}},[z,O,E]),or.useEffect(()=>{z()},[z,v]),or.useEffect(()=>{C(!0)},[]),or.useEffect(()=>{typeof m=="function"&&m()},[]);const W=or.useMemo(()=>n?w*k/l:w<b?b/l:w/l,[n,b,w,k,l]),F=or.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!a||i?"paused":"running","--pause-on-click":!a||i&&!s||s?"paused":"running","--width":o==="up"||o==="down"?"100vh":"100%","--transform":o==="up"?"rotate(-90deg)":o==="down"?"rotate(90deg)":"none"}),[e,a,i,s,o]),L=or.useMemo(()=>({"--gradient-color":h,"--gradient-width":typeof d=="number"?`${d}px`:d}),[h,d]),H=or.useMemo(()=>({"--play":a?"running":"paused","--direction":o==="left"?"normal":"reverse","--duration":`${W}s`,"--delay":`${c}s`,"--iteration-count":u?`${u}`:"infinite","--min-width":n?"auto":"100%"}),[a,o,W,c,u,n]),I=or.useMemo(()=>({"--transform":o==="up"?"rotate(90deg)":o==="down"?"rotate(-90deg)":"none"}),[o]),X=or.useCallback(K=>[...Array(Number.isFinite(K)&&K>=0?K:0)].map((P,Y)=>ys.default.createElement(or.Fragment,{key:Y},or.Children.map(v,B=>ys.default.createElement("div",{style:I,className:"rfm-child"},B)))),[I,v]);return E?ys.default.createElement("div",{ref:O,style:F,className:"rfm-marquee-container "+r},f&&ys.default.createElement("div",{style:L,className:"rfm-overlay"}),ys.default.createElement("div",{className:"rfm-marquee",style:H,onAnimationIteration:p,onAnimationEnd:g},ys.default.createElement("div",{className:"rfm-initial-child-container",ref:N},or.Children.map(v,K=>ys.default.createElement("div",{style:I,className:"rfm-child"},K))),X(k-1)),ys.default.createElement("div",{className:"rfm-marquee",style:H},X(k))):null});var v2e=X3.default=m2e;const Ay={BASE_URL:"/KPI-Dashboard/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impza2Fqa3d1bGFhYWtoYW9semR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NTExMjEsImV4cCI6MjA3MzAyNzEyMX0.8pq0sVGGofg2vGmrOdbvqbVX-mFcdQInZ3T5pc70Qb4",VITE_SUPABASE_URL:"https://jskajkwulaaakhaolzdu.supabase.co"};var vf={};function Vk(t=30){var e;try{if(typeof window<"u"&&((e=window.__ENV)!=null&&e.VITE_BILLBOARD_REFRESH_SEC)){const r=parseInt(window.__ENV.VITE_BILLBOARD_REFRESH_SEC,10);if(isFinite(r)&&r>0)return r}if(typeof import.meta<"u"&&(Ay!=null&&Ay.VITE_BILLBOARD_REFRESH_SEC)){const r=parseInt(void 0,10);if(isFinite(r)&&r>0)return r}if(typeof process<"u"&&typeof vf<"u"&&(vf!=null&&vf.VITE_BILLBOARD_REFRESH_SEC)){const r=parseInt(vf.VITE_BILLBOARD_REFRESH_SEC,10);if(isFinite(r)&&r>0)return r}}catch(r){console.warn("[readRefreshSec] Error reading refresh interval, using default:",r)}return t}function Gk(t){return t*1e3}const wp=[{label:"SERVICE REVENUE",value:"$125,000",change:"+8.1%",positive:!0},{label:"DELIVERY REVENUE",value:"$89,451",change:"+5.2%",positive:!0},{label:"TOTAL TICKETS",value:"156",change:null,positive:null},{label:"GALLONS",value:"45,231",change:"+12.3%",positive:!0},{label:"COMPLETED JOBS",value:"42",change:null,positive:null}];async function x2e(){try{const{getBillboardSummary:t}=await yu(async()=>{const{getBillboardSummary:r}=await Promise.resolve().then(()=>H_e);return{getBillboardSummary:r}},void 0),e=await t();return e.error&&console.warn("[BillboardTopTicker] Error from getBillboardSummary:",e.error),e.data||null}catch(t){return console.error("[BillboardTopTicker] Error calling clientGetBillboardSummary:",t),null}}function y2e({pollInterval:t=null}){const[e,r]=U.useState(wp),[n,a]=U.useState(!0),[i,s]=U.useState(null),[o,l]=U.useState("loading"),c=t||Gk(Vk(30)),u=async()=>{try{console.log("[BillboardTopTicker] Fetching data from Supabase...");const f=await x2e();if(f&&f.serviceTracking&&f.deliveryTickets){const h=b2e(f);r(h),s(null),l("supabase"),console.log("[BillboardTopTicker] Successfully loaded data from Supabase:",f)}else console.warn("[BillboardTopTicker] No data from Supabase, using sample data"),r(wp),s("Using sample data - configure Supabase credentials"),l("sample")}catch(f){console.error("[BillboardTopTicker] Fetch error:",f),s(f.message),r(wp),l("error")}finally{a(!1)}};return U.useEffect(()=>{u();const f=setInterval(u,c),h=d=>{console.log("[BillboardTopTicker] Forced refresh triggered:",d.detail),u()};return typeof window<"u"&&window.addEventListener("billboard-refresh",h),()=>{clearInterval(f),typeof window<"u"&&window.removeEventListener("billboard-refresh",h)}},[c]),n?x.jsx("div",{className:"billboard-top-ticker-loading",children:x.jsx("span",{children:"Loading ticker data..."})}):x.jsxs("div",{className:"billboard-top-ticker-container",children:[x.jsx(v2e,{speed:40,gradient:!1,pauseOnHover:!0,pauseOnClick:!0,delay:0,play:!0,direction:"left",children:e.map((f,h)=>x.jsxs("div",{className:"billboard-top-ticker-item",children:[x.jsx("span",{className:"billboard-top-ticker-label",children:f.label}),x.jsx("span",{className:"billboard-top-ticker-value",children:f.value}),f.change&&x.jsx("span",{className:`billboard-top-ticker-chip ${f.positive?"chip-positive":"chip-negative"}`,children:f.change})]},h))}),o==="sample"&&x.jsx("div",{className:"billboard-data-warning",children:" Sample data - Configure Supabase in Settings"})]})}function b2e(t){var h,d,g,p,m,v,y,b;if(!t)return wp;const e=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S||0),r=S=>new Intl.NumberFormat("en-US").format(S||0),n=S=>{const w=parseFloat(S)||0;return`${w>=0?"+":""}${w.toFixed(1)}%`},a=((h=t.serviceTracking)==null?void 0:h.completedRevenue)||0,i=((d=t.deliveryTickets)==null?void 0:d.revenue)||0,s=((g=t.deliveryTickets)==null?void 0:g.totalTickets)||0,o=((p=t.deliveryTickets)==null?void 0:p.totalGallons)||0,l=((m=t.serviceTracking)==null?void 0:m.completed)||0,c=((v=t.serviceTracking)==null?void 0:v.scheduled)||0,u=((y=t.weekCompare)==null?void 0:y.thisWeekTotalRevenue)||0,f=((b=t.weekCompare)==null?void 0:b.percentChange)||0;return[{label:"TOTAL REVENUE",value:e(u),change:n(f),positive:f>=0},{label:"SERVICE REVENUE",value:e(a),change:null,positive:null},{label:"DELIVERY REVENUE",value:e(i),change:null,positive:null},{label:"DELIVERY TICKETS",value:r(s),change:null,positive:null},{label:"GALLONS",value:r(o),change:null,positive:null},{label:"COMPLETED JOBS",value:r(l),change:null,positive:null},{label:"SCHEDULED JOBS",value:r(c),change:null,positive:null}]}const w2e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function S2e({thisWeekTotalRevenue:t=0,lastWeekTotalRevenue:e=0,percentChange:r=0,scheduledJobs:n=0,scheduledRevenue:a=0}){console.debug("[WeekCompareBar] Scheduled metrics:",{scheduledJobs:n,scheduledRevenue:a});const i=e>0?t/e*100:t>0?100:0,s=U.useMemo(()=>i>110?{bg:"#dcfce7",bar:"#10b981",text:"#166534",label:"Strong Growth"}:i>=90?{bg:"#fef3c7",bar:"#f59e0b",text:"#92400e",label:"Stable"}:{bg:"#fee2e2",bar:"#ef4444",text:"#991b1b",label:"Needs Attention"},[i]),o=Math.min(i,150),l=c=>c==null||c===""?"$0.00":w2e.format(c);return x.jsxs("div",{className:"week-compare-bar",role:"region","aria-label":"Week revenue comparison",children:[x.jsxs("div",{className:"week-compare-header",children:[x.jsx("h3",{className:"week-compare-title",children:"This Week vs Last Week"}),x.jsx("div",{className:"week-compare-status",style:{color:s.text,backgroundColor:s.bg},"aria-live":"polite",children:s.label})]}),x.jsxs("div",{className:"week-compare-values",children:[x.jsxs("div",{className:"week-compare-value-item",children:[x.jsx("span",{className:"week-compare-value-label",children:"This Week"}),x.jsx("span",{className:"week-compare-value-amount",style:{color:s.bar},"aria-label":`This week revenue: ${l(t)}`,children:l(t)})]}),x.jsxs("div",{className:"week-compare-value-item",children:[x.jsx("span",{className:"week-compare-value-label",children:"Last Week"}),x.jsx("span",{className:"week-compare-value-amount","aria-label":`Last week revenue: ${l(e)}`,children:l(e)})]}),x.jsxs("div",{className:"week-compare-value-item",children:[x.jsx("span",{className:"week-compare-value-label",children:"Change"}),x.jsxs("span",{className:`week-compare-value-amount ${r>=0?"positive":"negative"}`,style:{color:s.text},"aria-label":`Change: ${r>=0?"+":""}${r.toFixed(1)}%`,children:[r>=0?"+":"",r.toFixed(1),"%"]})]}),x.jsxs("div",{className:"week-compare-value-item",children:[x.jsx("span",{className:"week-compare-value-label",children:"Scheduled Jobs"}),x.jsx("span",{className:"week-compare-value-amount","aria-label":`Scheduled jobs: ${n}`,children:n})]}),x.jsxs("div",{className:"week-compare-value-item",children:[x.jsx("span",{className:"week-compare-value-label",children:"Scheduled Revenue"}),x.jsx("span",{className:"week-compare-value-amount",style:{color:"#8b5cf6"},"aria-label":`Scheduled revenue: ${l(a)}`,children:l(a)})]})]}),x.jsx("div",{className:"week-compare-bar-container",style:{backgroundColor:s.bg},role:"progressbar","aria-valuenow":Math.round(i),"aria-valuemin":"0","aria-valuemax":"150","aria-label":`Performance at ${Math.round(i)}% of last week`,children:x.jsx("div",{className:"week-compare-bar-fill",style:{width:`${o}%`,backgroundColor:s.bar,transition:"width 0.6s ease"},children:x.jsxs("span",{className:"week-compare-bar-label",children:[i.toFixed(0),"%"]})})}),x.jsxs("div",{className:"week-compare-legend","aria-label":"Performance legend",children:[x.jsxs("div",{className:"week-compare-legend-item",children:[x.jsx("div",{className:"week-compare-legend-marker",style:{backgroundColor:"#ef4444"}}),x.jsx("span",{children:"<90% - Needs Attention"})]}),x.jsxs("div",{className:"week-compare-legend-item",children:[x.jsx("div",{className:"week-compare-legend-marker",style:{backgroundColor:"#f59e0b"}}),x.jsx("span",{children:"90-110% - Stable"})]}),x.jsxs("div",{className:"week-compare-legend-item",children:[x.jsx("div",{className:"week-compare-legend-marker",style:{backgroundColor:"#10b981"}}),x.jsx("span",{children:">110% - Strong Growth"})]})]})]})}function _2e({ticks:t=[]}){const[e,r]=U.useState(null),n={ok:"#10b981",warn:"#f59e0b",neg:"#ef4444",neutral:"#9ca3af"};return!t||t.length===0?null:x.jsx("div",{style:{display:"flex",alignItems:"center",gap:"24px",padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",flexWrap:"wrap"},role:"list","aria-label":"Status indicators",children:t.map((a,i)=>{const s=n[a.status]||n.neutral,o=e===i;return x.jsxs("div",{role:"listitem",style:{display:"flex",alignItems:"center",gap:"8px",position:"relative",cursor:a.tooltip?"pointer":"default"},onMouseEnter:()=>r(i),onMouseLeave:()=>r(null),"aria-label":a.tooltip||`${a.label}: ${a.status}`,children:[x.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s,boxShadow:`0 0 0 ${o?"4px":"0px"} ${s}40`,transition:"box-shadow 0.2s"},"aria-hidden":"true"}),x.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:a.label}),a.tooltip&&o&&x.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px",padding:"8px 12px",backgroundColor:"#1f2937",color:"#fff",fontSize:"0.75rem",borderRadius:"6px",whiteSpace:"nowrap",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:10,pointerEvents:"none"},role:"tooltip",children:[a.tooltip,x.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #1f2937"},"aria-hidden":"true"})]})]},i)})})}const bs={revenue:{ok:1e5,warn:5e4},tickets:{ok:100,warn:50},jobs:{ok:30,warn:15},percentChange:{ok:0,warn:-5}};function ws(t,e){return t>=e.ok?"ok":t>=e.warn?"warn":"neg"}function k2e(){const[t,e]=U.useState(null),[r,n]=U.useState([]),[a,i]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState(!0),[u,f]=U.useState(null),h=U.useRef(!0),d=U.useRef(null),g=Gk(Vk(30)),p=U.useCallback(async()=>{try{const I=await Nv();if(I.error){console.error("[MetricsGrid] Error fetching metrics:",I.error),f(I.error);return}I.data&&h.current&&(e(I.data),f(null),console.log("[MetricsGrid] Metrics updated:",I.data))}catch(I){console.error("[MetricsGrid] Fetch error:",I),h.current&&f(I.message)}finally{h.current&&c(!1)}},[]),m=U.useCallback(async()=>{try{const I=new Date,X=new Date;X.setDate(X.getDate()-7);const K=await Ik({source:"delivery",start:X,end:I,granularity:"day"});K.primary&&K.primary.length>0&&h.current&&n(K.primary)}catch(I){console.warn("[MetricsGrid] Error fetching timeseries:",I)}},[]),v=U.useCallback(async()=>{if(!be){console.warn("[MetricsGrid] Supabase not configured, skipping top items fetch");return}try{const{data:I,error:X}=await be.from("delivery_tickets").select("customer, amount, date").order("amount",{ascending:!1}).limit(3);!X&&I&&h.current&&i(I);const{data:K,error:P}=await be.from("service_jobs").select("customer_name, job_amount, job_date, status").eq("status","completed").order("job_amount",{ascending:!1}).limit(3);!P&&K&&h.current&&o(K)}catch(I){console.warn("[MetricsGrid] Error fetching top items:",I)}},[]),y=U.useCallback(()=>{if(!be){console.warn("[MetricsGrid] Supabase not configured, skipping realtime subscription");return}try{const I=be.channel("public:metrics-updates").on("postgres_changes",{event:"*",schema:"public",table:"delivery_tickets"},X=>{console.log("[MetricsGrid] Realtime update from delivery_tickets:",X),p(),m(),v()}).on("postgres_changes",{event:"*",schema:"public",table:"service_jobs"},X=>{console.log("[MetricsGrid] Realtime update from service_jobs:",X),p(),m(),v()}).subscribe(X=>{X==="SUBSCRIBED"?console.log("[MetricsGrid] Realtime subscription active"):(X==="CHANNEL_ERROR"||X==="TIMED_OUT")&&console.warn("[MetricsGrid] Realtime subscription failed, continuing with polling:",X)});d.current=I}catch(I){console.warn("[MetricsGrid] Error setting up realtime subscription:",I)}},[p,m,v]);U.useEffect(()=>{h.current=!0,p(),m(),v();const I=setInterval(()=>{p(),m(),v()},g);y();const X=K=>{console.log("[MetricsGrid] Forced refresh triggered:",K.detail),p(),m(),v()};return typeof window<"u"&&window.addEventListener("billboard-refresh",X),()=>{h.current=!1,clearInterval(I),d.current&&(be==null||be.removeChannel(d.current),d.current=null),typeof window<"u"&&window.removeEventListener("billboard-refresh",X)}},[p,m,v,g,y]);const b=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(I||0),S=I=>new Intl.NumberFormat("en-US").format(I||0);if(l)return x.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6b7280"},children:"Loading metrics..."});if(u)return x.jsxs("div",{style:{padding:"24px",textAlign:"center",color:"#ef4444"},children:["Error loading metrics: ",u]});if(!t)return x.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6b7280"},children:"No metrics available"});const w=t.deliveryTickets||{},_=t.serviceTracking||{},k=t.weekCompare||{},A=k.thisWeekTotalRevenue||0,E=k.percentChange||0,C=w.totalTickets||0,T=w.totalGallons||0,O=_.completed||0,N=w.revenue||0,z=_.completedRevenue||0,W=_.pipelineRevenue||0,F=k.scheduledJobs||0,L=k.scheduledRevenue||0;console.debug("[MetricsGrid] Scheduled metrics:",{scheduledJobs:F,scheduledRevenue:L});const H=[{label:"Revenue",status:ws(A,bs.revenue),tooltip:`Total revenue: ${b(A)}`},{label:"Deliveries",status:ws(C,bs.tickets),tooltip:`${C} delivery tickets`},{label:"Services",status:ws(O,bs.jobs),tooltip:`${O} completed jobs`},{label:"Trend",status:ws(E,bs.percentChange),tooltip:`Week-over-week: ${E>=0?"+":""}${E.toFixed(1)}%`}];return x.jsxs("div",{style:{padding:"16px"},children:[x.jsx("div",{style:{marginBottom:"24px"},children:x.jsx(_2e,{ticks:H})}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:[x.jsx(Ka,{title:"Total Revenue",value:b(A),sub:"This week vs last week",status:ws(A,bs.revenue),trend:`${E>=0?"+":""}${E.toFixed(1)}%`,ariaLabel:`Total revenue: ${b(A)}, ${E>=0?"up":"down"} ${Math.abs(E).toFixed(1)}% from last week`}),x.jsx(Ka,{title:"Delivery Revenue",value:b(N),sub:`${S(C)} tickets, ${S(T)} gallons`,status:ws(N,bs.revenue),ariaLabel:`Delivery revenue: ${b(N)} from ${C} tickets`}),x.jsx(Ka,{title:"Service Revenue",value:b(z),sub:`${O} completed jobs`,status:ws(z,bs.revenue),ariaLabel:`Service revenue: ${b(z)} from ${O} completed jobs`}),x.jsx(Ka,{title:"Pipeline",value:b(W),sub:"Scheduled & deferred",status:"neutral",ariaLabel:`Pipeline revenue: ${b(W)}`}),x.jsx(Ka,{title:"Scheduled Jobs",value:S(F),sub:`Revenue: ${b(L)}`,status:ws(F,bs.jobs),ariaLabel:`Scheduled jobs: ${F}, Revenue: ${b(L)}`})]}),r.length>0&&x.jsxs("div",{style:{marginBottom:"24px"},children:[x.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"12px"},children:"Delivery Revenue Trend (Last 7 Days)"}),x.jsx("div",{style:{height:"120px",backgroundColor:"#fff",borderRadius:"8px",padding:"12px"},children:x.jsx(cg,{width:"100%",height:"100%",children:x.jsxs(qg,{data:r,children:[x.jsx(ss,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,dot:!1}),x.jsx(Kn,{formatter:I=>[b(I),"Revenue"],labelFormatter:I=>`Day: ${I}`})]})})})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"16px"},children:[a.length>0&&x.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"8px",padding:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[x.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"12px"},children:"Top 3 Deliveries"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:a.map((I,X)=>x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px"},children:[x.jsx("span",{style:{fontSize:"0.875rem",color:"#374151",fontWeight:500},children:I.customer||"Unknown"}),x.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:b(I.amount)})]},X))})]}),s.length>0&&x.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"8px",padding:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[x.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#374151",marginBottom:"12px"},children:"Top 3 Services"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.map((I,X)=>x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px"},children:[x.jsx("span",{style:{fontSize:"0.875rem",color:"#374151",fontWeight:500},children:I.customer_name||"Unknown"}),x.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:b(I.job_amount)})]},X))})]})]})]})}function A2e(t){const[e,r]=U.useState(!1),[n,a]=U.useState(!1),[i,s]=U.useState({thisWeekTotalRevenue:0,lastWeekTotalRevenue:0,percentChange:0,scheduledJobs:0,scheduledRevenue:0}),o=U.useRef(!0),l=Gk(Vk(10));U.useEffect(()=>{const f=new URLSearchParams(window.location.search);f.get("tv")==="1"&&r(!0);const h=()=>{const g=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);a(g),!g&&(f.get("popout")==="1"||f.get("tv")==="1")&&a(!0)};h();const d=()=>{h()};return document.addEventListener("fullscreenchange",d),document.addEventListener("webkitfullscreenchange",d),document.addEventListener("mozfullscreenchange",d),document.addEventListener("MSFullscreenChange",d),()=>{document.removeEventListener("fullscreenchange",d),document.removeEventListener("webkitfullscreenchange",d),document.removeEventListener("mozfullscreenchange",d),document.removeEventListener("MSFullscreenChange",d)}},[]);const c=U.useCallback(async()=>{try{const f=await Nv();if(f.data&&f.data.weekCompare){const{thisWeekTotalRevenue:h,lastWeekTotalRevenue:d,percentChange:g,scheduledJobs:p,scheduledRevenue:m}=f.data.weekCompare;o.current&&(s({thisWeekTotalRevenue:h||0,lastWeekTotalRevenue:d||0,percentChange:g||0,scheduledJobs:p||0,scheduledRevenue:m||0}),console.debug("[BillboardPage] Week compare data updated with scheduled metrics:",{scheduledJobs:p||0,scheduledRevenue:m||0}))}}catch(f){console.error("[BillboardPage] Error fetching week compare data:",f)}},[o]);U.useEffect(()=>{o.current=!0,c();const f=setInterval(c,l),h=d=>{console.log("[BillboardPage] Forced refresh triggered:",d.detail),c()};return typeof window<"u"&&window.addEventListener("billboard-refresh",h),()=>{o.current=!1,clearInterval(f),typeof window<"u"&&window.removeEventListener("billboard-refresh",h)}},[c,l,o]);const u=()=>{c(),window.location.reload()};return x.jsxs("div",{id:"billboard-root",className:`billboard-page ${n?"is-fullscreen":""}`,children:[!e&&x.jsxs("header",{className:"billboard-header",children:[x.jsx("div",{className:"billboard-title-placeholder","aria-hidden":"true"}),x.jsxs("div",{className:"billboard-controls",children:[x.jsx("button",{onClick:u,children:"Refresh"}),x.jsx(d2e,{targetId:"billboard-root"})]})]}),x.jsx("div",{className:"billboard-center-ticker",children:x.jsx("div",{className:"billboard-center-ticker-inner",children:x.jsx(y2e,{})})}),x.jsx("div",{className:"billboard-week-compare-wrapper",style:{padding:"12px 16px"},children:x.jsx(S2e,{thisWeekTotalRevenue:i.thisWeekTotalRevenue,lastWeekTotalRevenue:i.lastWeekTotalRevenue,percentChange:i.percentChange,scheduledJobs:i.scheduledJobs,scheduledRevenue:i.scheduledRevenue})}),x.jsx(k2e,{})]})}const E2e=[{sheetName:"Laurel Hill Food Mart",storeId:"LAUREL_HILL",dashboardKey:"laurelHillGallons"},{sheetName:"Old Wire",storeId:"OLD_WIRE",dashboardKey:"oldWireGallons"},{sheetName:"Sam's",storeId:"SAMS",dashboardKey:"samsGallons"},{sheetName:"Springfield",storeId:"SPRINGFIELD",dashboardKey:"springfieldGallons"},{sheetName:"Corner Pantry",storeId:"CORNER",dashboardKey:"cornerPantryGallons"}];function T2e(t){return E2e.find(e=>e.sheetName===t)||null}function C2e(t){if(!t||!t["!ref"])return null;const e=An.decode_range(t["!ref"]),r=["w/e","week ending","week end","weekending","week_end"];for(let n=e.s.r;n<=e.e.r;n++)for(let a=e.s.c;a<=e.e.c;a++){const i=An.encode_cell({r:n,c:a}),s=t[i];if(!s||!s.v)continue;const o=String(s.v||"").toLowerCase();if(r.some(c=>o.includes(c))){for(let u=1;u<=4;u++){const f=t[An.encode_cell({r:n,c:a+u})];if(!f||!f.v)continue;const h=new Date(f.v);if(!isNaN(h.getTime()))return h.toISOString().slice(0,10);const d=new Date(String(f.v));if(!isNaN(d.getTime()))return d.toISOString().slice(0,10)}const c=new Date(s.v);if(!isNaN(c.getTime()))return c.toISOString().slice(0,10)}const l=o.match(/(\d{1,2}\/\d{1,2}\/\d{2,4})/);if(l){const c=new Date(l[1]);if(!isNaN(c.getTime()))return c.toISOString().slice(0,10)}}return null}function O2e(t){if(!t||!t["!ref"])return null;const e=An.decode_range(t["!ref"]),r=/total\s*gallons|total\s*gals|gallons\s*total|total\s*gal/i;for(let a=e.s.r;a<=e.e.r;a++)for(let i=e.s.c;i<=e.e.c;i++){const s=An.encode_cell({r:a,c:i}),o=t[s];if(!o||o.v==null)continue;const l=String(o.v||"");if(r.test(l)){for(let u=1;u<=4;u++){const f=t[An.encode_cell({r:a,c:i+u})];if(!f||f.v==null)continue;const h=xf(String(f.v));if(h!=null)return h}for(let u=1;u<=4;u++){const f=t[An.encode_cell({r:a,c:i-u})];if(!f||f.v==null)continue;const h=xf(String(f.v));if(h!=null)return h}const c=xf(l.replace(/[A-Za-z\$]/g,""));if(c!=null)return c}}for(let a=e.s.r;a<=e.e.r;a++)for(let i=e.s.c;i<=e.e.c;i++){const s=An.encode_cell({r:a,c:i}),o=t[s];if(!o||o.v==null)continue;if(String(o.v||"").toLowerCase().includes("total"))for(let c=1;c<=6;c++){const u=t[An.encode_cell({r:a,c:i+c})];if(!u||u.v==null)continue;const f=xf(String(u.v));if(f!=null)return f}}let n=null;for(let a=e.s.r;a<=e.e.r;a++)for(let i=e.s.c;i<=e.e.c;i++){const s=An.encode_cell({r:a,c:i}),o=t[s];if(!o||o.v==null)continue;const l=xf(String(o.v));l!=null&&(n==null||l>n)&&(n=l)}return n}function xf(t){if(t==null)return null;const e=String(t).replace(/[^0-9.\-]/g,"").trim();if(!e)return null;const r=Number(e);return Number.isFinite(r)?r:null}function P2e(t){return String(t||"").normalize("NFKD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"_").replace(/__+/g,"_").toUpperCase().slice(0,60)}async function I2e(t){const e=vd(t,{type:"array"}),r=[];for(const a of e.SheetNames){const i=String(a||"").toLowerCase();if(i.includes("fuel sales")||i.includes("summary")||i.includes("overview"))continue;const s=e.Sheets[a];if(!s)continue;const o=C2e(s),l=O2e(s);if(!o||l==null){console.warn("[C-Store] Skipping sheet (missing data):",a);continue}let c=T2e(a);if(!c){const u=P2e(a);console.warn('[C-Store] No mapping for sheet "%s". Using generated storeId: %s',a,u),c={sheetName:a,storeId:u,dashboardKey:u.toLowerCase()}}r.push({store_id:c.storeId,sheet_name:a,week_ending:o,total_gallons:l})}if(!r.length)return console.warn("[C-Store] No rows parsed from workbook."),{upserted:0};const{error:n}=await be.from("cstore_gallons").upsert(r,{onConflict:["store_id","week_ending"]});return n?(console.error("[C-Store] Failed to upsert gallons:",n),{error:n}):(console.info("[C-Store] Upserted",r.length,"rows."),{upserted:r.length})}function N2e(){const[t,e]=U.useState([]),[r,n]=U.useState(null),[a,i]=U.useState(null),[s,o]=U.useState(!1),[l,c]=U.useState(!0);U.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const{data:g,error:p}=await be.from("cstore_gallons").select("*").order("week_ending",{ascending:!1});if(p){console.error("Failed to load C-Stores data from Supabase:",p),i("Failed to load data: "+p.message);return}const m=(g||[]).map(v=>({id:`${v.store_id}-${v.week_ending}`,store:v.store_id,storeId:v.store_id,weekEnding:v.week_ending,gallons:Number(v.total_gallons)||0}));e(m)}catch(g){console.error("Failed to load C-Stores data:",g),i("Failed to load data: "+g.message)}finally{c(!1)}},f=async g=>{var m;const p=(m=g.target.files)==null?void 0:m[0];if(p){o(!0),i(null);try{const v=p.name.toLowerCase();if(!v.endsWith(".xlsx")&&!v.endsWith(".xls"))throw new Error("Please upload an Excel file (.xlsx or .xls)");const y=await p.arrayBuffer();await I2e(y),await u(),n(new Date().toISOString()),i(null)}catch(v){console.error("File upload error:",v),i(v.message||"Failed to process file")}finally{o(!1),g.target.value=""}}},h=ae.useMemo(()=>{if(t.length===0)return{totalGallons:0,storeCount:0,topStore:null};const g=t.reduce((S,w)=>S+w.gallons,0),m=new Set(t.map(S=>S.store)).size,v=new Map;t.forEach(S=>{v.set(S.store,(v.get(S.store)||0)+S.gallons)});let y=null,b=0;return v.forEach((S,w)=>{S>b&&(b=S,y={store:w,gallons:S})}),{totalGallons:g,storeCount:m,topStore:y}},[t]),d=ae.useMemo(()=>[...t].sort((g,p)=>{const m=new Date(g.weekEnding),v=new Date(p.weekEnding);return v.getTime()!==m.getTime()?v.getTime()-m.getTime():g.store.localeCompare(p.store)}),[t]);return x.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[x.jsx("h2",{style:{marginTop:0,marginBottom:24},children:"C-Stores (Gallons)"}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:24,marginBottom:24},children:[x.jsx("h3",{style:{marginTop:0,marginBottom:16,fontSize:18},children:"Upload Weekly Gallons Data"}),x.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:8,padding:16,marginBottom:16},children:[x.jsx("strong",{style:{display:"block",marginBottom:8},children:"Expected file format:"}),x.jsxs("ul",{style:{margin:0,paddingLeft:20,fontSize:14,color:"#6B7280"},children:[x.jsx("li",{children:"Excel file (.xlsx, .xls) - NEW STORE SPREADSHEET format"}),x.jsx("li",{children:'Each store has its own sheet (e.g., "Laurel Hill Food Mart", "Old Wire", etc.)'}),x.jsx("li",{children:'Each sheet contains a "Total Gallons" row with the numeric value'}),x.jsx("li",{children:'Each sheet has a "W/E Date" header with the week ending date'}),x.jsx("li",{children:"Data is automatically extracted and saved to database"})]})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[x.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:f,disabled:s||l,style:{padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:8,cursor:s||l?"not-allowed":"pointer",opacity:s||l?.6:1}}),s&&x.jsx("span",{style:{fontSize:14,color:"#6B7280"},children:"Processing..."}),l&&x.jsx("span",{style:{fontSize:14,color:"#6B7280"},children:"Loading data..."})]}),a&&x.jsxs("div",{style:{marginTop:12,background:"#FEE2E2",border:"1px solid #FECACA",color:"#991B1B",padding:12,borderRadius:8,fontSize:14},children:[x.jsx("strong",{children:"Error:"})," ",a]}),r&&!a&&x.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#6B7280"},children:["Last uploaded: ",new Date(r).toLocaleString()]})]}),t.length>0&&x.jsxs("div",{style:{marginBottom:24},children:[x.jsx("h3",{style:{marginTop:0,marginBottom:16,fontSize:18},children:"Summary"}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:16},children:[x.jsx("div",{style:{fontSize:12,color:"#6B7280",fontWeight:500},children:"Total Gallons"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,marginTop:6},children:h.totalGallons.toLocaleString()}),x.jsx("div",{style:{fontSize:12,color:"#6B7280",marginTop:4},children:"All stores combined"})]}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:16},children:[x.jsx("div",{style:{fontSize:12,color:"#6B7280",fontWeight:500},children:"Store Count"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,marginTop:6},children:h.storeCount}),x.jsx("div",{style:{fontSize:12,color:"#6B7280",marginTop:4},children:"Unique stores"})]}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:16},children:[x.jsx("div",{style:{fontSize:12,color:"#6B7280",fontWeight:500},children:"Top Store"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,marginTop:6},children:h.topStore?h.topStore.store:"N/A"}),x.jsx("div",{style:{fontSize:12,color:"#6B7280",marginTop:4},children:h.topStore?`${h.topStore.gallons.toLocaleString()} gal`:"No data"})]})]})]}),t.length>0&&x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:24},children:[x.jsxs("h3",{style:{marginTop:0,marginBottom:16,fontSize:18},children:["Data (",d.length," rows)"]}),x.jsx("div",{style:{overflow:"auto",border:"1px solid #E5E7EB",borderRadius:12},children:x.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{background:"#F3F4F6"},children:[x.jsx("th",{style:{textAlign:"left",padding:"10px 12px",fontSize:12,color:"#6B7280",borderBottom:"1px solid #E5E7EB"},children:"Store"}),x.jsx("th",{style:{textAlign:"left",padding:"10px 12px",fontSize:12,color:"#6B7280",borderBottom:"1px solid #E5E7EB"},children:"Store ID"}),x.jsx("th",{style:{textAlign:"left",padding:"10px 12px",fontSize:12,color:"#6B7280",borderBottom:"1px solid #E5E7EB"},children:"Week Ending"}),x.jsx("th",{style:{textAlign:"right",padding:"10px 12px",fontSize:12,color:"#6B7280",borderBottom:"1px solid #E5E7EB"},children:"Gallons"})]})}),x.jsx("tbody",{children:d.map((g,p)=>x.jsxs("tr",{style:{background:p%2?"#FAFAFA":"white"},children:[x.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #F3F4F6",fontSize:13},children:g.store}),x.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #F3F4F6",fontSize:13,color:"#6B7280"},children:g.storeId||""}),x.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #F3F4F6",fontSize:13},children:g.weekEnding}),x.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #F3F4F6",fontSize:13,textAlign:"right",fontWeight:500},children:g.gallons.toLocaleString()})]},g.id))})]})})]}),t.length===0&&!a&&x.jsxs("div",{style:{background:"white",border:"1px dashed #E5E7EB",borderRadius:12,padding:48,textAlign:"center"},children:[x.jsx("div",{style:{fontSize:16,color:"#6B7280",marginBottom:8},children:"No data uploaded yet"}),x.jsx("div",{style:{fontSize:14,color:"#9CA3AF"},children:"Upload a weekly gallons file to get started"})]})]})}function F2e({startDate:t,endDate:e,onStartDateChange:r,onEndDateChange:n,compareMode:a,onCompareModeChange:i,compareStart:s,compareEnd:o,onCompareStartChange:l,onCompareEndChange:c}){return x.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Time Range"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Start Date"}),x.jsx("input",{type:"date",value:t,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"End Date"}),x.jsx("input",{type:"date",value:e,onChange:u=>n(u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Compare To"}),x.jsxs("select",{value:a,onChange:u=>i(u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"none",children:"No Comparison"}),x.jsx("option",{value:"previous",children:"Previous Period"}),x.jsx("option",{value:"custom",children:"Custom Period"})]})]}),a==="custom"&&x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Compare Start"}),x.jsx("input",{type:"date",value:s,onChange:u=>l(u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Compare End"}),x.jsx("input",{type:"date",value:o,onChange:u=>c(u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}const j2e=[{value:"job_count",label:"Job Count"},{value:"revenue",label:"Revenue"}],M2e=[{value:"ticket_count",label:"Ticket Count"},{value:"total_gallons",label:"Total Gallons"},{value:"revenue",label:"Revenue"}];function D2e({source:t,metric:e,granularity:r,onSourceChange:n,onMetricChange:a,onGranularityChange:i}){const s=t==="service"?j2e:M2e;return x.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Metrics"}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Data Source"}),x.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"service",children:"Service Jobs"}),x.jsx("option",{value:"delivery",children:"Delivery Tickets"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Metric"}),x.jsx("select",{value:e,onChange:o=>a(o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:s.map(o=>x.jsx("option",{value:o.value,children:o.label},o.value))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Granularity"}),x.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"day",children:"Daily"}),x.jsx("option",{value:"week",children:"Weekly"}),x.jsx("option",{value:"month",children:"Monthly"})]})]})]})]})}function lI(t,e){const r=new Date(t);return e==="day"?r.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e==="week"?r.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e==="month"?r.toLocaleDateString("en-US",{year:"numeric",month:"short"}):t}function R2e(t,e){return e.includes("revenue")||e.includes("amount")?`$${parseFloat(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:e.includes("gallons")?`${parseFloat(t).toLocaleString(void 0,{maximumFractionDigits:1})} gal`:parseFloat(t).toLocaleString()}function L2e(){const t=new Date,e=new Date;return e.setDate(e.getDate()-30),{start:e.toISOString().split("T")[0],end:t.toISOString().split("T")[0]}}function B2e(){var N,z,W,F,L,H;const t=L2e(),[e,r]=U.useState("service"),[n,a]=U.useState("revenue"),[i,s]=U.useState("day"),[o,l]=U.useState(t.start),[c,u]=U.useState(t.end),[f,h]=U.useState("none"),[d,g]=U.useState(""),[p,m]=U.useState(""),[v,y]=U.useState([]),[b,S]=U.useState(!1),[w,_]=U.useState(null),[k,A]=U.useState(null),[E,C]=U.useState(null);U.useEffect(()=>{(e==="service"||e==="delivery")&&a("revenue")},[e]),U.useEffect(()=>{T()},[e,n,i,o,c,f,d,p]);async function T(){S(!0),_(null);try{const I=new Date(o),X=new Date(c),K={source:e,start:I,end:X,granularity:i};f==="previous"?K.compare="previous":f==="custom"&&d&&p&&(K.compare="custom",K.compareStart=new Date(d),K.compareEnd=new Date(p));const P=await Ik(K);if(A(P.debug||null),C(P.totals||null),P.error){_(P.error),y([]),S(!1);return}const B={day:"day",week:"week_start",month:"month_start"}[i],G=(P.primary||[]).map(te=>({date:lI(te[B],i),value:parseFloat(te[n])||0}));if(P.comparison&&P.comparison.length>0){const te={};P.comparison.forEach(oe=>{const le=lI(oe[B],i);te[le]=parseFloat(oe[n])||0}),G.forEach((oe,le)=>{P.comparison[le]&&(oe.comparison=parseFloat(P.comparison[le][n])||0)})}y(G),S(!1)}catch(I){console.error("[GraphsPage] Error fetching data:",I),_(I.message||"Failed to fetch data"),y([]),S(!1)}}function O(){const I={job_count:"Job Count",ticket_count:"Ticket Count",total_gallons:"Total Gallons",revenue:"Revenue"},X={service:"Service Jobs",delivery:"Delivery Tickets"},K={day:"Daily",week:"Weekly",month:"Monthly"};return`${X[e]} - ${I[n]} (${K[i]})`}return x.jsxs("div",{className:"p-4",children:[x.jsx("div",{className:"panel-header mb-4",children:x.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Metrics Graphs"})}),x.jsx(D2e,{source:e,metric:n,granularity:i,onSourceChange:r,onMetricChange:a,onGranularityChange:s}),x.jsx(F2e,{startDate:o,endDate:c,onStartDateChange:l,onEndDateChange:u,compareMode:f,onCompareModeChange:h,compareStart:d,compareEnd:p,onCompareStartChange:g,onCompareEndChange:m}),((N=k==null?void 0:k.primary)==null?void 0:N.usedFallback)&&x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:x.jsxs("div",{className:"flex items-start",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 [...]"})})}),x.jsxs("div",{className:"ml-3 flex-1",children:[x.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Using fallback aggregation from base tables"}),x.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[x.jsxs("p",{children:["The database view ",x.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:k.primary.viewName})," was not found. Data is being aggregated from the base tables in real-time, which may be slower."]}),x.jsxs("p",{className:"mt-2",children:[x.jsx("strong",{children:"To improve performance:"})," Run ",x.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"migrations/001_create_metrics_views.sql"})," in your Supabase SQL Editor."]}),(E==null?void 0:E.primary)&&x.jsxs("div",{className:"mt-3 p-3 bg-yellow-100 rounded border border-yellow-300",children:[x.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Aggregated Totals:"}),x.jsxs("ul",{className:"text-xs space-y-1",children:[x.jsxs("li",{children:[" Records: ",E.primary.recordCount]}),e==="service"&&x.jsxs(x.Fragment,{children:[x.jsxs("li",{children:[" Total Jobs: ",(z=E.primary.totalJobs)==null?void 0:z.toLocaleString()]}),x.jsxs("li",{children:[" Total Revenue: $",(W=E.primary.totalRevenue)==null?void 0:W.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e==="delivery"&&x.jsxs(x.Fragment,{children:[x.jsxs("li",{children:[" Total Tickets: ",(F=E.primary.totalTickets)==null?void 0:F.toLocaleString()]}),x.jsxs("li",{children:[" Total Gallons: ",(L=E.primary.totalGallons)==null?void 0:L.toLocaleString(void 0,{maximumFractionDigits:1})]}),x.jsxs("li",{children:[" Total Revenue: $",(H=E.primary.totalRevenue)==null?void 0:H.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})]})]})}),!b&&!w&&v.length>0&&(()=>{const I=v.some(K=>K.value<0),X=v.some(K=>(n.includes("revenue")||n.includes("amount"))&&K.value>1e6);return I||X?x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:x.jsxs("div",{className:"flex items-start",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),x.jsxs("div",{className:"ml-3 flex-1",children:[x.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Data Quality Notice"}),x.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[I&&x.jsx("p",{children:" Some data points show negative revenue values. Please verify the data in the base tables."}),X&&x.jsx("p",{children:" Some values appear unusually high. Please verify the data for accuracy."})]})]})]})}):null})(),x.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 mb-4",children:O()}),b&&x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-slate-500",children:"Loading data..."})}),w&&x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-red-500",children:["Error: ",w]})}),!b&&!w&&v.length===0&&x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-slate-500",children:"No data available for the selected period"})}),!b&&!w&&v.length>0&&x.jsx(cg,{width:"100%",height:400,children:x.jsxs(qg,{data:v,children:[x.jsx(Hg,{strokeDasharray:"3 3"}),x.jsx(au,{dataKey:"date",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),x.jsx(su,{tick:{fontSize:12},tickFormatter:I=>n.includes("revenue")||n.includes("amount")?`$${(I/1e3).toFixed(0)}k`:I.toLocaleString()}),x.jsx(Kn,{formatter:I=>R2e(I,n),contentStyle:{fontSize:12}}),x.jsx(Vi,{}),x.jsx(ss,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,name:"Current Period",dot:{r:4}}),v.some(I=>I.comparison!==void 0)&&x.jsx(ss,{type:"monotone",dataKey:"comparison",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",name:"Comparison Period",dot:{r:4}})]})})]})]})}function qk(t){return typeof t!="number"?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function Y3(t){if(!t)return"";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return t}}function V3({status:t}){const r={pending:"bg-yellow-100 text-yellow-800",needs_review:"bg-orange-100 text-orange-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800";return x.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${r}`,children:t==null?void 0:t.replace("_"," ").toUpperCase()})}function $2e({row:t,index:e,onUpdate:r,included:n,onIncludeChange:a,importType:i}){const[s,o]=U.useState(!1),[l,c]=U.useState(t),[u,f]=U.useState(!1),h=()=>{r(e,l),o(!1)},d=()=>{c(t),o(!1)},g=i==="delivery";return s?x.jsxs("tr",{className:"bg-blue-50",children:[x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"checkbox",checked:n,onChange:p=>a(e,p.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),g?x.jsxs(x.Fragment,{children:[x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"text",value:l.customerName||l.customer||"",onChange:p=>c({...l,customerName:p.target.value,customer:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Customer"})}),x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"text",value:l.truck||l.driver||"",onChange:p=>c({...l,truck:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Truck/Driver"})}),x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"number",step:"0.01",value:l.qty||l.gallons||"",onChange:p=>{const m=parseFloat(p.target.value)||0;c({...l,qty:m})},className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Qty/Gallons"})})]}):x.jsxs(x.Fragment,{children:[x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"text",value:l.jobNumber||"",onChange:p=>c({...l,jobNumber:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Job #"})}),x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"text",value:l.customer||"",onChange:p=>c({...l,customer:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Customer"})})]}),x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"text",value:l.date||"",onChange:p=>c({...l,date:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Date"})}),x.jsx("td",{className:"px-4 py-2",children:x.jsxs("select",{value:l.status||"",onChange:p=>c({...l,status:p.target.value}),className:"w-full px-2 py-1 text-sm border rounded",children:[x.jsx("option",{value:"",children:"-"}),x.jsx("option",{value:"scheduled",children:"Scheduled"}),x.jsx("option",{value:"assigned",children:"Assigned"}),x.jsx("option",{value:"confirmed",children:"Confirmed"}),x.jsx("option",{value:"completed",children:"Completed"})]})}),x.jsx("td",{className:"px-4 py-2",children:x.jsx("input",{type:"number",step:"0.01",value:l.amount||"",onChange:p=>c({...l,amount:parseFloat(p.target.value)||0}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"Amount"})}),x.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:l.page}),x.jsx("td",{className:"px-4 py-2 text-sm",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:h,className:"text-green-600 hover:text-green-800 font-medium text-xs",children:"Save"}),x.jsx("button",{onClick:d,className:"text-gray-600 hover:text-gray-800 font-medium text-xs",children:"Cancel"})]})})]}):x.jsxs(x.Fragment,{children:[x.jsxs("tr",{className:n?"hover:bg-gray-50":"bg-gray-100 text-gray-400 hover:bg-gray-100",children:[x.jsx("td",{className:"px-4 py-2 text-sm",children:x.jsx("input",{type:"checkbox",checked:n,onChange:p=>a(e,p.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),g?x.jsxs(x.Fragment,{children:[x.jsx("td",{className:"px-4 py-2 text-sm",children:t.customerName||t.customer||"-"}),x.jsx("td",{className:"px-4 py-2 text-sm",children:t.truck||t.driver||"-"}),x.jsx("td",{className:"px-4 py-2 text-sm",children:t.qty||t.gallons||"-"})]}):x.jsxs(x.Fragment,{children:[x.jsx("td",{className:"px-4 py-2 text-sm",children:t.jobNumber||"-"}),x.jsx("td",{className:"px-4 py-2 text-sm",children:t.customer||"-"})]}),x.jsx("td",{className:"px-4 py-2 text-sm",children:t.date||"-"}),x.jsx("td",{className:"px-4 py-2 text-sm",children:t.status||"-"}),x.jsx("td",{className:"px-4 py-2 text-sm",children:qk(t.amount)}),x.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:t.page}),x.jsx("td",{className:"px-4 py-2 text-sm",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>o(!0),className:"text-blue-600 hover:text-blue-800 font-medium text-xs",children:"Edit"}),t.rawColumns&&x.jsx("button",{onClick:()=>f(!u),className:"text-gray-600 hover:text-gray-800 font-medium text-xs",children:u?"Hide":"Raw"})]})})]}),u&&t.rawColumns&&x.jsx("tr",{className:"bg-gray-50",children:x.jsxs("td",{colSpan:g?9:8,className:"px-4 py-2 text-xs text-gray-600",children:[x.jsx("div",{className:"font-medium mb-1",children:"Raw Columns:"}),x.jsx("div",{className:"font-mono",children:JSON.stringify(t.rawColumns)})]})})]})}function z2e({importRecord:t,onClose:e,onStatusChange:r}){var z,W,F,L,H,I;const[n,a]=U.useState([]),[i,s]=U.useState([]),[o,l]=U.useState([]),[c,u]=U.useState([]),[f,h]=U.useState(""),[d,g]=U.useState({}),[p,m]=U.useState(null),[v,y]=U.useState(!1);U.useEffect(()=>{var X;if(t){const K=t.parsed||{},P=K.rows||[];a(P),s(P.map(()=>!0)),g(K.summary||{}),h(t.ocr_text||""),m(((X=t.meta)==null?void 0:X.detection)||null),S()}},[t]);const b=()=>{const X={jobNumber:"",customer:"",date:"",status:"",amount:"",gallons:"",page:1,y:0};a(K=>[...K,X]),s(K=>[...K,!0])},S=async()=>{try{const X=Array.isArray(t==null?void 0:t.attached_files)?t.attached_files:[],K=X.filter(B=>B&&typeof B.path=="string"&&B.path.trim()!=="");if(K.length===0){console.warn("[ImportsReview] No valid attached_files for import",t==null?void 0:t.id),l([]),u(X.length>0?["Invalid file entries found"]:[]);return}const P=[],Y=[];for(const B of K)try{const te=B.path.replace(/^public\//,""),{data:oe,error:le}=await be.storage.from("ticket-scans").createSignedUrl(te,3600);if(le){console.error("[ImportsReview] Error loading image:",B.filename||te,le),Y.push(B.filename||te);continue}oe!=null&&oe.signedUrl?P.push({url:oe.signedUrl,filename:B.filename||B.name||te}):(console.warn("[ImportsReview] No signed URL for image:",B.filename||te),Y.push(B.filename||te))}catch(G){console.error("[ImportsReview] Error handling file",B,G),Y.push(B.filename||B.path||"unknown")}Y.length>0&&console.warn("[ImportsReview] Failed to load images:",Y.join(", ")),l(P),u(Y)}catch(X){console.error("[ImportsReview] Failed to load images",X),l([]),u(["Failed to load images. Check console logs for details."])}},w=(X,K)=>{const P=[...n];P[X]=K,a(P)},_=(X,K)=>{const P=[...i];P[X]=K,s(P)},k=()=>i.filter(Boolean).length,A=async()=>{y(!0);try{const X={...t.parsed,rows:n,summary:T(n)},{error:K}=await be.from("ticket_imports").update({parsed:X}).eq("id",t.id);if(K)throw K;alert("Draft saved successfully"),r()}catch(X){console.error("[ImportsReview] Error saving draft:",X),alert("Failed to save draft: "+X.message)}finally{y(!1)}},E=async()=>{const X=k();if(X===0){alert("No rows selected. Please select at least one row to import.");return}if(confirm(`Accept this import and create ${X} ticket(s)/job(s)?`)){y(!0);try{const K=n.filter((oe,le)=>i[le]),P={...t.parsed,rows:K,summary:T(K)},{error:Y}=await be.from("ticket_imports").update({parsed:P}).eq("id",t.id);if(Y)throw new Error(`Failed to update import with selected rows: ${Y.message}`);const B=await fetch("/.netlify/functions/imports-accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({importId:t.id})});if(!B.ok){const oe=await B.json();throw new Error(oe.message||"Failed to accept import")}const G=await B.json();if(!G.success)throw new Error(G.message||"Failed to accept import");let te=`Import accepted successfully!

Created: ${G.inserted||0} record(s)`;G.failed>0&&(te+=`
Failed: ${G.failed} record(s)`,G.failedRows&&G.failedRows.length>0&&(te+=`

Failed rows:`,G.failedRows.slice(0,3).forEach(oe=>{te+=`
  Row ${oe.index+1}: ${oe.reason}`}),G.failedRows.length>3&&(te+=`
  ... and ${G.failedRows.length-3} more`))),alert(te),r(),e()}catch(K){console.error("[ImportsReview] Error accepting import:",K),alert("Failed to accept import: "+K.message)}finally{y(!1)}}},C=async()=>{if(confirm("Reject this import?")){y(!0);try{const{error:X}=await be.from("ticket_imports").update({status:"rejected"}).eq("id",t.id);if(X)throw X;alert("Import rejected"),r(),e()}catch(X){console.error("[ImportsReview] Error rejecting import:",X),alert("Failed to reject import: "+X.message)}finally{y(!1)}}},T=X=>{let K=0,P=0,Y=0;return X.forEach(B=>{const G=(B.status||"").toLowerCase(),te=B.amount||0;(G.includes("scheduled")||G.includes("assigned")||G.includes("confirmed"))&&(K++,P+=te),Y+=te}),{totalRows:X.length,scheduledJobs:K,scheduledRevenue:P,salesTotal:Y}};if(!t)return null;const O=!n||n.length===0,N=typeof((z=t==null?void 0:t.parsed)==null?void 0:z.confidence)=="number"?t.parsed.confidence===0:!((W=t==null?void 0:t.parsed)!=null&&W.confidence);return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full m-4 max-h-[90vh] overflow-auto",children:[x.jsxs("div",{className:"border-b p-6 sticky top-0 bg-white z-10",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold",children:["Import #",t.id]}),x.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-600",children:[x.jsxs("span",{children:["Source: ",t.src]}),x.jsxs("span",{children:["Created: ",Y3(t.created_at)]}),x.jsx(V3,{status:t.status})]}),p&&x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${p.type==="delivery"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:(F=p.type)==null?void 0:F.toUpperCase()}),x.jsxs("span",{className:"text-xs text-gray-600",children:["Confidence: ",((p.confidence||0)*100).toFixed(0),"%"]}),x.jsxs("span",{className:"text-xs text-gray-600",children:["(",((L=p.hits)==null?void 0:L.length)||0," tokens matched)"]}),p.hits&&p.hits.length>0&&x.jsxs("span",{className:"text-xs text-gray-500",children:["[",p.hits.join(", "),"]"]})]})]}),x.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),x.jsxs("div",{className:"grid grid-cols-5 gap-4 mt-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Total Rows"}),x.jsx("div",{className:"text-xl font-bold",children:d.totalRows||0})]}),x.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Selected to Import"}),x.jsx("div",{className:"text-xl font-bold text-blue-600",children:k()})]}),x.jsxs("div",{className:"bg-green-50 rounded p-3",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Scheduled Jobs"}),x.jsx("div",{className:"text-xl font-bold",children:d.scheduledJobs||0})]}),x.jsxs("div",{className:"bg-green-50 rounded p-3",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Scheduled Revenue"}),x.jsx("div",{className:"text-xl font-bold",children:qk(d.scheduledRevenue||0)})]}),x.jsxs("div",{className:"bg-purple-50 rounded p-3",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"OCR Confidence"}),x.jsxs("div",{className:"text-xl font-bold",children:[((t.confidence||0)*100).toFixed(1),"%"]})]})]})]}),x.jsxs("div",{className:"p-6",children:[c.length>0&&x.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[c.length," image(s) failed to load"]}),x.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Files: ",c.join(", ")]}),x.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"This may be due to expired storage URLs or missing files. Contact your administrator if this persists."})]})]})}),o.length>0&&x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"text-lg font-bold mb-3",children:"Scanned Images"}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map((X,K)=>x.jsxs("div",{className:"border rounded overflow-hidden",children:[x.jsx("img",{src:X.url,alt:X.filename,className:"w-full h-auto"}),x.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm text-gray-600",children:X.filename})]},K))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsxs("h3",{className:"text-lg font-bold",children:["Parsed Data",x.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(Type: ",((H=t.meta)==null?void 0:H.importType)||"service",")"]})]}),x.jsx("button",{type:"button",onClick:b,className:"px-3 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700",children:"Add Row"})]}),O&&x.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4 mb-4",children:x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"No rows were parsed from this file. This usually means OCR couldn't read the scan or isn't fully configured. You can type rows manually below, or re-upload a clearer scan."}),N&&x.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Ask your admin to check GOOGLE_VISION_API_KEY on the server if this happens often."})]})]})}),x.jsx("div",{className:"border rounded overflow-hidden",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:x.jsx("input",{type:"checkbox",checked:i.length>0&&i.every(Boolean),ref:X=>{if(X){const K=i.some(Boolean),P=i.every(Boolean);X.indeterminate=K&&!P}},onChange:X=>s(n.map(()=>X.target.checked)),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500",title:"Select/Deselect All"})}),((I=t.meta)==null?void 0:I.importType)==="delivery"?x.jsxs(x.Fragment,{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Truck/Driver"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qty"})]}):x.jsxs(x.Fragment,{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Job #"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"})]}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Page"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y",children:n.map((X,K)=>{var P;return x.jsx($2e,{row:X,index:K,onUpdate:w,included:i[K],onIncludeChange:_,importType:((P=t.meta)==null?void 0:P.importType)||"service"},K)})})]})})]}),x.jsxs("details",{className:"mb-6",children:[x.jsx("summary",{className:"text-lg font-bold mb-3 cursor-pointer",children:"Raw OCR Text"}),x.jsx("pre",{className:"bg-gray-50 p-4 rounded text-xs overflow-auto max-h-64",children:f})]})]}),x.jsxs("div",{className:"border-t p-6 bg-gray-50 sticky bottom-0 flex gap-4 justify-end",children:[x.jsx("button",{onClick:C,disabled:v,className:"px-6 py-2 border border-red-500 text-red-600 rounded hover:bg-red-50 disabled:opacity-50",children:"Reject"}),x.jsx("button",{onClick:A,disabled:v,className:"px-6 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50",children:"Save Draft"}),x.jsx("button",{onClick:E,disabled:v,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:"Accept & Create Tickets"})]})]})})}function W2e(){const[t,e]=U.useState([]),[r,n]=U.useState(!0),[a,i]=U.useState(null),[s,o]=U.useState("needs_review"),[l,c]=U.useState(null);U.useEffect(()=>{u();const g=sessionStorage.getItem("highlightImportId");g&&(c(parseInt(g,10)),sessionStorage.removeItem("highlightImportId"))},[s]),U.useEffect(()=>{if(l&&t.length>0&&!r){const g=t.find(p=>p.id===l);g&&(i(g),c(null))}},[t,l,r]);const u=async()=>{n(!0);try{let g=be.from("ticket_imports").select("*").order("created_at",{ascending:!1});s!=="all"&&(g=g.eq("status",s));const{data:p,error:m}=await g;if(m)throw m;e(p||[])}catch(g){console.error("[ImportsReview] Error loading imports:",g)}finally{n(!1)}},f=g=>{i(g)},h=()=>{i(null)},d=()=>{u()};return x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Ticket Imports Review"}),x.jsx("p",{className:"text-gray-600",children:"Review and approve scanned ticket imports"})]}),x.jsx("div",{className:"mb-6 flex gap-2",children:["all","pending","needs_review","accepted","rejected"].map(g=>x.jsx("button",{onClick:()=>o(g),className:`px-4 py-2 rounded font-medium ${s===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.replace("_"," ").toUpperCase()},g))}),r?x.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):t.length===0?x.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No imports found with status: ",s]}):x.jsx("div",{className:"grid gap-4",children:t.map(g=>{var p;return x.jsx("div",{onClick:()=>f(g),className:`border rounded-lg p-4 hover:shadow-lg cursor-pointer transition-shadow ${l===g.id?"border-green-500 border-2 bg-green-50":""}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"font-bold text-lg",children:["Import #",g.id]}),x.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[x.jsxs("span",{children:["Source: ",g.src]}),g.src_email&&x.jsxs("span",{className:"ml-4",children:["From: ",g.src_email]}),x.jsxs("span",{className:"ml-4",children:["Created: ",Y3(g.created_at)]})]}),((p=g.parsed)==null?void 0:p.summary)&&x.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[g.parsed.summary.totalRows," rows,"," ",g.parsed.summary.scheduledJobs," scheduled jobs,"," ",qk(g.parsed.summary.scheduledRevenue)," scheduled revenue"]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[g.confidence&&x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Confidence"}),x.jsxs("div",{className:"font-bold",children:[(g.confidence*100).toFixed(1),"%"]})]}),x.jsx(V3,{status:g.status})]})]})},g.id)})}),a&&x.jsx(z2e,{importRecord:a,onClose:h,onStatusChange:d})]})}const cI=[{value:"profit_loss",label:"Profit and Loss"},{value:"profit_loss_by_class",label:"Profit and Loss by Class"},{value:"profit_loss_by_location",label:"Profit and Loss by Location"},{value:"balance_sheet",label:"Balance Sheet"},{value:"cash_flow_statement",label:"Statement of Cash Flows"},{value:"ar_aging_summary",label:"AR Aging Summary"},{value:"ap_aging_summary",label:"AP Aging Summary"},{value:"sales_by_product",label:"Sales by Product/Service"},{value:"expenses_by_vendor",label:"Expenses by Vendor"},{value:"payroll_summary",label:"Payroll Summary"}];function U2e(){const[t,e]=U.useState(!1),[r,n]=U.useState([]),[a,i]=U.useState(!0),[s,o]=U.useState(""),[l,c]=U.useState(""),u=U.useRef(null);U.useEffect(()=>{f()},[]);async function f(){try{const{data:g,error:p}=await be.from("financial_imports").select("*").order("created_at",{ascending:!1}).limit(50);if(p)throw p;n(g||[])}catch(g){console.error("Error fetching imports:",g)}finally{i(!1)}}async function h(g){const p=g.target.files;if(!(!p||p.length===0)){e(!0);try{const m=p[0],v=await new Promise((S,w)=>{const _=new FileReader;_.onload=()=>{const k=_.result.split(",")[1];S(k)},_.onerror=w,_.readAsDataURL(m)}),y=await fetch("/.netlify/functions/financial-upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({files:[{filename:m.name,mimeType:m.type,data:v}],reportType:s||void 0,period:l||void 0})});if(!y.ok){const S=await y.json();throw new Error(S.message||"Upload failed")}const b=await y.json();alert(` Successfully uploaded ${b.type} for period ${b.period}`),f(),u.current&&(u.current.value=""),o(""),c("")}catch(m){console.error("Upload error:",m),alert(` Upload failed: ${m.message}`)}finally{e(!1)}}}function d(g){const p=cI.find(m=>m.value===g);return p?p.label:g}return x.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[x.jsx("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:" Financial Uploads"}),x.jsx("p",{style:{color:"#6B7280",marginBottom:24},children:"Upload QuickBooks reports (Excel/CSV) for automated financial KPI tracking"}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:24,marginBottom:24},children:[x.jsx("h2",{style:{fontSize:18,fontWeight:600,marginBottom:16},children:"Upload New Report"}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",fontSize:14,fontWeight:500,marginBottom:8},children:"Report Type (optional - will auto-detect)"}),x.jsxs("select",{value:s,onChange:g=>o(g.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB"},children:[x.jsx("option",{value:"",children:"Auto-detect"}),cI.map(g=>x.jsx("option",{value:g.value,children:g.label},g.value))]})]}),x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",fontSize:14,fontWeight:500,marginBottom:8},children:"Period (optional - will auto-extract)"}),x.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"YYYY-MM or YYYY-Q1",style:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB"}})]})]}),x.jsxs("div",{style:{marginBottom:16},children:[x.jsx("button",{onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:t,style:{padding:"10px 16px",borderRadius:8,border:"1px solid #3B82F6",background:t?"#9CA3AF":"#3B82F6",color:"white",cursor:t?"not-allowed":"pointer",fontWeight:500},children:t?" Uploading...":" Choose File"}),x.jsx("input",{ref:u,type:"file",accept:".xlsx,.xls,.csv",onChange:h,style:{display:"none"}}),x.jsx("span",{style:{marginLeft:12,fontSize:14,color:"#6B7280"},children:"Accepts Excel (.xlsx, .xls) and CSV files"})]}),x.jsxs("div",{style:{fontSize:13,color:"#6B7280",padding:12,background:"#F9FAFB",borderRadius:8},children:[x.jsx("strong",{children:"Tip:"}),' Export reports from QuickBooks using the "Export" button. The parser will automatically detect the report type and period from the file content.']})]}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:24},children:[x.jsx("h2",{style:{fontSize:18,fontWeight:600,marginBottom:16},children:"Upload History"}),a?x.jsx("div",{style:{textAlign:"center",padding:40,color:"#6B7280"},children:"Loading..."}):r.length===0?x.jsx("div",{style:{textAlign:"center",padding:40,color:"#6B7280"},children:"No uploads yet. Upload your first QuickBooks report to get started."}):x.jsx("div",{style:{overflowX:"auto"},children:x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[x.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:600},children:"Period"}),x.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:600},children:"Report Type"}),x.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:600},children:"File"}),x.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:600},children:"Uploaded"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"Rows"})]})}),x.jsx("tbody",{children:r.map((g,p)=>{var m,v;return x.jsxs("tr",{style:{borderBottom:p<r.length-1?"1px solid #F3F4F6":"none"},children:[x.jsx("td",{style:{padding:"12px 8px"},children:x.jsx("span",{style:{fontWeight:500},children:g.period})}),x.jsx("td",{style:{padding:"12px 8px"},children:d(g.type)}),x.jsx("td",{style:{padding:"12px 8px",fontSize:13,color:"#6B7280"},children:((m=g.file_metadata)==null?void 0:m.filename)||"N/A"}),x.jsx("td",{style:{padding:"12px 8px",fontSize:13,color:"#6B7280"},children:new Date(g.created_at).toLocaleDateString()}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right",fontSize:13},children:((v=g.parsed)==null?void 0:v.length)||0})]},g.id)})})]})})]})]})}function H2e(){const[t,e]=U.useState(!0),[r,n]=U.useState({revenue:{totalIncome:0,grossProfit:0,grossMarginPct:0,netIncome:0},cash:{balance:0,operatingCashFlow:0},ar:{total:0,over60Pct:0},ap:{total:0},payroll:{total:0,asPercentOfRevenue:0},segments:{}}),[a,i]=U.useState("latest"),[s,o]=U.useState([]);U.useEffect(()=>{l()},[a]);async function l(){try{e(!0);const f=be.from("financial_imports").select("*").order("created_at",{ascending:!1});a!=="latest"&&f.eq("period",a);const{data:h,error:d}=await f;if(d)throw d;const g=[...new Set(h.map(m=>m.period))].filter(Boolean);o(g);const p=c(h);n(p)}catch(f){console.error("Error fetching metrics:",f)}finally{e(!1)}}function c(f){var v;const h={revenue:{totalIncome:0,grossProfit:0,grossMarginPct:0,netIncome:0},cash:{balance:0,operatingCashFlow:0},ar:{total:0,over60Pct:0},ap:{total:0},payroll:{total:0,asPercentOfRevenue:0},segments:{}},d=f.find(y=>y.type==="profit_loss");d!=null&&d.summary&&(h.revenue.totalIncome=d.summary.totalIncome||0,h.revenue.grossProfit=d.summary.grossProfit||0,h.revenue.grossMarginPct=d.summary.grossMarginPct||0,h.revenue.netIncome=d.summary.netIncome||0);const g=f.find(y=>y.type==="profit_loss_by_class");(v=g==null?void 0:g.summary)!=null&&v.byClass&&(h.segments=g.summary.byClass);const p=f.find(y=>y.type==="balance_sheet");p!=null&&p.summary&&(h.cash.balance=p.summary.cash||0,h.ar.total=p.summary.accountsReceivable||0,h.ap.total=p.summary.accountsPayable||0);const m=f.find(y=>y.type==="ar_aging_summary");return m!=null&&m.summary&&(h.ar.total=m.summary.total||h.ar.total,h.ar.over60Pct=m.summary.over60Pct||0),h}function u({title:f,value:h,subtitle:d,color:g="#3B82F6"}){return x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:20},children:[x.jsx("div",{style:{fontSize:14,color:"#6B7280",marginBottom:8},children:f}),x.jsx("div",{style:{fontSize:32,fontWeight:700,color:g,marginBottom:4},children:typeof h=="number"?h>=1e3?`$${(h/1e3).toFixed(1)}k`:`$${h.toFixed(0)}`:h}),d&&x.jsx("div",{style:{fontSize:13,color:"#6B7280"},children:d})]})}return t?x.jsx("div",{style:{padding:24,textAlign:"center"},children:x.jsx("div",{style:{fontSize:18,marginBottom:8},children:"Loading financial metrics..."})}):x.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[x.jsxs("div",{children:[x.jsx("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:" Financial KPIs"}),x.jsx("p",{style:{color:"#6B7280"},children:"Key financial metrics from QuickBooks reports"})]}),x.jsxs("div",{children:[x.jsx("label",{style:{fontSize:14,fontWeight:500,marginRight:8},children:"Period:"}),x.jsxs("select",{value:a,onChange:f=>i(f.target.value),style:{padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB"},children:[x.jsx("option",{value:"latest",children:"Latest"}),s.map(f=>x.jsx("option",{value:f,children:f},f))]})]})]}),x.jsxs("div",{style:{marginBottom:24},children:[x.jsx("h2",{style:{fontSize:20,fontWeight:600,marginBottom:16},children:"Revenue & Profit"}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[x.jsx(u,{title:"Total Revenue",value:r.revenue.totalIncome,color:"#10B981"}),x.jsx(u,{title:"Gross Profit",value:r.revenue.grossProfit,subtitle:`${r.revenue.grossMarginPct.toFixed(1)}% margin`,color:"#3B82F6"}),x.jsx(u,{title:"Net Income",value:r.revenue.netIncome,color:r.revenue.netIncome>=0?"#10B981":"#EF4444"})]})]}),Object.keys(r.segments).length>0&&x.jsxs("div",{style:{marginBottom:24},children:[x.jsx("h2",{style:{fontSize:20,fontWeight:600,marginBottom:16},children:"Segment Profitability"}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:Object.entries(r.segments).map(([f,h])=>x.jsx(u,{title:f,value:h.revenue||0,subtitle:`${(h.marginPct||0).toFixed(1)}% margin`,color:"#8B5CF6"},f))})]}),x.jsxs("div",{style:{marginBottom:24},children:[x.jsx("h2",{style:{fontSize:20,fontWeight:600,marginBottom:16},children:"Cash & Liquidity"}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[x.jsx(u,{title:"Cash Balance",value:r.cash.balance,color:"#10B981"}),x.jsx(u,{title:"Accounts Receivable",value:r.ar.total,subtitle:`${r.ar.over60Pct.toFixed(1)}% over 60 days`,color:"#F59E0B"}),x.jsx(u,{title:"Accounts Payable",value:r.ap.total,color:"#EF4444"})]})]}),x.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"1px solid #E5E7EB",borderRadius:12,padding:24,color:"white"},children:[x.jsx("h2",{style:{fontSize:20,fontWeight:600,marginBottom:12},children:" Company Health Score"}),x.jsxs("div",{style:{fontSize:48,fontWeight:700,marginBottom:8},children:[uI(r),"/100"]}),x.jsx("div",{style:{fontSize:16,opacity:.9},children:X2e(uI(r))})]})]})}function uI(t){let e=0;if(t.revenue.netIncome>0){const a=t.revenue.totalIncome>0?t.revenue.netIncome/t.revenue.totalIncome*100:0;e+=Math.min(30,a*3)}const r=t.ap.total>0?t.cash.balance/t.ap.total:1;e+=Math.min(25,r*25);const n=Math.max(0,25-t.ar.over60Pct*.5);return e+=n,e+=Math.min(20,t.revenue.grossMarginPct*.5),Math.round(Math.min(100,e))}function X2e(t){return t>=80?" Excellent: Strong financials across all metrics":t>=65?" Good: Solid performance with room for improvement":t>=50?" Fair: Some areas need attention":" Needs Improvement: Review key metrics closely"}function Y2e(){var i;const[t,e]=U.useState(!0),[r,n]=U.useState([]);U.useEffect(()=>{a()},[]);async function a(){try{const{data:s,error:o}=await be.from("financial_imports").select("*").eq("type","profit_loss").order("period",{ascending:!0});if(o)throw o;const{data:l,error:c}=await be.from("financial_imports").select("*").eq("type","balance_sheet").order("period",{ascending:!0});if(c)throw c;const u={};s==null||s.forEach(h=>{var d,g,p;u[h.period]||(u[h.period]={period:h.period}),u[h.period].revenue=((d=h.summary)==null?void 0:d.totalIncome)||0,u[h.period].netIncome=((g=h.summary)==null?void 0:g.netIncome)||0,u[h.period].grossMargin=((p=h.summary)==null?void 0:p.grossMarginPct)||0}),l==null||l.forEach(h=>{var d,g,p;u[h.period]||(u[h.period]={period:h.period}),u[h.period].cash=((d=h.summary)==null?void 0:d.cash)||0,u[h.period].ar=((g=h.summary)==null?void 0:g.accountsReceivable)||0,u[h.period].ap=((p=h.summary)==null?void 0:p.accountsPayable)||0});const f=Object.values(u).sort((h,d)=>h.period.localeCompare(d.period));n(f)}catch(s){console.error("Error fetching trends:",s)}finally{e(!1)}}return t?x.jsx("div",{style:{padding:24,textAlign:"center"},children:x.jsx("div",{style:{fontSize:18},children:"Loading trends..."})}):r.length===0?x.jsxs("div",{style:{padding:24},children:[x.jsx("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:" Financial Trends"}),x.jsx("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:40,textAlign:"center",color:"#6B7280"},children:"No trend data available yet. Upload QuickBooks reports for multiple periods to see trends."})]}):x.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[x.jsx("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:" Financial Trends"}),x.jsx("p",{style:{color:"#6B7280",marginBottom:24},children:"Month-over-month trends from QuickBooks imports"}),x.jsx("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:24,overflowX:"auto"},children:x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[x.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:600},children:"Period"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"Revenue"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"Net Income"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"Gross Margin %"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"Cash"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"AR"}),x.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:600},children:"AP"})]})}),x.jsx("tbody",{children:r.map((s,o)=>x.jsxs("tr",{style:{borderBottom:o<r.length-1?"1px solid #F3F4F6":"none"},children:[x.jsx("td",{style:{padding:"12px 8px",fontWeight:500},children:s.period}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right"},children:s.revenue?`$${(s.revenue/1e3).toFixed(1)}k`:"-"}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:s.netIncome>=0?"#10B981":"#EF4444"},children:s.netIncome!==void 0?`$${(s.netIncome/1e3).toFixed(1)}k`:"-"}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right"},children:s.grossMargin!==void 0?`${s.grossMargin.toFixed(1)}%`:"-"}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right"},children:s.cash?`$${(s.cash/1e3).toFixed(1)}k`:"-"}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right"},children:s.ar?`$${(s.ar/1e3).toFixed(1)}k`:"-"}),x.jsx("td",{style:{padding:"12px 8px",textAlign:"right"},children:s.ap?`$${(s.ap/1e3).toFixed(1)}k`:"-"})]},s.period))})]})}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16,marginTop:24},children:[x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:20},children:[x.jsx("div",{style:{fontSize:14,color:"#6B7280",marginBottom:8},children:"Latest Period"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#3B82F6"},children:((i=r[r.length-1])==null?void 0:i.period)||"-"})]}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:20},children:[x.jsx("div",{style:{fontSize:14,color:"#6B7280",marginBottom:8},children:"Periods Tracked"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#10B981"},children:r.length})]}),x.jsxs("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:20},children:[x.jsx("div",{style:{fontSize:14,color:"#6B7280",marginBottom:8},children:"Avg Monthly Revenue"}),x.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#8B5CF6"},children:r.length>0?`$${(r.reduce((s,o)=>s+(o.revenue||0),0)/r.length/1e3).toFixed(1)}k`:"-"})]})]})]})}function V2e(){const[t,e]=U.useState("kpis"),r=[{key:"uploads",label:" Monthly Uploads",Component:U2e},{key:"kpis",label:" Financial KPIs",Component:H2e},{key:"trends",label:" Trends",Component:Y2e}],n=r.find(a=>a.key===t);return x.jsxs("div",{children:[x.jsx("div",{style:{borderBottom:"1px solid #E5E7EB",background:"white",position:"sticky",top:60,zIndex:10},children:x.jsx("div",{style:{maxWidth:1400,margin:"0 auto",padding:"0 24px",display:"flex",gap:8},children:r.map(a=>x.jsx("button",{onClick:()=>e(a.key),style:{padding:"16px 20px",border:"none",background:"transparent",cursor:"pointer",fontWeight:500,borderBottom:t===a.key?"2px solid #3B82F6":"2px solid transparent",color:t===a.key?"#3B82F6":"#6B7280"},children:a.label},a.key))})}),n&&x.jsx(n.Component,{})]})}const G3=6048e5,G2e=864e5,q3=6e4,K3=36e5,fI=Symbol.for("constructDateFrom");function ci(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&fI in t?t[fI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pn(t,e){return ci(e||t,t)}function q2e(t,e,r){const n=Pn(t,r==null?void 0:r.in);return isNaN(e)?ci(t,NaN):(e&&n.setDate(n.getDate()+e),n)}let K2e={};function r0(){return K2e}function Ui(t,e){var o,l,c,u;const r=r0(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pn(t,e==null?void 0:e.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function pm(t,e){return Ui(t,{...e,weekStartsOn:1})}function J3(t,e){const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=ci(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=pm(a),s=ci(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=pm(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function hI(t){const e=Pn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Kk(t,...e){const r=ci.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function pu(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function J2e(t,e,r){const[n,a]=Kk(r==null?void 0:r.in,t,e),i=pu(n),s=pu(a),o=+i-hI(i),l=+s-hI(s);return Math.round((o-l)/G2e)}function Z2e(t,e){const r=J3(t,e),n=ci(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),pm(n)}function Z3(t,e,r){return q2e(t,e*7,r)}function Q2e(t,e,r){const[n,a]=Kk(r==null?void 0:r.in,t,e);return+pu(n)==+pu(a)}function eAe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tAe(t){return!(!eAe(t)&&typeof t!="number"||isNaN(+Pn(t)))}function rAe(t,e){const[r,n]=Kk(t,e.start,e.end);return{start:r,end:n}}function dI(t,e){const{start:r,end:n}=rAe(e==null?void 0:e.in,t);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=i;)l.push(ci(r,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return a?l.reverse():l}function nAe(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function rp(t,e){var o,l,c,u;const r=r0(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pn(t,e==null?void 0:e.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const aAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iAe=(t,e,r)=>{let n;const a=aAe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ey(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const sAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cAe={date:Ey({formats:sAe,defaultWidth:"full"}),time:Ey({formats:oAe,defaultWidth:"full"}),dateTime:Ey({formats:lAe,defaultWidth:"full"})},uAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fAe=(t,e,r,n)=>uAe[t];function yf(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const hAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xAe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yAe={ordinalNumber:xAe,era:yf({values:hAe,defaultWidth:"wide"}),quarter:yf({values:dAe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yf({values:pAe,defaultWidth:"wide"}),day:yf({values:gAe,defaultWidth:"wide"}),dayPeriod:yf({values:mAe,defaultWidth:"wide",formattingValues:vAe,defaultFormattingWidth:"wide"})};function bf(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?wAe(o,f=>f.test(s)):bAe(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function bAe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function wAe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function SAe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(a.length);return{value:s,rest:o}}}const _Ae=/^(\d+)(th|st|nd|rd)?/i,kAe=/\d+/i,AAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EAe={any:[/^b/i,/^(a|c)/i]},TAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CAe={any:[/1/i,/2/i,/3/i,/4/i]},OAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MAe={ordinalNumber:SAe({matchPattern:_Ae,parsePattern:kAe,valueCallback:t=>parseInt(t,10)}),era:bf({matchPatterns:AAe,defaultMatchWidth:"wide",parsePatterns:EAe,defaultParseWidth:"any"}),quarter:bf({matchPatterns:TAe,defaultMatchWidth:"wide",parsePatterns:CAe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bf({matchPatterns:OAe,defaultMatchWidth:"wide",parsePatterns:PAe,defaultParseWidth:"any"}),day:bf({matchPatterns:IAe,defaultMatchWidth:"wide",parsePatterns:NAe,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:FAe,defaultMatchWidth:"any",parsePatterns:jAe,defaultParseWidth:"any"})},DAe={code:"en-US",formatDistance:iAe,formatLong:cAe,formatRelative:fAe,localize:yAe,match:MAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RAe(t,e){const r=Pn(t,e==null?void 0:e.in);return J2e(r,nAe(r))+1}function LAe(t,e){const r=Pn(t,e==null?void 0:e.in),n=+pm(r)-+Z2e(r);return Math.round(n/G3)+1}function Q3(t,e){var u,f,h,d;const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=r0(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(h=a.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,s=ci((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Ui(s,e),l=ci((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Ui(l,e);return+r>=+o?n+1:+r>=+c?n:n-1}function BAe(t,e){var o,l,c,u;const r=r0(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=Q3(t,e),i=ci((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ui(i,e)}function $Ae(t,e){const r=Pn(t,e==null?void 0:e.in),n=+Ui(r,e)-+BAe(r,e);return Math.round(n/G3)+1}function Ot(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ss={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ot(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ot(r+1,2)},d(t,e){return Ot(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ot(t.getHours()%12||12,e.length)},H(t,e){return Ot(t.getHours(),e.length)},m(t,e){return Ot(t.getMinutes(),e.length)},s(t,e){return Ot(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ot(a,e.length)}},ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ss.y(t,e)},Y:function(t,e,r,n){const a=Q3(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return Ot(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ot(i,e.length)},R:function(t,e){const r=J3(t);return Ot(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ot(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ss.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=$Ae(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ot(a,e.length)},I:function(t,e,r){const n=LAe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ss.d(t,e)},D:function(t,e,r){const n=RAe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ot(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ot(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=ql.noon:n===0?a=ql.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=ql.evening:n>=12?a=ql.afternoon:n>=4?a=ql.morning:a=ql.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ss.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ss.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ss.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ss.s(t,e)},S:function(t,e){return Ss.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mI(n);case"XXXX":case"XX":return Po(n);case"XXXXX":case"XXX":default:return Po(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return mI(n);case"xxxx":case"xx":return Po(n);case"xxxxx":case"xxx":default:return Po(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gI(n,":");case"OOOO":default:return"GMT"+Po(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gI(n,":");case"zzzz":default:return"GMT"+Po(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Ot(n,e.length)},T:function(t,e,r){return Ot(+t,e.length)}};function gI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ot(i,2)}function mI(t,e){return t%60===0?(t>0?"-":"+")+Ot(Math.abs(t)/60,2):Po(t,e)}function Po(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ot(Math.trunc(n/60),2),i=Ot(n%60,2);return r+a+e+i}const vI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},e6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zAe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return vI(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vI(n,e)).replace("{{time}}",e6(a,e))},WAe={p:e6,P:zAe},UAe=/^D+$/,HAe=/^Y+$/,XAe=["D","DD","YY","YYYY"];function YAe(t){return UAe.test(t)}function VAe(t){return HAe.test(t)}function GAe(t,e,r){const n=qAe(t,e,r);if(console.warn(n),XAe.includes(t))throw new RangeError(n)}function qAe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZAe=/^'([^]*?)'?$/,QAe=/''/g,eEe=/[a-zA-Z]/;function yl(t,e,r){var u,f,h,d;const n=r0(),a=n.locale??DAe,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??0,o=Pn(t,r==null?void 0:r.in);if(!tAe(o))throw new RangeError("Invalid time value");let l=e.match(JAe).map(g=>{const p=g[0];if(p==="p"||p==="P"){const m=WAe[p];return m(g,a.formatLong)}return g}).join("").match(KAe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:tEe(g)};if(pI[p])return{isToken:!0,value:g};if(p.match(eEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(g=>{if(!g.isToken)return g.value;const p=g.value;(VAe(p)||YAe(p))&&GAe(p,e,String(t));const m=pI[p[0]];return m(o,p,a.localize,c)}).join("")}function tEe(t){const e=t.match(ZAe);return e?e[1].replace(QAe,"'"):t}function gu(t,e){const r=()=>ci(e==null?void 0:e.in,NaN),a=iEe(t);let i;if(a.date){const c=sEe(a.date,2);i=oEe(c.restDateString,c.year)}if(!i||isNaN(+i))return r();const s=+i;let o=0,l;if(a.time&&(o=lEe(a.time),isNaN(o)))return r();if(a.timezone){if(l=cEe(a.timezone),isNaN(l))return r()}else{const c=new Date(s+o),u=Pn(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Pn(s+o+l,e==null?void 0:e.in)}const np={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iEe(t){const e={},r=t.split(np.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],np.timeZoneDelimiter.test(e.date)&&(e.date=t.split(np.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=np.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function sEe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function oEe(t,e){if(e===null)return new Date(NaN);const r=t.match(rEe);if(!r)return new Date(NaN);const n=!!r[4],a=wf(r[1]),i=wf(r[2])-1,s=wf(r[3]),o=wf(r[4]),l=wf(r[5])-1;if(n)return pEe(e,o,l)?uEe(e,o,l):new Date(NaN);{const c=new Date(0);return!hEe(e,i,s)||!dEe(e,a)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(a,s)),c)}}function wf(t){return t?parseInt(t):1}function lEe(t){const e=t.match(nEe);if(!e)return NaN;const r=Ty(e[1]),n=Ty(e[2]),a=Ty(e[3]);return gEe(r,n,a)?r*K3+n*q3+a*1e3:NaN}function Ty(t){return t&&parseFloat(t.replace(",","."))||0}function cEe(t){if(t==="Z")return 0;const e=t.match(aEe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return mEe(n,a)?r*(n*K3+a*q3):NaN}function uEe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const fEe=[31,null,31,30,31,30,31,31,30,31,30,31];function t6(t){return t%400===0||t%4===0&&t%100!==0}function hEe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(fEe[e]||(t6(t)?29:28))}function dEe(t,e){return e>=1&&e<=(t6(t)?366:365)}function pEe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function gEe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function mEe(t,e){return e>=0&&e<=59}function vEe(t,e,r){return Z3(t,-1,r)}async function xEe(t,e){var l;const{data:r}=await be.auth.getUser(),n=(l=r==null?void 0:r.user)==null?void 0:l.id;if(!n)throw new Error("Not authenticated");const a=t.toISOString().split("T")[0],i=e.toISOString().split("T")[0],{data:s,error:o}=await be.from("service_jobs").select("*").eq("created_by",n).gte("job_date",a).lte("job_date",i).order("scheduled_start_at",{ascending:!0,nullsLast:!0});if(o)throw console.error("Fetch service jobs error:",o),new Error(o.message||"Failed to fetch service jobs");return(s||[]).map(c=>({id:c.id,jobNumber:c.job_number,customer:c.customer_name||"",status:c.status||"unscheduled",jobType:c.job_description||"",scheduledStart:c.scheduled_start_at,scheduledEnd:null,technician:c.primary_tech||"",jobAmount:c.job_amount||0,dueAmount:c.due_amount||0,notes:"",address:c.address||"",jobDate:c.job_date,isEstimate:c.is_estimate||!1,estimateStatus:c.estimate_status||"",outcome:c.hcp_outcome||"",openValue:c.open_value||0,wonValue:c.won_value||0,lostValue:c.lost_value||0}))}const Jk={Yellow:{bg:"#FDD835",text:"#000000"},Tangerine:{bg:"#F4511E",text:"#FFFFFF"},Red:{bg:"#E53935",text:"#FFFFFF"},Flamingo:{bg:"#D81B60",text:"#FFFFFF"},Basil:{bg:"#0B8043",text:"#FFFFFF"},Blueberry:{bg:"#3F51B5",text:"#FFFFFF"},Lavender:{bg:"#8E24AA",text:"#FFFFFF"},Grape:{bg:"#9575CD",text:"#FFFFFF"},Graphite:{bg:"#616161",text:"#FFFFFF"}};function r6(t){const e=(t.status||"").toLowerCase(),r=(t.jobType||"").toLowerCase(),n=(t.notes||"").toLowerCase();return r.includes("leak")||n.includes("leak")?"Red":e.includes("in progress")||e.includes("in_progress")||e.includes("started")?"Yellow":e.includes("part")||e.includes("incomplete")||e.includes("inspection")?"Tangerine":n.includes("need info")||n.includes("needs info")||e.includes("needs info")?"Flamingo":r.includes("install")?"Blueberry":r.includes("service")||r.includes("call")||r.includes("pilot")?"Basil":(e.includes("completed")||e.includes("done"))&&!e.includes("paid")?"Lavender":e.includes("paid")||e.includes("billed")?"Grape":!t.scheduledStart||e.includes("unscheduled")?"Graphite":"Yellow"}function yEe(t,e){if(!t)return"";try{const r=typeof t=="string"?gu(t):t,n=yl(r,"h:mm a");if(e){const a=typeof e=="string"?gu(e):e;return`${n} - ${yl(a,"h:mm a")}`}return n}catch{return""}}function Ql(t){const e=typeof t=="number"?t:parseFloat((t==null?void 0:t.toString().replace(/[^0-9.-]/g,""))||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function bEe(){const t=[{color:"Yellow",label:"Started / Tech on site"},{color:"Tangerine",label:"Part ordered / Incomplete / Inspection"},{color:"Red",label:"Leak / Urgent"},{color:"Flamingo",label:"Need more info for billing"},{color:"Basil",label:"Service call / Light pilot"},{color:"Blueberry",label:"Installation job"},{color:"Lavender",label:"Complete, ready to bill"},{color:"Grape",label:"Billed, closed work order"},{color:"Graphite",label:"Unscheduled"}];return x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Color Legend"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:t.map(({color:e,label:r})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Jk[e].bg}}),x.jsx("span",{className:"text-xs text-gray-600",children:r})]},e))})]})}function wEe({job:t,onClose:e}){if(!t)return null;const r=r6(t),n=Jk[r];return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-[90vh] overflow-auto",onClick:a=>a.stopPropagation(),children:[x.jsx("div",{className:"border-b p-6 sticky top-0 bg-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold",children:["Job #",t.jobNumber]}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[x.jsx("span",{className:"uppercase tracking-wide",children:t.isEstimate?"Estimate":"Job"}),x.jsx("span",{children:""}),x.jsx("span",{children:t.jobType||"-"})]}),x.jsx("p",{className:"text-gray-600 mt-1",children:t.customer})]}),x.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]})}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),x.jsx("div",{className:"font-medium capitalize",children:t.status.replace(/_/g," ")||"-"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Scheduled"}),x.jsx("div",{className:"font-medium",children:t.scheduledStart?yl(gu(t.scheduledStart),"MMM d, yyyy h:mm a"):"-"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Technician"}),x.jsx("div",{className:"font-medium",children:t.technician||"-"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Job Amount"}),x.jsx("div",{className:"font-medium",children:Ql(t.jobAmount)})]}),!t.isEstimate&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Due Amount"}),x.jsx("div",{className:"font-medium",children:Ql(t.dueAmount)})]}),t.isEstimate&&t.outcome&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Outcome"}),x.jsx("div",{className:"font-medium capitalize",children:t.outcome})]}),t.isEstimate&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Open Value"}),x.jsx("div",{className:"font-medium",children:Ql(t.openValue)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Won Value"}),x.jsx("div",{className:"font-medium",children:Ql(t.wonValue)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Lost Value"}),x.jsx("div",{className:"font-medium",children:Ql(t.lostValue)})]})]}),t.address&&x.jsxs("div",{className:"col-span-2",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Address"}),x.jsx("div",{className:"font-medium",children:t.address})]}),x.jsxs("div",{className:"col-span-2",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Color"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.bg}}),x.jsx("span",{className:"font-medium",children:r})]})]})]}),t.notes&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Notes"}),x.jsx("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 whitespace-pre-wrap",children:t.notes})]})]}),x.jsx("div",{className:"border-t p-6 bg-gray-50 flex justify-end",children:x.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Close"})})]})})}function SEe({viewStart:t,viewEnd:e,onPrevWeek:r,onNextWeek:n,onToday:a}){return x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:" Prev Week"}),x.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Today"}),x.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next Week "})]}),x.jsxs("div",{className:"text-lg font-semibold",children:[yl(t,"MMM d")," - ",yl(e,"MMM d, yyyy")]})]})}function _Ee({day:t,jobs:e,onSelectJob:r}){const n=Q2e(t,new Date);return x.jsxs("div",{className:`border rounded-lg p-2 min-h-[200px] ${n?"bg-blue-50 border-blue-300":"bg-white"}`,children:[x.jsxs("div",{className:`text-xs font-semibold mb-2 ${n?"text-blue-700":"text-gray-600"}`,children:[yl(t,"EEE MM/dd"),n&&x.jsx("span",{className:"ml-1 text-xs",children:"(Today)"})]}),x.jsx("div",{className:"flex flex-col gap-1",children:e.map(a=>{const i=r6(a),s=Jk[i],o=a.isEstimate?"1px dashed rgba(0,0,0,0.35)":"1px solid transparent";return x.jsxs("button",{className:"w-full text-left rounded-md px-2 py-1 text-xs hover:opacity-80 transition-opacity shadow-sm",style:{backgroundColor:s.bg,color:s.text,border:o},onClick:()=>r(a),children:[x.jsxs("div",{className:"flex items-center justify-between gap-1",children:[x.jsx("div",{className:"font-semibold truncate",children:a.customer}),a.isEstimate&&x.jsx("span",{className:"ml-1 inline-flex items-center rounded-full border border-purple-700 bg-white/40 px-1.5 py-0.5 text-[10px] font-bold text-purple-800",children:"EST"})]}),x.jsx("div",{className:"truncate",children:a.jobType||a.status.replace(/_/g," ")}),x.jsx("div",{className:"opacity-80",children:yEe(a.scheduledStart,a.scheduledEnd)})]},a.id)})})]})}function kEe({jobs:t,searchTerm:e,onSelectJob:r}){const n=U.useMemo(()=>e.trim()?t.filter(i=>i.customer.toLowerCase().includes(e.toLowerCase())).sort((i,s)=>i.scheduledStart?s.scheduledStart?new Date(s.scheduledStart)-new Date(i.scheduledStart):-1:1):[],[t,e]);return!e.trim()||n.length===0?null:x.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-4",children:[x.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Customer History (",n.length," job",n.length!==1?"s":"",")"]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"bg-gray-50 border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Date"}),x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Job #"}),x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Job Type"}),x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Amount"}),x.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(a=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-3 py-2",children:a.scheduledStart?yl(gu(a.scheduledStart),"MMM d, yyyy"):"-"}),x.jsx("td",{className:"px-3 py-2 font-medium",children:a.jobNumber}),x.jsx("td",{className:"px-3 py-2",children:a.jobType||"-"}),x.jsx("td",{className:"px-3 py-2 capitalize",children:a.status.replace(/_/g," ")}),x.jsx("td",{className:"px-3 py-2",children:Ql(a.jobAmount)}),x.jsx("td",{className:"px-3 py-2",children:x.jsx("button",{onClick:()=>r(a),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"})})]},a.id))})]})})]})}function AEe(){const[t,e]=U.useState(()=>Ui(new Date,{weekStartsOn:0})),[r,n]=U.useState(()=>rp(new Date,{weekStartsOn:0})),[a,i]=U.useState([]),[s,o]=U.useState(!1),[l,c]=U.useState(null),[u,f]=U.useState(null),[h,d]=U.useState("all"),[g,p]=U.useState(""),[m,v]=U.useState("all");U.useEffect(()=>{async function E(){o(!0),c(null);try{const C=await xEe(t,r);i(C)}catch(C){console.error("[HcpSchedule] Error loading jobs:",C),c(C.message||"Failed to load jobs")}finally{o(!1)}}E()},[t,r]);const y=()=>{const E=vEe(t);e(Ui(E,{weekStartsOn:0})),n(rp(E,{weekStartsOn:0}))},b=()=>{const E=Z3(t,1);e(Ui(E,{weekStartsOn:0})),n(rp(E,{weekStartsOn:0}))},S=()=>{const E=new Date;e(Ui(E,{weekStartsOn:0})),n(rp(E,{weekStartsOn:0}))},w=U.useMemo(()=>{const E=new Set;return a.forEach(C=>{C.technician&&E.add(C.technician)}),Array.from(E).sort()},[a]),_=U.useMemo(()=>{let E=a;if(h!=="all"&&(E=E.filter(C=>C.technician===h)),g.trim()){const C=g.toLowerCase();E=E.filter(T=>T.customer.toLowerCase().includes(C)||T.jobNumber.toLowerCase().includes(C))}return m==="jobs"?E=E.filter(C=>!C.isEstimate):m==="estimates"&&(E=E.filter(C=>C.isEstimate)),E},[a,h,g,m]),k=U.useMemo(()=>{const E=dI({start:t,end:r}),C={};return E.forEach(T=>{C[T.toISOString()]=[]}),_.forEach(T=>{let O;if(T.scheduledStart)O=gu(T.scheduledStart);else if(T.jobDate)O=gu(T.jobDate);else return;const N=pu(O).toISOString();C[N]&&C[N].push(T)}),C},[t,r,_]),A=dI({start:t,end:r});return x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Schedule (HCP)"}),x.jsx("p",{className:"text-gray-600",children:"Weekly calendar view of service jobs"})]}),x.jsx(bEe,{}),x.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsx("input",{type:"text",value:g,onChange:E=>p(E.target.value),placeholder:"Search customer name or job number...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Technician:"}),x.jsxs("select",{value:h,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:"All Technicians"}),w.map(E=>x.jsx("option",{value:E,children:E},E))]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type:"}),x.jsxs("div",{className:"inline-flex gap-2 text-xs",children:[x.jsx("button",{onClick:()=>v("all"),className:`px-3 py-2 rounded-lg ${m==="all"?"bg-blue-600 text-white":"bg-white border border-gray-300"}`,children:"All"}),x.jsx("button",{onClick:()=>v("jobs"),className:`px-3 py-2 rounded-lg ${m==="jobs"?"bg-blue-600 text-white":"bg-white border border-gray-300"}`,children:"Jobs"}),x.jsx("button",{onClick:()=>v("estimates"),className:`px-3 py-2 rounded-lg ${m==="estimates"?"bg-blue-600 text-white":"bg-white border border-gray-300"}`,children:"Estimates"})]})]})]})}),l&&x.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4 mb-6",children:x.jsxs("p",{className:"text-red-800",children:[x.jsx("strong",{children:"Error:"})," ",l]})}),s&&x.jsx("div",{className:"text-center py-12",children:x.jsx("div",{className:"text-gray-500",children:"Loading schedule..."})}),!s&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[x.jsx(SEe,{viewStart:t,viewEnd:r,onPrevWeek:y,onNextWeek:b,onToday:S}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:A.map(E=>x.jsx(_Ee,{day:E,jobs:k[pu(E).toISOString()]||[],onSelectJob:f},E.toISOString()))})]}),x.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:x.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",x.jsx("strong",{children:_.length})," job",_.length!==1?"s":""," this week",h!=="all"&&` for ${h}`,g&&` matching "${g}"`]})}),x.jsx(kEe,{jobs:a,searchTerm:g,onSelectJob:f})]}),u&&x.jsx(wEe,{job:u,onClose:()=>f(null)})]})}class EEe extends ae.Component{constructor(e){super(e),this.state={err:null}}static getDerivedStateFromError(e){return{err:e}}componentDidCatch(e,r){console.error("Render error:",e,r)}render(){return this.state.err?x.jsxs("div",{style:{padding:24},children:[x.jsx("h2",{style:{marginTop:0},children:"Something went wrong."}),x.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(this.state.err)})]}):this.props.children}}function TEe(){const[t,e]=U.useState("user");return U.useEffect(()=>{let r=!1;async function n(){var i;try{const{data:s}=await be.auth.getUser(),o=(i=s==null?void 0:s.user)==null?void 0:i.id;if(!o)return;const{data:l}=await be.from("profiles").select("role").eq("id",o).maybeSingle();r||e(((l==null?void 0:l.role)||"user").toLowerCase())}catch{r||e("user")}}n();const{data:a}=be.auth.onAuthStateChange(()=>n());return()=>{var i,s;r=!0,(s=(i=a==null?void 0:a.subscription)==null?void 0:i.unsubscribe)==null||s.call(i)}},[]),x.jsxs("div",{style:{position:"fixed",right:16,bottom:16,background:"#111827",color:"white",padding:"6px 10px",borderRadius:8,fontSize:12,zIndex:9,boxShadow:"0 4px 16px rgba(0,0,0,0.2)"},children:["Role: ",t]})}function Io({children:t,fallback:e=null}){const[r,n]=U.useState(null);return U.useEffect(()=>{let a=!0;return(async()=>{var i;try{const{data:s}=await be.auth.getUser(),o=(i=s==null?void 0:s.user)==null?void 0:i.id;if(!o){a&&n(!1);return}const{data:l,error:c}=await be.from("profiles").select("role").eq("id",o).maybeSingle();if(!a)return;if(c){console.error("AdminOnly profile error:",c),n(!1);return}n(((l==null?void 0:l.role)||"").toLowerCase()==="admin")}catch{a&&n(!1)}})(),()=>{a=!1}},[]),r===null?null:r?x.jsx(x.Fragment,{children:t}):e}function CEe(){const[t,e]=U.useState(""),[r,n]=U.useState(!1),[a,i]=U.useState("");async function s(o){o.preventDefault(),i("");const l=window.__ENV&&window.__ENV.BASE_PATH||"/KPI-Dashboard",c=new URL(l+"/",window.location.href).href,{error:u}=await be.auth.signInWithOtp({email:t,options:{emailRedirectTo:c}});u?i(u.message):n(!0)}return x.jsx("div",{style:{minHeight:"100vh",display:"grid",placeItems:"center",background:"#F8FAFC"},children:x.jsxs("div",{style:{width:380,background:"#fff",border:"1px solid #E5E7EB",borderRadius:12,padding:24},children:[x.jsx("h2",{style:{marginTop:0},children:"Sign in"}),r?x.jsx("div",{children:x.jsx("p",{children:"We sent you a sign-in link. Open it on this device."})}):x.jsxs("form",{onSubmit:s,children:[x.jsx("label",{style:{display:"block",fontSize:12,color:"#6B7280",marginBottom:6},children:"Work email"}),x.jsx("input",{type:"email",required:!0,value:t,onChange:o=>e(o.target.value),placeholder:"you@company.com",style:{width:"100%",padding:"10px 12px",border:"1px solid #E5E7EB",borderRadius:8,marginBottom:12}}),!!a&&x.jsx("div",{style:{color:"#b91c1c",fontSize:12,marginBottom:8},children:a}),x.jsx("button",{type:"submit",style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #E5E7EB",background:"#111827",color:"white",cursor:"pointer"},children:"Send magic link"})]})]})})}function OEe({title:t,actions:e,children:r}){return x.jsxs("section",{style:{marginTop:24},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[x.jsx("h3",{style:{margin:0,fontSize:16},children:t}),x.jsx("div",{style:{marginLeft:"auto"},children:e})]}),x.jsx("div",{children:r})]})}function PEe({columns:t,rows:e,keyField:r}){return x.jsx("div",{style:{overflow:"auto",border:"1px solid #E5E7EB",borderRadius:12},children:x.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[x.jsx("thead",{children:x.jsx("tr",{style:{background:"#F3F4F6"},children:t.map(n=>x.jsx("th",{style:{textAlign:"left",padding:"10px 12px",fontSize:12,color:"#6B7280",borderBottom:"1px solid #E5E7EB"},children:n.label},n.key))})}),x.jsx("tbody",{children:e.map((n,a)=>x.jsx("tr",{style:{background:a%2?"#FAFAFA":"white"},children:t.map(i=>x.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #F3F4F6",fontSize:13},children:typeof i.render=="function"?i.render(n[i.key],n,a):n[i.key]},i.key))},n[r]??a))})]})})}const n6=ae.createContext(null),xI={propaneGallonsSold:428310,unleadedSalesCStores:1318550,offRoadDieselGallons:96440,newTanksSet:42,serviceRevenue:264900,customerCounts:[{state:"TX",residential:1240,commercial:310},{state:"NM",residential:460,commercial:120},{state:"OK",residential:380,commercial:95}]},yI="kpi-store-v1";function IEe({children:t}){const[e,r]=U.useState(()=>{try{const o=localStorage.getItem(yI);return o?JSON.parse(o):xI}catch{return xI}}),[n,a]=U.useState(!1);U.useEffect(()=>{try{localStorage.setItem(yI,JSON.stringify(e))}catch{}},[e]);const i=U.useCallback(o=>r(l=>({...l,...o})),[]),s={kpis:e,setKpis:r,update:i,editMode:n,setEditMode:a};return x.jsx(n6.Provider,{value:s,children:t})}function NEe(){const t=U.useContext(n6);if(!t)throw new Error("useKpis must be used within KPIProvider");return t}const bI=["Midland","Odessa","Lubbock","Abilene","San Angelo"],wI=["Diesel","Gasoline","DEF"],SI=["J. Carter","L. Nguyen","M. Patel","R. Gomez","S. Ali"],ji=(t,e)=>Math.round(t+Math.random()*(e-t)),FEe=(t,e)=>t+Math.random()*(e-t);function jEe(t=160){return Array.from({length:t},(e,r)=>{const n=ji(300,5e3),a=parseFloat(FEe(2.25,4.25).toFixed(2));return{id:r+1,date:new Date(2025,7,ji(1,30)).toISOString().slice(0,10),store:bI[ji(0,bI.length-1)],product:wI[ji(0,wI.length-1)],driver:SI[ji(0,SI.length-1)],gallons:n,price:a,amount:n*a,ticketId:"T-"+(1e3+r),status:["Delivered","Scheduled","Issue"][ji(0,2)],notes:ji(0,4)?"":"Call store on arrival"}})}function MEe(t){const e=new Map;return t.forEach(r=>{e.set(r.store,(e.get(r.store)||0)+r.amount)}),Array.from(e.entries()).map(([r,n],a)=>({id:a+1,invoiceNo:"INV-"+(5e3+a),store:r,total:n,status:["Open","Pending","Paid"][ji(0,2)],created:new Date(2025,7,ji(1,30)).toISOString().slice(0,10)}))}function DEe(){const[t]=U.useState(jEe(160)),e=U.useMemo(()=>MEe(t),[t]);return x.jsx("div",{style:{display:"grid",gap:16},children:x.jsx(OEe,{title:"Store Invoicing",children:x.jsx(PEe,{keyField:"id",columns:[{key:"invoiceNo",label:"Invoice"},{key:"store",label:"Store"},{key:"created",label:"Created"},{key:"status",label:"Status"},{key:"total",label:"Total",render:r=>"$"+r.toLocaleString(void 0,{maximumFractionDigits:0})}],rows:e})})})}const Rw=[{key:"dashboard",label:"Dashboard",adminOnly:!1,Component:h2e},{key:"financial",label:"Financial Health",adminOnly:!1,Component:V2e},{key:"cstores",label:"C-Stores (Gallons)",adminOnly:!1,Component:N2e},{key:"procedures",label:"Procedures",adminOnly:!1,Component:hz},{key:"billboard",label:"Billboard",adminOnly:!1,Component:A2e},{key:"graphs",label:"Graphs",adminOnly:!1,Component:B2e},{key:"hcpSchedule",label:"Schedule (HCP)",adminOnly:!1,Component:AEe},{key:"invoicing",label:"Store Invoicing",adminOnly:!0,Component:DEe},{key:"tickets",label:"Delivery Tickets",adminOnly:!0,Component:x_e},{key:"service",label:"Service Tracking",adminOnly:!0,Component:B_e},{key:"imports",label:"Imports Review",adminOnly:!0,Component:W2e}];function REe({session:t}){const[e,r]=U.useState(!1),n=Object.keys(localStorage).filter(s=>s.startsWith("sb-")).slice(0,5),a=window.__ENV&&window.__ENV.BASE_PATH||"/KPI-Dashboard",i=new URL(a+"/",window.location.href).href;return x.jsxs("div",{style:{position:"fixed",left:16,bottom:16,zIndex:9999},children:[x.jsxs("button",{onClick:()=>r(s=>!s),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #E5E7EB",background:e?"#111827":"white",color:e?"white":"#111827",cursor:"pointer"},children:[e?"Hide":"Show"," Debug"]}),e&&x.jsx("pre",{style:{marginTop:8,maxWidth:420,maxHeight:260,overflow:"auto",background:"white",border:"1px solid #E5E7EB",borderRadius:12,padding:12,fontSize:12},children:JSON.stringify({session:t!=null&&t.user?{id:t.user.id,email:t.user.email}:null,access_token:t!=null&&t.access_token?"[present]":null,expectedRedirect:i,path:window.location.pathname,hasSupabaseKeys:n.length>0,supabaseKeysPreview:n},null,2)})]})}function LEe(){const[t,e]=U.useState("dashboard"),[r,n]=U.useState(null),[a,i]=U.useState(!0),[s,o]=U.useState({operations:!0});function l(u){o(f=>({...f,[u]:!f[u]}))}if(U.useEffect(()=>{let u=!0;async function f(){try{const{data:d,error:g}=await be.auth.getSession();if(g&&console.error("getSession error:",g),!u)return;n((d==null?void 0:d.session)??null)}catch(d){if(console.error("Auth init threw:",d),!u)return;n(null)}finally{u&&i(!1)}}f();const{data:h}=be.auth.onAuthStateChange((d,g)=>{u&&(n(g),i(!1))});return()=>{var d,g;u=!1,(g=(d=h==null?void 0:h.subscription)==null?void 0:d.unsubscribe)==null||g.call(d)}},[]),U.useEffect(()=>{const u=h=>{var d;console.debug("[App] Navigating to imports tab, importId:",(d=h.detail)==null?void 0:d.importId),e("imports"),o(g=>({...g,operations:!0}))},f=()=>{console.debug("[App] Navigating to financial health tab"),e("financial")};return window.addEventListener("navigateToImports",u),window.addEventListener("navigateToFinancial",f),()=>{window.removeEventListener("navigateToImports",u),window.removeEventListener("navigateToFinancial",f)}},[]),a){const u=window.__ENV&&window.__ENV.BASE_PATH||"/KPI-Dashboard";return x.jsxs("div",{style:{padding:24},children:[x.jsx("div",{style:{fontSize:18,marginBottom:8},children:"Restoring session"}),x.jsxs("div",{style:{fontSize:13,color:"#6B7280"},children:["If this never finishes, try ",x.jsx("a",{href:new URL(u+"/",window.location.href).href,children:"reloading"}),"."]})]})}if(!r)return x.jsx(CEe,{});const c=Rw.find(u=>u.key===t)||Rw[0];return x.jsx(EEe,{children:x.jsxs(IEe,{children:[x.jsx(BEe,{}),x.jsx(TEe,{}),x.jsx(REe,{session:r}),x.jsx($Ee,{active:t,setActive:e,groupsOpen:s,toggleGroup:l,Current:c})]})})}function BEe(){const{editMode:t,setEditMode:e}=NEe();return x.jsx("header",{style:{padding:"16px 24px",borderBottom:"1px solid #E5E7EB",background:"white",position:"sticky",top:0,zIndex:5},children:x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[x.jsx("h1",{style:{margin:0,fontSize:20},children:"Gibson Oil & Gas  KPI Dashboard"}),x.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[x.jsx(Io,{fallback:null,children:x.jsx("button",{onClick:()=>e(!t),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #E5E7EB",background:t?"#111827":"white",color:t?"white":"#111827",cursor:"pointer"},title:"Toggle edit mode for manual KPI updates",children:t?"Editing KPIs":"Edit KPIs"})}),x.jsx("button",{onClick:async()=>{await be.auth.signOut(),window.location.reload()},style:{padding:"8px 10px",borderRadius:8,border:"1px solid #E5E7EB",background:"white",cursor:"pointer"},children:"Sign out"})]})]})})}function $Ee({active:t,setActive:e,groupsOpen:r,toggleGroup:n,Current:a}){return x.jsxs("div",{style:{display:"flex",background:"#F8FAFC",minHeight:"calc(100vh - 60px)"},children:[x.jsx("aside",{style:{width:260,borderRight:"1px solid #E5E7EB",background:"white",minHeight:"calc(100vh - 60px)",position:"sticky",top:60,alignSelf:"flex-start"},children:x.jsxs("nav",{style:{padding:12},children:[["dashboard","financial","cstores","procedures","billboard","graphs","hcpSchedule"].map(i=>{const s=Rw.find(l=>l.key===i);if(!s)return null;const o=a.key===s.key;return x.jsx("button",{onClick:()=>e(s.key),style:{display:"block",width:"100%",textAlign:"left",padding:"10px 12px",marginBottom:6,borderRadius:8,border:"1px solid #E5E7EB",background:o?"#EEF2FF":"white",cursor:"pointer",fontWeight:500},children:s.label},s.key)}),x.jsx("div",{style:{marginTop:10,marginBottom:6,fontSize:12,color:"#6B7280"},children:"GROUP"}),x.jsxs("div",{style:{border:"1px solid #E5E7EB",borderRadius:10,overflow:"hidden",background:"white"},children:[x.jsxs("button",{onClick:()=>n("operations"),style:{display:"flex",gap:8,alignItems:"center",width:"100%",padding:"10px 12px",border:"none",background:"white",cursor:"pointer",fontWeight:600},children:[x.jsx("span",{style:{display:"inline-block",width:18,textAlign:"center",transform:r.operations?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.15s ease"}}),"Operations"]}),r.operations&&x.jsxs("div",{style:{borderTop:"1px solid #F3F4F6",padding:8},children:[x.jsx(Io,{fallback:null,children:x.jsx("button",{onClick:()=>e("invoicing"),style:{display:"block",width:"100%",textAlign:"left",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB",background:a.key==="invoicing"?"#EEF2FF":"white",cursor:"pointer",fontWeight:500,marginBottom:6},children:"Store Invoicing "})}),x.jsx(Io,{fallback:null,children:x.jsx("button",{onClick:()=>e("tickets"),style:{display:"block",width:"100%",textAlign:"left",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB",background:a.key==="tickets"?"#EEF2FF":"white",cursor:"pointer",fontWeight:500,marginBottom:6},children:"Delivery Tickets "})}),x.jsx(Io,{fallback:null,children:x.jsx("button",{onClick:()=>e("service"),style:{display:"block",width:"100%",textAlign:"left",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB",background:a.key==="service"?"#EEF2FF":"white",cursor:"pointer",fontWeight:500,marginBottom:6},children:"Service Tracking "})}),x.jsx(Io,{fallback:null,children:x.jsx("button",{"data-tab-key":"imports",onClick:()=>e("imports"),style:{display:"block",width:"100%",textAlign:"left",padding:"8px 12px",borderRadius:8,border:"1px solid #E5E7EB",background:a.key==="imports"?"#EEF2FF":"white",cursor:"pointer",fontWeight:500},children:"Imports Review "})}),x.jsx(Io,{fallback:x.jsx("div",{style:{fontSize:12,color:"#6B7280",padding:"6px 12px"},children:"Admin-only tools live here."}),children:null})]})]})]})}),x.jsx("main",{style:{flex:1,padding:24},children:a.adminOnly?x.jsx(Io,{fallback:x.jsx("div",{children:"Admins only."}),children:x.jsx(a.Component,{})}):x.jsx(a.Component,{})})]})}function zEe(){const[t,e]=ae.useState("password"),[r,n]=ae.useState(""),[a,i]=ae.useState(""),[s,o]=ae.useState(!1),[l,c]=ae.useState("");async function u(d){d.preventDefault(),o(!0),c("");const{error:g}=await be.auth.signInWithPassword({email:r,password:a});o(!1),g?c(g.message):window.location.reload()}async function f(d){d.preventDefault(),o(!0),c("");const{error:g}=await be.auth.signUp({email:r,password:a});o(!1),c(g?g.message:"Check your email to confirm your account, then sign in.")}async function h(d){d.preventDefault(),o(!0),c("");const{error:g}=await be.auth.signInWithOtp({email:r});o(!1),c(g?g.message:"Magic link sent. Check your email.")}return x.jsxs("div",{style:{width:360,padding:24,border:"1px solid #e5e7eb",borderRadius:12,background:"white",boxShadow:"0 10px 30px rgba(0,0,0,0.08)"},children:[x.jsx("h2",{style:{marginTop:0,marginBottom:12},children:"Sign in"}),x.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16},children:[x.jsx("button",{onClick:()=>e("password"),style:{flex:1,padding:8,borderRadius:8,border:"1px solid #d1d5db",background:t==="password"?"#111827":"white",color:t==="password"?"white":"black",cursor:"pointer"},children:"Email + Password"}),x.jsx("button",{onClick:()=>e("magic"),style:{flex:1,padding:8,borderRadius:8,border:"1px solid #d1d5db",background:t==="magic"?"#111827":"white",color:t==="magic"?"white":"black",cursor:"pointer"},children:"Magic Link"})]}),t==="password"?x.jsxs("form",{onSubmit:u,children:[x.jsx("label",{children:"Email"}),x.jsx("input",{type:"email",required:!0,value:r,onChange:d=>n(d.target.value),style:Cy}),x.jsx("label",{children:"Password"}),x.jsx("input",{type:"password",required:!0,value:a,onChange:d=>i(d.target.value),style:Cy}),x.jsxs("div",{style:{display:"flex",gap:8},children:[x.jsx("button",{type:"submit",disabled:s,style:_I,children:s?"Signing in":"Sign in"}),x.jsx("button",{onClick:f,disabled:s,style:WEe,children:"Create account"})]})]}):x.jsxs("form",{onSubmit:h,children:[x.jsx("label",{children:"Email"}),x.jsx("input",{type:"email",required:!0,value:r,onChange:d=>n(d.target.value),style:Cy}),x.jsx("button",{type:"submit",disabled:s,style:_I,children:s?"Sending":"Send magic link"})]}),l&&x.jsx("p",{style:{marginTop:12,color:"#b91c1c"},children:l})]})}const Cy={width:"100%",padding:10,border:"1px solid #d1d5db",borderRadius:8,marginBottom:12},_I={flex:1,padding:10,background:"#111827",color:"white",border:"1px solid #111827",borderRadius:8,cursor:"pointer"},WEe={flex:1,padding:10,background:"white",color:"black",border:"1px solid #d1d5db",borderRadius:8,cursor:"pointer"};function UEe({children:t}){const[e,r]=ae.useState("checking");return ae.useEffect(()=>{let n=!0;async function a(){const{data:s,error:o}=await be.auth.getSession();if(n){if(console.log("[AuthGate] getSession:",{data:s,error:o}),o){r("signed-out");return}r(s!=null&&s.session?"signed-in":"signed-out")}}a();const{data:{subscription:i}}=be.auth.onAuthStateChange((s,o)=>{n&&(console.log("[AuthGate] onAuthStateChange:",{session:o}),r(o?"signed-in":"signed-out"))});return()=>{n=!1,i.unsubscribe()}},[]),e==="checking"?x.jsx("div",{style:{padding:24},children:x.jsx("p",{children:"Checking sign-in"})}):e==="signed-out"?x.jsx("div",{style:{minHeight:"100vh",display:"grid",placeItems:"center"},children:x.jsx(zEe,{})}):x.jsx(x.Fragment,{children:t})}function HEe(){const[t,e]=ae.useState("");ae.useEffect(()=>{let n=!0;be.auth.getUser().then(({data:i})=>{var s;n&&e(((s=i==null?void 0:i.user)==null?void 0:s.email)||"")});const{data:{subscription:a}}=be.auth.onAuthStateChange((i,s)=>{var o;e(((o=s==null?void 0:s.user)==null?void 0:o.email)||"")});return()=>{n=!1,a.unsubscribe()}},[]);async function r(){await be.auth.signOut(),window.location.reload()}return x.jsxs("div",{className:"app-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1.5rem",fontSize:"0.875rem"},children:[x.jsx("div",{style:{fontWeight:600,fontSize:"1rem"},children:"Gibson Oil & Gas  KPI Dashboard"}),x.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[x.jsx("span",{style:{opacity:.8},children:t?`Signed in as ${t}`:"Not signed in"}),x.jsx("button",{onClick:r,className:"btn btn-sm secondary",children:"Sign out"})]})]})}Oy.createRoot(document.getElementById("root")).render(x.jsx(ae.StrictMode,{children:x.jsxs(UEe,{children:[x.jsx(HEe,{}),x.jsx(LEe,{})]})}));
//# sourceMappingURL=index-BXFwbk6U.js.map
